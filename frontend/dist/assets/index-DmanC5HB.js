(function(){const l=document.createElement("link").relList;if(l&&l.supports&&l.supports("modulepreload"))return;for(const d of document.querySelectorAll('link[rel="modulepreload"]'))c(d);new MutationObserver(d=>{for(const m of d)if(m.type==="childList")for(const f of m.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&c(f)}).observe(document,{childList:!0,subtree:!0});function o(d){const m={};return d.integrity&&(m.integrity=d.integrity),d.referrerPolicy&&(m.referrerPolicy=d.referrerPolicy),d.crossOrigin==="use-credentials"?m.credentials="include":d.crossOrigin==="anonymous"?m.credentials="omit":m.credentials="same-origin",m}function c(d){if(d.ep)return;d.ep=!0;const m=o(d);fetch(d.href,m)}})();function Gp(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var ti={exports:{}},vs={},ri={exports:{}},Ne={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sd;function Jp(){if(Sd)return Ne;Sd=1;var s=Symbol.for("react.element"),l=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),c=Symbol.for("react.strict_mode"),d=Symbol.for("react.profiler"),m=Symbol.for("react.provider"),f=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),j=Symbol.iterator;function T(N){return N===null||typeof N!="object"?null:(N=j&&N[j]||N["@@iterator"],typeof N=="function"?N:null)}var D={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,L={};function b(N,R,E){this.props=N,this.context=R,this.refs=L,this.updater=E||D}b.prototype.isReactComponent={},b.prototype.setState=function(N,R){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,R,"setState")},b.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function P(){}P.prototype=b.prototype;function _(N,R,E){this.props=N,this.context=R,this.refs=L,this.updater=E||D}var H=_.prototype=new P;H.constructor=_,k(H,b.prototype),H.isPureReactComponent=!0;var V=Array.isArray,W=Object.prototype.hasOwnProperty,F={current:null},J={key:!0,ref:!0,__self:!0,__source:!0};function re(N,R,E){var M,ne={},pe=null,Ce=null;if(R!=null)for(M in R.ref!==void 0&&(Ce=R.ref),R.key!==void 0&&(pe=""+R.key),R)W.call(R,M)&&!J.hasOwnProperty(M)&&(ne[M]=R[M]);var be=arguments.length-2;if(be===1)ne.children=E;else if(1<be){for(var I=Array(be),xe=0;xe<be;xe++)I[xe]=arguments[xe+2];ne.children=I}if(N&&N.defaultProps)for(M in be=N.defaultProps,be)ne[M]===void 0&&(ne[M]=be[M]);return{$$typeof:s,type:N,key:pe,ref:Ce,props:ne,_owner:F.current}}function B(N,R){return{$$typeof:s,type:N.type,key:R,ref:N.ref,props:N.props,_owner:N._owner}}function ee(N){return typeof N=="object"&&N!==null&&N.$$typeof===s}function ce(N){var R={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(E){return R[E]})}var je=/\/+/g;function Ee(N,R){return typeof N=="object"&&N!==null&&N.key!=null?ce(""+N.key):R.toString(36)}function te(N,R,E,M,ne){var pe=typeof N;(pe==="undefined"||pe==="boolean")&&(N=null);var Ce=!1;if(N===null)Ce=!0;else switch(pe){case"string":case"number":Ce=!0;break;case"object":switch(N.$$typeof){case s:case l:Ce=!0}}if(Ce)return Ce=N,ne=ne(Ce),N=M===""?"."+Ee(Ce,0):M,V(ne)?(E="",N!=null&&(E=N.replace(je,"$&/")+"/"),te(ne,R,E,"",function(xe){return xe})):ne!=null&&(ee(ne)&&(ne=B(ne,E+(!ne.key||Ce&&Ce.key===ne.key?"":(""+ne.key).replace(je,"$&/")+"/")+N)),R.push(ne)),1;if(Ce=0,M=M===""?".":M+":",V(N))for(var be=0;be<N.length;be++){pe=N[be];var I=M+Ee(pe,be);Ce+=te(pe,R,E,I,ne)}else if(I=T(N),typeof I=="function")for(N=I.call(N),be=0;!(pe=N.next()).done;)pe=pe.value,I=M+Ee(pe,be++),Ce+=te(pe,R,E,I,ne);else if(pe==="object")throw R=String(N),Error("Objects are not valid as a React child (found: "+(R==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":R)+"). If you meant to render a collection of children, use an array instead.");return Ce}function ye(N,R,E){if(N==null)return N;var M=[],ne=0;return te(N,M,"","",function(pe){return R.call(E,pe,ne++)}),M}function we(N){if(N._status===-1){var R=N._result;R=R(),R.then(function(E){(N._status===0||N._status===-1)&&(N._status=1,N._result=E)},function(E){(N._status===0||N._status===-1)&&(N._status=2,N._result=E)}),N._status===-1&&(N._status=0,N._result=R)}if(N._status===1)return N._result.default;throw N._result}var X={current:null},q={transition:null},U={ReactCurrentDispatcher:X,ReactCurrentBatchConfig:q,ReactCurrentOwner:F};function Q(){throw Error("act(...) is not supported in production builds of React.")}return Ne.Children={map:ye,forEach:function(N,R,E){ye(N,function(){R.apply(this,arguments)},E)},count:function(N){var R=0;return ye(N,function(){R++}),R},toArray:function(N){return ye(N,function(R){return R})||[]},only:function(N){if(!ee(N))throw Error("React.Children.only expected to receive a single React element child.");return N}},Ne.Component=b,Ne.Fragment=o,Ne.Profiler=d,Ne.PureComponent=_,Ne.StrictMode=c,Ne.Suspense=y,Ne.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=U,Ne.act=Q,Ne.cloneElement=function(N,R,E){if(N==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+N+".");var M=k({},N.props),ne=N.key,pe=N.ref,Ce=N._owner;if(R!=null){if(R.ref!==void 0&&(pe=R.ref,Ce=F.current),R.key!==void 0&&(ne=""+R.key),N.type&&N.type.defaultProps)var be=N.type.defaultProps;for(I in R)W.call(R,I)&&!J.hasOwnProperty(I)&&(M[I]=R[I]===void 0&&be!==void 0?be[I]:R[I])}var I=arguments.length-2;if(I===1)M.children=E;else if(1<I){be=Array(I);for(var xe=0;xe<I;xe++)be[xe]=arguments[xe+2];M.children=be}return{$$typeof:s,type:N.type,key:ne,ref:pe,props:M,_owner:Ce}},Ne.createContext=function(N){return N={$$typeof:f,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},N.Provider={$$typeof:m,_context:N},N.Consumer=N},Ne.createElement=re,Ne.createFactory=function(N){var R=re.bind(null,N);return R.type=N,R},Ne.createRef=function(){return{current:null}},Ne.forwardRef=function(N){return{$$typeof:h,render:N}},Ne.isValidElement=ee,Ne.lazy=function(N){return{$$typeof:g,_payload:{_status:-1,_result:N},_init:we}},Ne.memo=function(N,R){return{$$typeof:v,type:N,compare:R===void 0?null:R}},Ne.startTransition=function(N){var R=q.transition;q.transition={};try{N()}finally{q.transition=R}},Ne.unstable_act=Q,Ne.useCallback=function(N,R){return X.current.useCallback(N,R)},Ne.useContext=function(N){return X.current.useContext(N)},Ne.useDebugValue=function(){},Ne.useDeferredValue=function(N){return X.current.useDeferredValue(N)},Ne.useEffect=function(N,R){return X.current.useEffect(N,R)},Ne.useId=function(){return X.current.useId()},Ne.useImperativeHandle=function(N,R,E){return X.current.useImperativeHandle(N,R,E)},Ne.useInsertionEffect=function(N,R){return X.current.useInsertionEffect(N,R)},Ne.useLayoutEffect=function(N,R){return X.current.useLayoutEffect(N,R)},Ne.useMemo=function(N,R){return X.current.useMemo(N,R)},Ne.useReducer=function(N,R,E){return X.current.useReducer(N,R,E)},Ne.useRef=function(N){return X.current.useRef(N)},Ne.useState=function(N){return X.current.useState(N)},Ne.useSyncExternalStore=function(N,R,E){return X.current.useSyncExternalStore(N,R,E)},Ne.useTransition=function(){return X.current.useTransition()},Ne.version="18.3.1",Ne}var Cd;function vi(){return Cd||(Cd=1,ri.exports=Jp()),ri.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ed;function Xp(){if(Ed)return vs;Ed=1;var s=vi(),l=Symbol.for("react.element"),o=Symbol.for("react.fragment"),c=Object.prototype.hasOwnProperty,d=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,m={key:!0,ref:!0,__self:!0,__source:!0};function f(h,y,v){var g,j={},T=null,D=null;v!==void 0&&(T=""+v),y.key!==void 0&&(T=""+y.key),y.ref!==void 0&&(D=y.ref);for(g in y)c.call(y,g)&&!m.hasOwnProperty(g)&&(j[g]=y[g]);if(h&&h.defaultProps)for(g in y=h.defaultProps,y)j[g]===void 0&&(j[g]=y[g]);return{$$typeof:l,type:h,key:T,ref:D,props:j,_owner:d.current}}return vs.Fragment=o,vs.jsx=f,vs.jsxs=f,vs}var _d;function Zp(){return _d||(_d=1,ti.exports=Xp()),ti.exports}var r=Zp(),x=vi();const lm=Gp(x);var $a={},ni={exports:{}},dt={},si={exports:{}},ai={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pd;function eh(){return Pd||(Pd=1,(function(s){function l(q,U){var Q=q.length;q.push(U);e:for(;0<Q;){var N=Q-1>>>1,R=q[N];if(0<d(R,U))q[N]=U,q[Q]=R,Q=N;else break e}}function o(q){return q.length===0?null:q[0]}function c(q){if(q.length===0)return null;var U=q[0],Q=q.pop();if(Q!==U){q[0]=Q;e:for(var N=0,R=q.length,E=R>>>1;N<E;){var M=2*(N+1)-1,ne=q[M],pe=M+1,Ce=q[pe];if(0>d(ne,Q))pe<R&&0>d(Ce,ne)?(q[N]=Ce,q[pe]=Q,N=pe):(q[N]=ne,q[M]=Q,N=M);else if(pe<R&&0>d(Ce,Q))q[N]=Ce,q[pe]=Q,N=pe;else break e}}return U}function d(q,U){var Q=q.sortIndex-U.sortIndex;return Q!==0?Q:q.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var m=performance;s.unstable_now=function(){return m.now()}}else{var f=Date,h=f.now();s.unstable_now=function(){return f.now()-h}}var y=[],v=[],g=1,j=null,T=3,D=!1,k=!1,L=!1,b=typeof setTimeout=="function"?setTimeout:null,P=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function H(q){for(var U=o(v);U!==null;){if(U.callback===null)c(v);else if(U.startTime<=q)c(v),U.sortIndex=U.expirationTime,l(y,U);else break;U=o(v)}}function V(q){if(L=!1,H(q),!k)if(o(y)!==null)k=!0,we(W);else{var U=o(v);U!==null&&X(V,U.startTime-q)}}function W(q,U){k=!1,L&&(L=!1,P(re),re=-1),D=!0;var Q=T;try{for(H(U),j=o(y);j!==null&&(!(j.expirationTime>U)||q&&!ce());){var N=j.callback;if(typeof N=="function"){j.callback=null,T=j.priorityLevel;var R=N(j.expirationTime<=U);U=s.unstable_now(),typeof R=="function"?j.callback=R:j===o(y)&&c(y),H(U)}else c(y);j=o(y)}if(j!==null)var E=!0;else{var M=o(v);M!==null&&X(V,M.startTime-U),E=!1}return E}finally{j=null,T=Q,D=!1}}var F=!1,J=null,re=-1,B=5,ee=-1;function ce(){return!(s.unstable_now()-ee<B)}function je(){if(J!==null){var q=s.unstable_now();ee=q;var U=!0;try{U=J(!0,q)}finally{U?Ee():(F=!1,J=null)}}else F=!1}var Ee;if(typeof _=="function")Ee=function(){_(je)};else if(typeof MessageChannel<"u"){var te=new MessageChannel,ye=te.port2;te.port1.onmessage=je,Ee=function(){ye.postMessage(null)}}else Ee=function(){b(je,0)};function we(q){J=q,F||(F=!0,Ee())}function X(q,U){re=b(function(){q(s.unstable_now())},U)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(q){q.callback=null},s.unstable_continueExecution=function(){k||D||(k=!0,we(W))},s.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):B=0<q?Math.floor(1e3/q):5},s.unstable_getCurrentPriorityLevel=function(){return T},s.unstable_getFirstCallbackNode=function(){return o(y)},s.unstable_next=function(q){switch(T){case 1:case 2:case 3:var U=3;break;default:U=T}var Q=T;T=U;try{return q()}finally{T=Q}},s.unstable_pauseExecution=function(){},s.unstable_requestPaint=function(){},s.unstable_runWithPriority=function(q,U){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var Q=T;T=q;try{return U()}finally{T=Q}},s.unstable_scheduleCallback=function(q,U,Q){var N=s.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?N+Q:N):Q=N,q){case 1:var R=-1;break;case 2:R=250;break;case 5:R=1073741823;break;case 4:R=1e4;break;default:R=5e3}return R=Q+R,q={id:g++,callback:U,priorityLevel:q,startTime:Q,expirationTime:R,sortIndex:-1},Q>N?(q.sortIndex=Q,l(v,q),o(y)===null&&q===o(v)&&(L?(P(re),re=-1):L=!0,X(V,Q-N))):(q.sortIndex=R,l(y,q),k||D||(k=!0,we(W))),q},s.unstable_shouldYield=ce,s.unstable_wrapCallback=function(q){var U=T;return function(){var Q=T;T=U;try{return q.apply(this,arguments)}finally{T=Q}}}})(ai)),ai}var Rd;function th(){return Rd||(Rd=1,si.exports=eh()),si.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Td;function rh(){if(Td)return dt;Td=1;var s=vi(),l=th();function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var c=new Set,d={};function m(e,t){f(e,t),f(e+"Capture",t)}function f(e,t){for(d[e]=t,e=0;e<t.length;e++)c.add(t[e])}var h=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),y=Object.prototype.hasOwnProperty,v=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},j={};function T(e){return y.call(j,e)?!0:y.call(g,e)?!1:v.test(e)?j[e]=!0:(g[e]=!0,!1)}function D(e,t,n,a){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return a?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function k(e,t,n,a){if(t===null||typeof t>"u"||D(e,t,n,a))return!0;if(a)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function L(e,t,n,a,i,u,p){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=a,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=u,this.removeEmptyString=p}var b={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){b[e]=new L(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];b[t]=new L(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){b[e]=new L(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){b[e]=new L(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){b[e]=new L(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){b[e]=new L(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){b[e]=new L(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){b[e]=new L(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){b[e]=new L(e,5,!1,e.toLowerCase(),null,!1,!1)});var P=/[\-:]([a-z])/g;function _(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(P,_);b[t]=new L(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(P,_);b[t]=new L(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(P,_);b[t]=new L(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){b[e]=new L(e,1,!1,e.toLowerCase(),null,!1,!1)}),b.xlinkHref=new L("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){b[e]=new L(e,1,!1,e.toLowerCase(),null,!0,!0)});function H(e,t,n,a){var i=b.hasOwnProperty(t)?b[t]:null;(i!==null?i.type!==0:a||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(k(t,n,i,a)&&(n=null),a||i===null?T(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,a=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,a?e.setAttributeNS(a,t,n):e.setAttribute(t,n))))}var V=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,W=Symbol.for("react.element"),F=Symbol.for("react.portal"),J=Symbol.for("react.fragment"),re=Symbol.for("react.strict_mode"),B=Symbol.for("react.profiler"),ee=Symbol.for("react.provider"),ce=Symbol.for("react.context"),je=Symbol.for("react.forward_ref"),Ee=Symbol.for("react.suspense"),te=Symbol.for("react.suspense_list"),ye=Symbol.for("react.memo"),we=Symbol.for("react.lazy"),X=Symbol.for("react.offscreen"),q=Symbol.iterator;function U(e){return e===null||typeof e!="object"?null:(e=q&&e[q]||e["@@iterator"],typeof e=="function"?e:null)}var Q=Object.assign,N;function R(e){if(N===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);N=t&&t[1]||""}return`
`+N+e}var E=!1;function M(e,t){if(!e||E)return"";E=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(z){var a=z}Reflect.construct(e,[],t)}else{try{t.call()}catch(z){a=z}e.call(t.prototype)}else{try{throw Error()}catch(z){a=z}e()}}catch(z){if(z&&a&&typeof z.stack=="string"){for(var i=z.stack.split(`
`),u=a.stack.split(`
`),p=i.length-1,w=u.length-1;1<=p&&0<=w&&i[p]!==u[w];)w--;for(;1<=p&&0<=w;p--,w--)if(i[p]!==u[w]){if(p!==1||w!==1)do if(p--,w--,0>w||i[p]!==u[w]){var S=`
`+i[p].replace(" at new "," at ");return e.displayName&&S.includes("<anonymous>")&&(S=S.replace("<anonymous>",e.displayName)),S}while(1<=p&&0<=w);break}}}finally{E=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?R(e):""}function ne(e){switch(e.tag){case 5:return R(e.type);case 16:return R("Lazy");case 13:return R("Suspense");case 19:return R("SuspenseList");case 0:case 2:case 15:return e=M(e.type,!1),e;case 11:return e=M(e.type.render,!1),e;case 1:return e=M(e.type,!0),e;default:return""}}function pe(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case J:return"Fragment";case F:return"Portal";case B:return"Profiler";case re:return"StrictMode";case Ee:return"Suspense";case te:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case ce:return(e.displayName||"Context")+".Consumer";case ee:return(e._context.displayName||"Context")+".Provider";case je:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ye:return t=e.displayName||null,t!==null?t:pe(e.type)||"Memo";case we:t=e._payload,e=e._init;try{return pe(e(t))}catch{}}return null}function Ce(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return pe(t);case 8:return t===re?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function be(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function I(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function xe(e){var t=I(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),a=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,u=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(p){a=""+p,u.call(this,p)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return a},setValue:function(p){a=""+p},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function _e(e){e._valueTracker||(e._valueTracker=xe(e))}function Re(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),a="";return e&&(a=I(e)?e.checked?"true":"false":e.value),e=a,e!==n?(t.setValue(e),!0):!1}function Gt(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function bt(e,t){var n=t.checked;return Q({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Gr(e,t){var n=t.defaultValue==null?"":t.defaultValue,a=t.checked!=null?t.checked:t.defaultChecked;n=be(t.value!=null?t.value:n),e._wrapperState={initialChecked:a,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Ls(e,t){t=t.checked,t!=null&&H(e,"checked",t,!1)}function Jr(e,t){Ls(e,t);var n=be(t.value),a=t.type;if(n!=null)a==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(a==="submit"||a==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Mn(e,t.type,n):t.hasOwnProperty("defaultValue")&&Mn(e,t.type,be(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function ur(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var a=t.type;if(!(a!=="submit"&&a!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Mn(e,t,n){(t!=="number"||Gt(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var An=Array.isArray;function Xr(e,t,n,a){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&a&&(e[n].defaultSelected=!0)}else{for(n=""+be(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,a&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function ul(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(o(91));return Q({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Di(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(o(92));if(An(n)){if(1<n.length)throw Error(o(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:be(n)}}function Oi(e,t){var n=be(t.value),a=be(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),a!=null&&(e.defaultValue=""+a)}function Fi(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Ii(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function dl(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Ii(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ms,zi=(function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,a,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,a,i)})}:e})(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Ms=Ms||document.createElement("div"),Ms.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ms.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Dn(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var On={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Zm=["Webkit","ms","Moz","O"];Object.keys(On).forEach(function(e){Zm.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),On[t]=On[e]})});function Ui(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||On.hasOwnProperty(e)&&On[e]?(""+t).trim():t+"px"}function $i(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var a=n.indexOf("--")===0,i=Ui(n,t[n],a);n==="float"&&(n="cssFloat"),a?e.setProperty(n,i):e[n]=i}}var ef=Q({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ml(e,t){if(t){if(ef[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(o(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(o(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(t.style!=null&&typeof t.style!="object")throw Error(o(62))}}function fl(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var pl=null;function hl(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var xl=null,Zr=null,en=null;function Bi(e){if(e=ss(e)){if(typeof xl!="function")throw Error(o(280));var t=e.stateNode;t&&(t=ra(t),xl(e.stateNode,e.type,t))}}function Hi(e){Zr?en?en.push(e):en=[e]:Zr=e}function Vi(){if(Zr){var e=Zr,t=en;if(en=Zr=null,Bi(e),t)for(e=0;e<t.length;e++)Bi(t[e])}}function Wi(e,t){return e(t)}function qi(){}var gl=!1;function Ki(e,t,n){if(gl)return e(t,n);gl=!0;try{return Wi(e,t,n)}finally{gl=!1,(Zr!==null||en!==null)&&(qi(),Vi())}}function Fn(e,t){var n=e.stateNode;if(n===null)return null;var a=ra(n);if(a===null)return null;n=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(o(231,t,typeof n));return n}var yl=!1;if(h)try{var In={};Object.defineProperty(In,"passive",{get:function(){yl=!0}}),window.addEventListener("test",In,In),window.removeEventListener("test",In,In)}catch{yl=!1}function tf(e,t,n,a,i,u,p,w,S){var z=Array.prototype.slice.call(arguments,3);try{t.apply(n,z)}catch(Y){this.onError(Y)}}var zn=!1,As=null,Ds=!1,vl=null,rf={onError:function(e){zn=!0,As=e}};function nf(e,t,n,a,i,u,p,w,S){zn=!1,As=null,tf.apply(rf,arguments)}function sf(e,t,n,a,i,u,p,w,S){if(nf.apply(this,arguments),zn){if(zn){var z=As;zn=!1,As=null}else throw Error(o(198));Ds||(Ds=!0,vl=z)}}function Tr(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Yi(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Qi(e){if(Tr(e)!==e)throw Error(o(188))}function af(e){var t=e.alternate;if(!t){if(t=Tr(e),t===null)throw Error(o(188));return t!==e?null:e}for(var n=e,a=t;;){var i=n.return;if(i===null)break;var u=i.alternate;if(u===null){if(a=i.return,a!==null){n=a;continue}break}if(i.child===u.child){for(u=i.child;u;){if(u===n)return Qi(i),e;if(u===a)return Qi(i),t;u=u.sibling}throw Error(o(188))}if(n.return!==a.return)n=i,a=u;else{for(var p=!1,w=i.child;w;){if(w===n){p=!0,n=i,a=u;break}if(w===a){p=!0,a=i,n=u;break}w=w.sibling}if(!p){for(w=u.child;w;){if(w===n){p=!0,n=u,a=i;break}if(w===a){p=!0,a=u,n=i;break}w=w.sibling}if(!p)throw Error(o(189))}}if(n.alternate!==a)throw Error(o(190))}if(n.tag!==3)throw Error(o(188));return n.stateNode.current===n?e:t}function Gi(e){return e=af(e),e!==null?Ji(e):null}function Ji(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Ji(e);if(t!==null)return t;e=e.sibling}return null}var Xi=l.unstable_scheduleCallback,Zi=l.unstable_cancelCallback,lf=l.unstable_shouldYield,of=l.unstable_requestPaint,Ue=l.unstable_now,cf=l.unstable_getCurrentPriorityLevel,wl=l.unstable_ImmediatePriority,ec=l.unstable_UserBlockingPriority,Os=l.unstable_NormalPriority,uf=l.unstable_LowPriority,tc=l.unstable_IdlePriority,Fs=null,Ut=null;function df(e){if(Ut&&typeof Ut.onCommitFiberRoot=="function")try{Ut.onCommitFiberRoot(Fs,e,void 0,(e.current.flags&128)===128)}catch{}}var Pt=Math.clz32?Math.clz32:pf,mf=Math.log,ff=Math.LN2;function pf(e){return e>>>=0,e===0?32:31-(mf(e)/ff|0)|0}var Is=64,zs=4194304;function Un(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Us(e,t){var n=e.pendingLanes;if(n===0)return 0;var a=0,i=e.suspendedLanes,u=e.pingedLanes,p=n&268435455;if(p!==0){var w=p&~i;w!==0?a=Un(w):(u&=p,u!==0&&(a=Un(u)))}else p=n&~i,p!==0?a=Un(p):u!==0&&(a=Un(u));if(a===0)return 0;if(t!==0&&t!==a&&(t&i)===0&&(i=a&-a,u=t&-t,i>=u||i===16&&(u&4194240)!==0))return t;if((a&4)!==0&&(a|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=a;0<t;)n=31-Pt(t),i=1<<n,a|=e[n],t&=~i;return a}function hf(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function xf(e,t){for(var n=e.suspendedLanes,a=e.pingedLanes,i=e.expirationTimes,u=e.pendingLanes;0<u;){var p=31-Pt(u),w=1<<p,S=i[p];S===-1?((w&n)===0||(w&a)!==0)&&(i[p]=hf(w,t)):S<=t&&(e.expiredLanes|=w),u&=~w}}function bl(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function rc(){var e=Is;return Is<<=1,(Is&4194240)===0&&(Is=64),e}function jl(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function $n(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Pt(t),e[t]=n}function gf(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var a=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-Pt(n),u=1<<i;t[i]=0,a[i]=-1,e[i]=-1,n&=~u}}function Nl(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var a=31-Pt(n),i=1<<a;i&t|e[a]&t&&(e[a]|=t),n&=~i}}var Pe=0;function nc(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var sc,kl,ac,lc,oc,Sl=!1,$s=[],dr=null,mr=null,fr=null,Bn=new Map,Hn=new Map,pr=[],yf="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ic(e,t){switch(e){case"focusin":case"focusout":dr=null;break;case"dragenter":case"dragleave":mr=null;break;case"mouseover":case"mouseout":fr=null;break;case"pointerover":case"pointerout":Bn.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Hn.delete(t.pointerId)}}function Vn(e,t,n,a,i,u){return e===null||e.nativeEvent!==u?(e={blockedOn:t,domEventName:n,eventSystemFlags:a,nativeEvent:u,targetContainers:[i]},t!==null&&(t=ss(t),t!==null&&kl(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function vf(e,t,n,a,i){switch(t){case"focusin":return dr=Vn(dr,e,t,n,a,i),!0;case"dragenter":return mr=Vn(mr,e,t,n,a,i),!0;case"mouseover":return fr=Vn(fr,e,t,n,a,i),!0;case"pointerover":var u=i.pointerId;return Bn.set(u,Vn(Bn.get(u)||null,e,t,n,a,i)),!0;case"gotpointercapture":return u=i.pointerId,Hn.set(u,Vn(Hn.get(u)||null,e,t,n,a,i)),!0}return!1}function cc(e){var t=Lr(e.target);if(t!==null){var n=Tr(t);if(n!==null){if(t=n.tag,t===13){if(t=Yi(n),t!==null){e.blockedOn=t,oc(e.priority,function(){ac(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Bs(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=El(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var a=new n.constructor(n.type,n);pl=a,n.target.dispatchEvent(a),pl=null}else return t=ss(n),t!==null&&kl(t),e.blockedOn=n,!1;t.shift()}return!0}function uc(e,t,n){Bs(e)&&n.delete(t)}function wf(){Sl=!1,dr!==null&&Bs(dr)&&(dr=null),mr!==null&&Bs(mr)&&(mr=null),fr!==null&&Bs(fr)&&(fr=null),Bn.forEach(uc),Hn.forEach(uc)}function Wn(e,t){e.blockedOn===t&&(e.blockedOn=null,Sl||(Sl=!0,l.unstable_scheduleCallback(l.unstable_NormalPriority,wf)))}function qn(e){function t(i){return Wn(i,e)}if(0<$s.length){Wn($s[0],e);for(var n=1;n<$s.length;n++){var a=$s[n];a.blockedOn===e&&(a.blockedOn=null)}}for(dr!==null&&Wn(dr,e),mr!==null&&Wn(mr,e),fr!==null&&Wn(fr,e),Bn.forEach(t),Hn.forEach(t),n=0;n<pr.length;n++)a=pr[n],a.blockedOn===e&&(a.blockedOn=null);for(;0<pr.length&&(n=pr[0],n.blockedOn===null);)cc(n),n.blockedOn===null&&pr.shift()}var tn=V.ReactCurrentBatchConfig,Hs=!0;function bf(e,t,n,a){var i=Pe,u=tn.transition;tn.transition=null;try{Pe=1,Cl(e,t,n,a)}finally{Pe=i,tn.transition=u}}function jf(e,t,n,a){var i=Pe,u=tn.transition;tn.transition=null;try{Pe=4,Cl(e,t,n,a)}finally{Pe=i,tn.transition=u}}function Cl(e,t,n,a){if(Hs){var i=El(e,t,n,a);if(i===null)Vl(e,t,a,Vs,n),ic(e,a);else if(vf(i,e,t,n,a))a.stopPropagation();else if(ic(e,a),t&4&&-1<yf.indexOf(e)){for(;i!==null;){var u=ss(i);if(u!==null&&sc(u),u=El(e,t,n,a),u===null&&Vl(e,t,a,Vs,n),u===i)break;i=u}i!==null&&a.stopPropagation()}else Vl(e,t,a,null,n)}}var Vs=null;function El(e,t,n,a){if(Vs=null,e=hl(a),e=Lr(e),e!==null)if(t=Tr(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Yi(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Vs=e,null}function dc(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(cf()){case wl:return 1;case ec:return 4;case Os:case uf:return 16;case tc:return 536870912;default:return 16}default:return 16}}var hr=null,_l=null,Ws=null;function mc(){if(Ws)return Ws;var e,t=_l,n=t.length,a,i="value"in hr?hr.value:hr.textContent,u=i.length;for(e=0;e<n&&t[e]===i[e];e++);var p=n-e;for(a=1;a<=p&&t[n-a]===i[u-a];a++);return Ws=i.slice(e,1<a?1-a:void 0)}function qs(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ks(){return!0}function fc(){return!1}function ht(e){function t(n,a,i,u,p){this._reactName=n,this._targetInst=i,this.type=a,this.nativeEvent=u,this.target=p,this.currentTarget=null;for(var w in e)e.hasOwnProperty(w)&&(n=e[w],this[w]=n?n(u):u[w]);return this.isDefaultPrevented=(u.defaultPrevented!=null?u.defaultPrevented:u.returnValue===!1)?Ks:fc,this.isPropagationStopped=fc,this}return Q(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ks)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ks)},persist:function(){},isPersistent:Ks}),t}var rn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Pl=ht(rn),Kn=Q({},rn,{view:0,detail:0}),Nf=ht(Kn),Rl,Tl,Yn,Ys=Q({},Kn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ml,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Yn&&(Yn&&e.type==="mousemove"?(Rl=e.screenX-Yn.screenX,Tl=e.screenY-Yn.screenY):Tl=Rl=0,Yn=e),Rl)},movementY:function(e){return"movementY"in e?e.movementY:Tl}}),pc=ht(Ys),kf=Q({},Ys,{dataTransfer:0}),Sf=ht(kf),Cf=Q({},Kn,{relatedTarget:0}),Ll=ht(Cf),Ef=Q({},rn,{animationName:0,elapsedTime:0,pseudoElement:0}),_f=ht(Ef),Pf=Q({},rn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Rf=ht(Pf),Tf=Q({},rn,{data:0}),hc=ht(Tf),Lf={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Mf={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Af={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Df(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Af[e])?!!t[e]:!1}function Ml(){return Df}var Of=Q({},Kn,{key:function(e){if(e.key){var t=Lf[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=qs(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Mf[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ml,charCode:function(e){return e.type==="keypress"?qs(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?qs(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Ff=ht(Of),If=Q({},Ys,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),xc=ht(If),zf=Q({},Kn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ml}),Uf=ht(zf),$f=Q({},rn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Bf=ht($f),Hf=Q({},Ys,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Vf=ht(Hf),Wf=[9,13,27,32],Al=h&&"CompositionEvent"in window,Qn=null;h&&"documentMode"in document&&(Qn=document.documentMode);var qf=h&&"TextEvent"in window&&!Qn,gc=h&&(!Al||Qn&&8<Qn&&11>=Qn),yc=" ",vc=!1;function wc(e,t){switch(e){case"keyup":return Wf.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function bc(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var nn=!1;function Kf(e,t){switch(e){case"compositionend":return bc(t);case"keypress":return t.which!==32?null:(vc=!0,yc);case"textInput":return e=t.data,e===yc&&vc?null:e;default:return null}}function Yf(e,t){if(nn)return e==="compositionend"||!Al&&wc(e,t)?(e=mc(),Ws=_l=hr=null,nn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return gc&&t.locale!=="ko"?null:t.data;default:return null}}var Qf={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function jc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Qf[e.type]:t==="textarea"}function Nc(e,t,n,a){Hi(a),t=Zs(t,"onChange"),0<t.length&&(n=new Pl("onChange","change",null,n,a),e.push({event:n,listeners:t}))}var Gn=null,Jn=null;function Gf(e){$c(e,0)}function Qs(e){var t=cn(e);if(Re(t))return e}function Jf(e,t){if(e==="change")return t}var kc=!1;if(h){var Dl;if(h){var Ol="oninput"in document;if(!Ol){var Sc=document.createElement("div");Sc.setAttribute("oninput","return;"),Ol=typeof Sc.oninput=="function"}Dl=Ol}else Dl=!1;kc=Dl&&(!document.documentMode||9<document.documentMode)}function Cc(){Gn&&(Gn.detachEvent("onpropertychange",Ec),Jn=Gn=null)}function Ec(e){if(e.propertyName==="value"&&Qs(Jn)){var t=[];Nc(t,Jn,e,hl(e)),Ki(Gf,t)}}function Xf(e,t,n){e==="focusin"?(Cc(),Gn=t,Jn=n,Gn.attachEvent("onpropertychange",Ec)):e==="focusout"&&Cc()}function Zf(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Qs(Jn)}function ep(e,t){if(e==="click")return Qs(t)}function tp(e,t){if(e==="input"||e==="change")return Qs(t)}function rp(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Rt=typeof Object.is=="function"?Object.is:rp;function Xn(e,t){if(Rt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),a=Object.keys(t);if(n.length!==a.length)return!1;for(a=0;a<n.length;a++){var i=n[a];if(!y.call(t,i)||!Rt(e[i],t[i]))return!1}return!0}function _c(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Pc(e,t){var n=_c(e);e=0;for(var a;n;){if(n.nodeType===3){if(a=e+n.textContent.length,e<=t&&a>=t)return{node:n,offset:t-e};e=a}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=_c(n)}}function Rc(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Rc(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Tc(){for(var e=window,t=Gt();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Gt(e.document)}return t}function Fl(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function np(e){var t=Tc(),n=e.focusedElem,a=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Rc(n.ownerDocument.documentElement,n)){if(a!==null&&Fl(n)){if(t=a.start,e=a.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,u=Math.min(a.start,i);a=a.end===void 0?u:Math.min(a.end,i),!e.extend&&u>a&&(i=a,a=u,u=i),i=Pc(n,u);var p=Pc(n,a);i&&p&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==p.node||e.focusOffset!==p.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),u>a?(e.addRange(t),e.extend(p.node,p.offset)):(t.setEnd(p.node,p.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var sp=h&&"documentMode"in document&&11>=document.documentMode,sn=null,Il=null,Zn=null,zl=!1;function Lc(e,t,n){var a=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;zl||sn==null||sn!==Gt(a)||(a=sn,"selectionStart"in a&&Fl(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),Zn&&Xn(Zn,a)||(Zn=a,a=Zs(Il,"onSelect"),0<a.length&&(t=new Pl("onSelect","select",null,t,n),e.push({event:t,listeners:a}),t.target=sn)))}function Gs(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var an={animationend:Gs("Animation","AnimationEnd"),animationiteration:Gs("Animation","AnimationIteration"),animationstart:Gs("Animation","AnimationStart"),transitionend:Gs("Transition","TransitionEnd")},Ul={},Mc={};h&&(Mc=document.createElement("div").style,"AnimationEvent"in window||(delete an.animationend.animation,delete an.animationiteration.animation,delete an.animationstart.animation),"TransitionEvent"in window||delete an.transitionend.transition);function Js(e){if(Ul[e])return Ul[e];if(!an[e])return e;var t=an[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Mc)return Ul[e]=t[n];return e}var Ac=Js("animationend"),Dc=Js("animationiteration"),Oc=Js("animationstart"),Fc=Js("transitionend"),Ic=new Map,zc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function xr(e,t){Ic.set(e,t),m(t,[e])}for(var $l=0;$l<zc.length;$l++){var Bl=zc[$l],ap=Bl.toLowerCase(),lp=Bl[0].toUpperCase()+Bl.slice(1);xr(ap,"on"+lp)}xr(Ac,"onAnimationEnd"),xr(Dc,"onAnimationIteration"),xr(Oc,"onAnimationStart"),xr("dblclick","onDoubleClick"),xr("focusin","onFocus"),xr("focusout","onBlur"),xr(Fc,"onTransitionEnd"),f("onMouseEnter",["mouseout","mouseover"]),f("onMouseLeave",["mouseout","mouseover"]),f("onPointerEnter",["pointerout","pointerover"]),f("onPointerLeave",["pointerout","pointerover"]),m("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),m("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),m("onBeforeInput",["compositionend","keypress","textInput","paste"]),m("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),m("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),m("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var es="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),op=new Set("cancel close invalid load scroll toggle".split(" ").concat(es));function Uc(e,t,n){var a=e.type||"unknown-event";e.currentTarget=n,sf(a,t,void 0,e),e.currentTarget=null}function $c(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var a=e[n],i=a.event;a=a.listeners;e:{var u=void 0;if(t)for(var p=a.length-1;0<=p;p--){var w=a[p],S=w.instance,z=w.currentTarget;if(w=w.listener,S!==u&&i.isPropagationStopped())break e;Uc(i,w,z),u=S}else for(p=0;p<a.length;p++){if(w=a[p],S=w.instance,z=w.currentTarget,w=w.listener,S!==u&&i.isPropagationStopped())break e;Uc(i,w,z),u=S}}}if(Ds)throw e=vl,Ds=!1,vl=null,e}function Le(e,t){var n=t[Gl];n===void 0&&(n=t[Gl]=new Set);var a=e+"__bubble";n.has(a)||(Bc(t,e,2,!1),n.add(a))}function Hl(e,t,n){var a=0;t&&(a|=4),Bc(n,e,a,t)}var Xs="_reactListening"+Math.random().toString(36).slice(2);function ts(e){if(!e[Xs]){e[Xs]=!0,c.forEach(function(n){n!=="selectionchange"&&(op.has(n)||Hl(n,!1,e),Hl(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Xs]||(t[Xs]=!0,Hl("selectionchange",!1,t))}}function Bc(e,t,n,a){switch(dc(t)){case 1:var i=bf;break;case 4:i=jf;break;default:i=Cl}n=i.bind(null,t,n,e),i=void 0,!yl||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),a?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Vl(e,t,n,a,i){var u=a;if((t&1)===0&&(t&2)===0&&a!==null)e:for(;;){if(a===null)return;var p=a.tag;if(p===3||p===4){var w=a.stateNode.containerInfo;if(w===i||w.nodeType===8&&w.parentNode===i)break;if(p===4)for(p=a.return;p!==null;){var S=p.tag;if((S===3||S===4)&&(S=p.stateNode.containerInfo,S===i||S.nodeType===8&&S.parentNode===i))return;p=p.return}for(;w!==null;){if(p=Lr(w),p===null)return;if(S=p.tag,S===5||S===6){a=u=p;continue e}w=w.parentNode}}a=a.return}Ki(function(){var z=u,Y=hl(n),G=[];e:{var K=Ic.get(e);if(K!==void 0){var se=Pl,le=e;switch(e){case"keypress":if(qs(n)===0)break e;case"keydown":case"keyup":se=Ff;break;case"focusin":le="focus",se=Ll;break;case"focusout":le="blur",se=Ll;break;case"beforeblur":case"afterblur":se=Ll;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":se=pc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":se=Sf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":se=Uf;break;case Ac:case Dc:case Oc:se=_f;break;case Fc:se=Bf;break;case"scroll":se=Nf;break;case"wheel":se=Vf;break;case"copy":case"cut":case"paste":se=Rf;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":se=xc}var oe=(t&4)!==0,$e=!oe&&e==="scroll",A=oe?K!==null?K+"Capture":null:K;oe=[];for(var C=z,O;C!==null;){O=C;var Z=O.stateNode;if(O.tag===5&&Z!==null&&(O=Z,A!==null&&(Z=Fn(C,A),Z!=null&&oe.push(rs(C,Z,O)))),$e)break;C=C.return}0<oe.length&&(K=new se(K,le,null,n,Y),G.push({event:K,listeners:oe}))}}if((t&7)===0){e:{if(K=e==="mouseover"||e==="pointerover",se=e==="mouseout"||e==="pointerout",K&&n!==pl&&(le=n.relatedTarget||n.fromElement)&&(Lr(le)||le[Jt]))break e;if((se||K)&&(K=Y.window===Y?Y:(K=Y.ownerDocument)?K.defaultView||K.parentWindow:window,se?(le=n.relatedTarget||n.toElement,se=z,le=le?Lr(le):null,le!==null&&($e=Tr(le),le!==$e||le.tag!==5&&le.tag!==6)&&(le=null)):(se=null,le=z),se!==le)){if(oe=pc,Z="onMouseLeave",A="onMouseEnter",C="mouse",(e==="pointerout"||e==="pointerover")&&(oe=xc,Z="onPointerLeave",A="onPointerEnter",C="pointer"),$e=se==null?K:cn(se),O=le==null?K:cn(le),K=new oe(Z,C+"leave",se,n,Y),K.target=$e,K.relatedTarget=O,Z=null,Lr(Y)===z&&(oe=new oe(A,C+"enter",le,n,Y),oe.target=O,oe.relatedTarget=$e,Z=oe),$e=Z,se&&le)t:{for(oe=se,A=le,C=0,O=oe;O;O=ln(O))C++;for(O=0,Z=A;Z;Z=ln(Z))O++;for(;0<C-O;)oe=ln(oe),C--;for(;0<O-C;)A=ln(A),O--;for(;C--;){if(oe===A||A!==null&&oe===A.alternate)break t;oe=ln(oe),A=ln(A)}oe=null}else oe=null;se!==null&&Hc(G,K,se,oe,!1),le!==null&&$e!==null&&Hc(G,$e,le,oe,!0)}}e:{if(K=z?cn(z):window,se=K.nodeName&&K.nodeName.toLowerCase(),se==="select"||se==="input"&&K.type==="file")var ie=Jf;else if(jc(K))if(kc)ie=tp;else{ie=Zf;var de=Xf}else(se=K.nodeName)&&se.toLowerCase()==="input"&&(K.type==="checkbox"||K.type==="radio")&&(ie=ep);if(ie&&(ie=ie(e,z))){Nc(G,ie,n,Y);break e}de&&de(e,K,z),e==="focusout"&&(de=K._wrapperState)&&de.controlled&&K.type==="number"&&Mn(K,"number",K.value)}switch(de=z?cn(z):window,e){case"focusin":(jc(de)||de.contentEditable==="true")&&(sn=de,Il=z,Zn=null);break;case"focusout":Zn=Il=sn=null;break;case"mousedown":zl=!0;break;case"contextmenu":case"mouseup":case"dragend":zl=!1,Lc(G,n,Y);break;case"selectionchange":if(sp)break;case"keydown":case"keyup":Lc(G,n,Y)}var me;if(Al)e:{switch(e){case"compositionstart":var ge="onCompositionStart";break e;case"compositionend":ge="onCompositionEnd";break e;case"compositionupdate":ge="onCompositionUpdate";break e}ge=void 0}else nn?wc(e,n)&&(ge="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(ge="onCompositionStart");ge&&(gc&&n.locale!=="ko"&&(nn||ge!=="onCompositionStart"?ge==="onCompositionEnd"&&nn&&(me=mc()):(hr=Y,_l="value"in hr?hr.value:hr.textContent,nn=!0)),de=Zs(z,ge),0<de.length&&(ge=new hc(ge,e,null,n,Y),G.push({event:ge,listeners:de}),me?ge.data=me:(me=bc(n),me!==null&&(ge.data=me)))),(me=qf?Kf(e,n):Yf(e,n))&&(z=Zs(z,"onBeforeInput"),0<z.length&&(Y=new hc("onBeforeInput","beforeinput",null,n,Y),G.push({event:Y,listeners:z}),Y.data=me))}$c(G,t)})}function rs(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Zs(e,t){for(var n=t+"Capture",a=[];e!==null;){var i=e,u=i.stateNode;i.tag===5&&u!==null&&(i=u,u=Fn(e,n),u!=null&&a.unshift(rs(e,u,i)),u=Fn(e,t),u!=null&&a.push(rs(e,u,i))),e=e.return}return a}function ln(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Hc(e,t,n,a,i){for(var u=t._reactName,p=[];n!==null&&n!==a;){var w=n,S=w.alternate,z=w.stateNode;if(S!==null&&S===a)break;w.tag===5&&z!==null&&(w=z,i?(S=Fn(n,u),S!=null&&p.unshift(rs(n,S,w))):i||(S=Fn(n,u),S!=null&&p.push(rs(n,S,w)))),n=n.return}p.length!==0&&e.push({event:t,listeners:p})}var ip=/\r\n?/g,cp=/\u0000|\uFFFD/g;function Vc(e){return(typeof e=="string"?e:""+e).replace(ip,`
`).replace(cp,"")}function ea(e,t,n){if(t=Vc(t),Vc(e)!==t&&n)throw Error(o(425))}function ta(){}var Wl=null,ql=null;function Kl(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Yl=typeof setTimeout=="function"?setTimeout:void 0,up=typeof clearTimeout=="function"?clearTimeout:void 0,Wc=typeof Promise=="function"?Promise:void 0,dp=typeof queueMicrotask=="function"?queueMicrotask:typeof Wc<"u"?function(e){return Wc.resolve(null).then(e).catch(mp)}:Yl;function mp(e){setTimeout(function(){throw e})}function Ql(e,t){var n=t,a=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(a===0){e.removeChild(i),qn(t);return}a--}else n!=="$"&&n!=="$?"&&n!=="$!"||a++;n=i}while(n);qn(t)}function gr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function qc(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var on=Math.random().toString(36).slice(2),$t="__reactFiber$"+on,ns="__reactProps$"+on,Jt="__reactContainer$"+on,Gl="__reactEvents$"+on,fp="__reactListeners$"+on,pp="__reactHandles$"+on;function Lr(e){var t=e[$t];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Jt]||n[$t]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=qc(e);e!==null;){if(n=e[$t])return n;e=qc(e)}return t}e=n,n=e.parentNode}return null}function ss(e){return e=e[$t]||e[Jt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function cn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(o(33))}function ra(e){return e[ns]||null}var Jl=[],un=-1;function yr(e){return{current:e}}function Me(e){0>un||(e.current=Jl[un],Jl[un]=null,un--)}function Te(e,t){un++,Jl[un]=e.current,e.current=t}var vr={},Xe=yr(vr),lt=yr(!1),Mr=vr;function dn(e,t){var n=e.type.contextTypes;if(!n)return vr;var a=e.stateNode;if(a&&a.__reactInternalMemoizedUnmaskedChildContext===t)return a.__reactInternalMemoizedMaskedChildContext;var i={},u;for(u in n)i[u]=t[u];return a&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function ot(e){return e=e.childContextTypes,e!=null}function na(){Me(lt),Me(Xe)}function Kc(e,t,n){if(Xe.current!==vr)throw Error(o(168));Te(Xe,t),Te(lt,n)}function Yc(e,t,n){var a=e.stateNode;if(t=t.childContextTypes,typeof a.getChildContext!="function")return n;a=a.getChildContext();for(var i in a)if(!(i in t))throw Error(o(108,Ce(e)||"Unknown",i));return Q({},n,a)}function sa(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||vr,Mr=Xe.current,Te(Xe,e),Te(lt,lt.current),!0}function Qc(e,t,n){var a=e.stateNode;if(!a)throw Error(o(169));n?(e=Yc(e,t,Mr),a.__reactInternalMemoizedMergedChildContext=e,Me(lt),Me(Xe),Te(Xe,e)):Me(lt),Te(lt,n)}var Xt=null,aa=!1,Xl=!1;function Gc(e){Xt===null?Xt=[e]:Xt.push(e)}function hp(e){aa=!0,Gc(e)}function wr(){if(!Xl&&Xt!==null){Xl=!0;var e=0,t=Pe;try{var n=Xt;for(Pe=1;e<n.length;e++){var a=n[e];do a=a(!0);while(a!==null)}Xt=null,aa=!1}catch(i){throw Xt!==null&&(Xt=Xt.slice(e+1)),Xi(wl,wr),i}finally{Pe=t,Xl=!1}}return null}var mn=[],fn=0,la=null,oa=0,jt=[],Nt=0,Ar=null,Zt=1,er="";function Dr(e,t){mn[fn++]=oa,mn[fn++]=la,la=e,oa=t}function Jc(e,t,n){jt[Nt++]=Zt,jt[Nt++]=er,jt[Nt++]=Ar,Ar=e;var a=Zt;e=er;var i=32-Pt(a)-1;a&=~(1<<i),n+=1;var u=32-Pt(t)+i;if(30<u){var p=i-i%5;u=(a&(1<<p)-1).toString(32),a>>=p,i-=p,Zt=1<<32-Pt(t)+i|n<<i|a,er=u+e}else Zt=1<<u|n<<i|a,er=e}function Zl(e){e.return!==null&&(Dr(e,1),Jc(e,1,0))}function eo(e){for(;e===la;)la=mn[--fn],mn[fn]=null,oa=mn[--fn],mn[fn]=null;for(;e===Ar;)Ar=jt[--Nt],jt[Nt]=null,er=jt[--Nt],jt[Nt]=null,Zt=jt[--Nt],jt[Nt]=null}var xt=null,gt=null,Ae=!1,Tt=null;function Xc(e,t){var n=Et(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Zc(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,xt=e,gt=gr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,xt=e,gt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Ar!==null?{id:Zt,overflow:er}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Et(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,xt=e,gt=null,!0):!1;default:return!1}}function to(e){return(e.mode&1)!==0&&(e.flags&128)===0}function ro(e){if(Ae){var t=gt;if(t){var n=t;if(!Zc(e,t)){if(to(e))throw Error(o(418));t=gr(n.nextSibling);var a=xt;t&&Zc(e,t)?Xc(a,n):(e.flags=e.flags&-4097|2,Ae=!1,xt=e)}}else{if(to(e))throw Error(o(418));e.flags=e.flags&-4097|2,Ae=!1,xt=e}}}function eu(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;xt=e}function ia(e){if(e!==xt)return!1;if(!Ae)return eu(e),Ae=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Kl(e.type,e.memoizedProps)),t&&(t=gt)){if(to(e))throw tu(),Error(o(418));for(;t;)Xc(e,t),t=gr(t.nextSibling)}if(eu(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){gt=gr(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}gt=null}}else gt=xt?gr(e.stateNode.nextSibling):null;return!0}function tu(){for(var e=gt;e;)e=gr(e.nextSibling)}function pn(){gt=xt=null,Ae=!1}function no(e){Tt===null?Tt=[e]:Tt.push(e)}var xp=V.ReactCurrentBatchConfig;function as(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(o(309));var a=n.stateNode}if(!a)throw Error(o(147,e));var i=a,u=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===u?t.ref:(t=function(p){var w=i.refs;p===null?delete w[u]:w[u]=p},t._stringRef=u,t)}if(typeof e!="string")throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function ca(e,t){throw e=Object.prototype.toString.call(t),Error(o(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ru(e){var t=e._init;return t(e._payload)}function nu(e){function t(A,C){if(e){var O=A.deletions;O===null?(A.deletions=[C],A.flags|=16):O.push(C)}}function n(A,C){if(!e)return null;for(;C!==null;)t(A,C),C=C.sibling;return null}function a(A,C){for(A=new Map;C!==null;)C.key!==null?A.set(C.key,C):A.set(C.index,C),C=C.sibling;return A}function i(A,C){return A=_r(A,C),A.index=0,A.sibling=null,A}function u(A,C,O){return A.index=O,e?(O=A.alternate,O!==null?(O=O.index,O<C?(A.flags|=2,C):O):(A.flags|=2,C)):(A.flags|=1048576,C)}function p(A){return e&&A.alternate===null&&(A.flags|=2),A}function w(A,C,O,Z){return C===null||C.tag!==6?(C=Qo(O,A.mode,Z),C.return=A,C):(C=i(C,O),C.return=A,C)}function S(A,C,O,Z){var ie=O.type;return ie===J?Y(A,C,O.props.children,Z,O.key):C!==null&&(C.elementType===ie||typeof ie=="object"&&ie!==null&&ie.$$typeof===we&&ru(ie)===C.type)?(Z=i(C,O.props),Z.ref=as(A,C,O),Z.return=A,Z):(Z=Ma(O.type,O.key,O.props,null,A.mode,Z),Z.ref=as(A,C,O),Z.return=A,Z)}function z(A,C,O,Z){return C===null||C.tag!==4||C.stateNode.containerInfo!==O.containerInfo||C.stateNode.implementation!==O.implementation?(C=Go(O,A.mode,Z),C.return=A,C):(C=i(C,O.children||[]),C.return=A,C)}function Y(A,C,O,Z,ie){return C===null||C.tag!==7?(C=Hr(O,A.mode,Z,ie),C.return=A,C):(C=i(C,O),C.return=A,C)}function G(A,C,O){if(typeof C=="string"&&C!==""||typeof C=="number")return C=Qo(""+C,A.mode,O),C.return=A,C;if(typeof C=="object"&&C!==null){switch(C.$$typeof){case W:return O=Ma(C.type,C.key,C.props,null,A.mode,O),O.ref=as(A,null,C),O.return=A,O;case F:return C=Go(C,A.mode,O),C.return=A,C;case we:var Z=C._init;return G(A,Z(C._payload),O)}if(An(C)||U(C))return C=Hr(C,A.mode,O,null),C.return=A,C;ca(A,C)}return null}function K(A,C,O,Z){var ie=C!==null?C.key:null;if(typeof O=="string"&&O!==""||typeof O=="number")return ie!==null?null:w(A,C,""+O,Z);if(typeof O=="object"&&O!==null){switch(O.$$typeof){case W:return O.key===ie?S(A,C,O,Z):null;case F:return O.key===ie?z(A,C,O,Z):null;case we:return ie=O._init,K(A,C,ie(O._payload),Z)}if(An(O)||U(O))return ie!==null?null:Y(A,C,O,Z,null);ca(A,O)}return null}function se(A,C,O,Z,ie){if(typeof Z=="string"&&Z!==""||typeof Z=="number")return A=A.get(O)||null,w(C,A,""+Z,ie);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case W:return A=A.get(Z.key===null?O:Z.key)||null,S(C,A,Z,ie);case F:return A=A.get(Z.key===null?O:Z.key)||null,z(C,A,Z,ie);case we:var de=Z._init;return se(A,C,O,de(Z._payload),ie)}if(An(Z)||U(Z))return A=A.get(O)||null,Y(C,A,Z,ie,null);ca(C,Z)}return null}function le(A,C,O,Z){for(var ie=null,de=null,me=C,ge=C=0,Ye=null;me!==null&&ge<O.length;ge++){me.index>ge?(Ye=me,me=null):Ye=me.sibling;var Se=K(A,me,O[ge],Z);if(Se===null){me===null&&(me=Ye);break}e&&me&&Se.alternate===null&&t(A,me),C=u(Se,C,ge),de===null?ie=Se:de.sibling=Se,de=Se,me=Ye}if(ge===O.length)return n(A,me),Ae&&Dr(A,ge),ie;if(me===null){for(;ge<O.length;ge++)me=G(A,O[ge],Z),me!==null&&(C=u(me,C,ge),de===null?ie=me:de.sibling=me,de=me);return Ae&&Dr(A,ge),ie}for(me=a(A,me);ge<O.length;ge++)Ye=se(me,A,ge,O[ge],Z),Ye!==null&&(e&&Ye.alternate!==null&&me.delete(Ye.key===null?ge:Ye.key),C=u(Ye,C,ge),de===null?ie=Ye:de.sibling=Ye,de=Ye);return e&&me.forEach(function(Pr){return t(A,Pr)}),Ae&&Dr(A,ge),ie}function oe(A,C,O,Z){var ie=U(O);if(typeof ie!="function")throw Error(o(150));if(O=ie.call(O),O==null)throw Error(o(151));for(var de=ie=null,me=C,ge=C=0,Ye=null,Se=O.next();me!==null&&!Se.done;ge++,Se=O.next()){me.index>ge?(Ye=me,me=null):Ye=me.sibling;var Pr=K(A,me,Se.value,Z);if(Pr===null){me===null&&(me=Ye);break}e&&me&&Pr.alternate===null&&t(A,me),C=u(Pr,C,ge),de===null?ie=Pr:de.sibling=Pr,de=Pr,me=Ye}if(Se.done)return n(A,me),Ae&&Dr(A,ge),ie;if(me===null){for(;!Se.done;ge++,Se=O.next())Se=G(A,Se.value,Z),Se!==null&&(C=u(Se,C,ge),de===null?ie=Se:de.sibling=Se,de=Se);return Ae&&Dr(A,ge),ie}for(me=a(A,me);!Se.done;ge++,Se=O.next())Se=se(me,A,ge,Se.value,Z),Se!==null&&(e&&Se.alternate!==null&&me.delete(Se.key===null?ge:Se.key),C=u(Se,C,ge),de===null?ie=Se:de.sibling=Se,de=Se);return e&&me.forEach(function(Qp){return t(A,Qp)}),Ae&&Dr(A,ge),ie}function $e(A,C,O,Z){if(typeof O=="object"&&O!==null&&O.type===J&&O.key===null&&(O=O.props.children),typeof O=="object"&&O!==null){switch(O.$$typeof){case W:e:{for(var ie=O.key,de=C;de!==null;){if(de.key===ie){if(ie=O.type,ie===J){if(de.tag===7){n(A,de.sibling),C=i(de,O.props.children),C.return=A,A=C;break e}}else if(de.elementType===ie||typeof ie=="object"&&ie!==null&&ie.$$typeof===we&&ru(ie)===de.type){n(A,de.sibling),C=i(de,O.props),C.ref=as(A,de,O),C.return=A,A=C;break e}n(A,de);break}else t(A,de);de=de.sibling}O.type===J?(C=Hr(O.props.children,A.mode,Z,O.key),C.return=A,A=C):(Z=Ma(O.type,O.key,O.props,null,A.mode,Z),Z.ref=as(A,C,O),Z.return=A,A=Z)}return p(A);case F:e:{for(de=O.key;C!==null;){if(C.key===de)if(C.tag===4&&C.stateNode.containerInfo===O.containerInfo&&C.stateNode.implementation===O.implementation){n(A,C.sibling),C=i(C,O.children||[]),C.return=A,A=C;break e}else{n(A,C);break}else t(A,C);C=C.sibling}C=Go(O,A.mode,Z),C.return=A,A=C}return p(A);case we:return de=O._init,$e(A,C,de(O._payload),Z)}if(An(O))return le(A,C,O,Z);if(U(O))return oe(A,C,O,Z);ca(A,O)}return typeof O=="string"&&O!==""||typeof O=="number"?(O=""+O,C!==null&&C.tag===6?(n(A,C.sibling),C=i(C,O),C.return=A,A=C):(n(A,C),C=Qo(O,A.mode,Z),C.return=A,A=C),p(A)):n(A,C)}return $e}var hn=nu(!0),su=nu(!1),ua=yr(null),da=null,xn=null,so=null;function ao(){so=xn=da=null}function lo(e){var t=ua.current;Me(ua),e._currentValue=t}function oo(e,t,n){for(;e!==null;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,a!==null&&(a.childLanes|=t)):a!==null&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===n)break;e=e.return}}function gn(e,t){da=e,so=xn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&t)!==0&&(it=!0),e.firstContext=null)}function kt(e){var t=e._currentValue;if(so!==e)if(e={context:e,memoizedValue:t,next:null},xn===null){if(da===null)throw Error(o(308));xn=e,da.dependencies={lanes:0,firstContext:e}}else xn=xn.next=e;return t}var Or=null;function io(e){Or===null?Or=[e]:Or.push(e)}function au(e,t,n,a){var i=t.interleaved;return i===null?(n.next=n,io(t)):(n.next=i.next,i.next=n),t.interleaved=n,tr(e,a)}function tr(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var br=!1;function co(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function lu(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function rr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function jr(e,t,n){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,(ke&2)!==0){var i=a.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),a.pending=t,tr(e,n)}return i=a.interleaved,i===null?(t.next=t,io(a)):(t.next=i.next,i.next=t),a.interleaved=t,tr(e,n)}function ma(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var a=t.lanes;a&=e.pendingLanes,n|=a,t.lanes=n,Nl(e,n)}}function ou(e,t){var n=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,n===a)){var i=null,u=null;if(n=n.firstBaseUpdate,n!==null){do{var p={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};u===null?i=u=p:u=u.next=p,n=n.next}while(n!==null);u===null?i=u=t:u=u.next=t}else i=u=t;n={baseState:a.baseState,firstBaseUpdate:i,lastBaseUpdate:u,shared:a.shared,effects:a.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function fa(e,t,n,a){var i=e.updateQueue;br=!1;var u=i.firstBaseUpdate,p=i.lastBaseUpdate,w=i.shared.pending;if(w!==null){i.shared.pending=null;var S=w,z=S.next;S.next=null,p===null?u=z:p.next=z,p=S;var Y=e.alternate;Y!==null&&(Y=Y.updateQueue,w=Y.lastBaseUpdate,w!==p&&(w===null?Y.firstBaseUpdate=z:w.next=z,Y.lastBaseUpdate=S))}if(u!==null){var G=i.baseState;p=0,Y=z=S=null,w=u;do{var K=w.lane,se=w.eventTime;if((a&K)===K){Y!==null&&(Y=Y.next={eventTime:se,lane:0,tag:w.tag,payload:w.payload,callback:w.callback,next:null});e:{var le=e,oe=w;switch(K=t,se=n,oe.tag){case 1:if(le=oe.payload,typeof le=="function"){G=le.call(se,G,K);break e}G=le;break e;case 3:le.flags=le.flags&-65537|128;case 0:if(le=oe.payload,K=typeof le=="function"?le.call(se,G,K):le,K==null)break e;G=Q({},G,K);break e;case 2:br=!0}}w.callback!==null&&w.lane!==0&&(e.flags|=64,K=i.effects,K===null?i.effects=[w]:K.push(w))}else se={eventTime:se,lane:K,tag:w.tag,payload:w.payload,callback:w.callback,next:null},Y===null?(z=Y=se,S=G):Y=Y.next=se,p|=K;if(w=w.next,w===null){if(w=i.shared.pending,w===null)break;K=w,w=K.next,K.next=null,i.lastBaseUpdate=K,i.shared.pending=null}}while(!0);if(Y===null&&(S=G),i.baseState=S,i.firstBaseUpdate=z,i.lastBaseUpdate=Y,t=i.shared.interleaved,t!==null){i=t;do p|=i.lane,i=i.next;while(i!==t)}else u===null&&(i.shared.lanes=0);zr|=p,e.lanes=p,e.memoizedState=G}}function iu(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var a=e[t],i=a.callback;if(i!==null){if(a.callback=null,a=n,typeof i!="function")throw Error(o(191,i));i.call(a)}}}var ls={},Bt=yr(ls),os=yr(ls),is=yr(ls);function Fr(e){if(e===ls)throw Error(o(174));return e}function uo(e,t){switch(Te(is,t),Te(os,e),Te(Bt,ls),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:dl(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=dl(t,e)}Me(Bt),Te(Bt,t)}function yn(){Me(Bt),Me(os),Me(is)}function cu(e){Fr(is.current);var t=Fr(Bt.current),n=dl(t,e.type);t!==n&&(Te(os,e),Te(Bt,n))}function mo(e){os.current===e&&(Me(Bt),Me(os))}var Oe=yr(0);function pa(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var fo=[];function po(){for(var e=0;e<fo.length;e++)fo[e]._workInProgressVersionPrimary=null;fo.length=0}var ha=V.ReactCurrentDispatcher,ho=V.ReactCurrentBatchConfig,Ir=0,Fe=null,Ve=null,qe=null,xa=!1,cs=!1,us=0,gp=0;function Ze(){throw Error(o(321))}function xo(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Rt(e[n],t[n]))return!1;return!0}function go(e,t,n,a,i,u){if(Ir=u,Fe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ha.current=e===null||e.memoizedState===null?bp:jp,e=n(a,i),cs){u=0;do{if(cs=!1,us=0,25<=u)throw Error(o(301));u+=1,qe=Ve=null,t.updateQueue=null,ha.current=Np,e=n(a,i)}while(cs)}if(ha.current=va,t=Ve!==null&&Ve.next!==null,Ir=0,qe=Ve=Fe=null,xa=!1,t)throw Error(o(300));return e}function yo(){var e=us!==0;return us=0,e}function Ht(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return qe===null?Fe.memoizedState=qe=e:qe=qe.next=e,qe}function St(){if(Ve===null){var e=Fe.alternate;e=e!==null?e.memoizedState:null}else e=Ve.next;var t=qe===null?Fe.memoizedState:qe.next;if(t!==null)qe=t,Ve=e;else{if(e===null)throw Error(o(310));Ve=e,e={memoizedState:Ve.memoizedState,baseState:Ve.baseState,baseQueue:Ve.baseQueue,queue:Ve.queue,next:null},qe===null?Fe.memoizedState=qe=e:qe=qe.next=e}return qe}function ds(e,t){return typeof t=="function"?t(e):t}function vo(e){var t=St(),n=t.queue;if(n===null)throw Error(o(311));n.lastRenderedReducer=e;var a=Ve,i=a.baseQueue,u=n.pending;if(u!==null){if(i!==null){var p=i.next;i.next=u.next,u.next=p}a.baseQueue=i=u,n.pending=null}if(i!==null){u=i.next,a=a.baseState;var w=p=null,S=null,z=u;do{var Y=z.lane;if((Ir&Y)===Y)S!==null&&(S=S.next={lane:0,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),a=z.hasEagerState?z.eagerState:e(a,z.action);else{var G={lane:Y,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null};S===null?(w=S=G,p=a):S=S.next=G,Fe.lanes|=Y,zr|=Y}z=z.next}while(z!==null&&z!==u);S===null?p=a:S.next=w,Rt(a,t.memoizedState)||(it=!0),t.memoizedState=a,t.baseState=p,t.baseQueue=S,n.lastRenderedState=a}if(e=n.interleaved,e!==null){i=e;do u=i.lane,Fe.lanes|=u,zr|=u,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function wo(e){var t=St(),n=t.queue;if(n===null)throw Error(o(311));n.lastRenderedReducer=e;var a=n.dispatch,i=n.pending,u=t.memoizedState;if(i!==null){n.pending=null;var p=i=i.next;do u=e(u,p.action),p=p.next;while(p!==i);Rt(u,t.memoizedState)||(it=!0),t.memoizedState=u,t.baseQueue===null&&(t.baseState=u),n.lastRenderedState=u}return[u,a]}function uu(){}function du(e,t){var n=Fe,a=St(),i=t(),u=!Rt(a.memoizedState,i);if(u&&(a.memoizedState=i,it=!0),a=a.queue,bo(pu.bind(null,n,a,e),[e]),a.getSnapshot!==t||u||qe!==null&&qe.memoizedState.tag&1){if(n.flags|=2048,ms(9,fu.bind(null,n,a,i,t),void 0,null),Ke===null)throw Error(o(349));(Ir&30)!==0||mu(n,t,i)}return i}function mu(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Fe.updateQueue,t===null?(t={lastEffect:null,stores:null},Fe.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function fu(e,t,n,a){t.value=n,t.getSnapshot=a,hu(t)&&xu(e)}function pu(e,t,n){return n(function(){hu(t)&&xu(e)})}function hu(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Rt(e,n)}catch{return!0}}function xu(e){var t=tr(e,1);t!==null&&Dt(t,e,1,-1)}function gu(e){var t=Ht();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ds,lastRenderedState:e},t.queue=e,e=e.dispatch=wp.bind(null,Fe,e),[t.memoizedState,e]}function ms(e,t,n,a){return e={tag:e,create:t,destroy:n,deps:a,next:null},t=Fe.updateQueue,t===null?(t={lastEffect:null,stores:null},Fe.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(a=n.next,n.next=e,e.next=a,t.lastEffect=e)),e}function yu(){return St().memoizedState}function ga(e,t,n,a){var i=Ht();Fe.flags|=e,i.memoizedState=ms(1|t,n,void 0,a===void 0?null:a)}function ya(e,t,n,a){var i=St();a=a===void 0?null:a;var u=void 0;if(Ve!==null){var p=Ve.memoizedState;if(u=p.destroy,a!==null&&xo(a,p.deps)){i.memoizedState=ms(t,n,u,a);return}}Fe.flags|=e,i.memoizedState=ms(1|t,n,u,a)}function vu(e,t){return ga(8390656,8,e,t)}function bo(e,t){return ya(2048,8,e,t)}function wu(e,t){return ya(4,2,e,t)}function bu(e,t){return ya(4,4,e,t)}function ju(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Nu(e,t,n){return n=n!=null?n.concat([e]):null,ya(4,4,ju.bind(null,t,e),n)}function jo(){}function ku(e,t){var n=St();t=t===void 0?null:t;var a=n.memoizedState;return a!==null&&t!==null&&xo(t,a[1])?a[0]:(n.memoizedState=[e,t],e)}function Su(e,t){var n=St();t=t===void 0?null:t;var a=n.memoizedState;return a!==null&&t!==null&&xo(t,a[1])?a[0]:(e=e(),n.memoizedState=[e,t],e)}function Cu(e,t,n){return(Ir&21)===0?(e.baseState&&(e.baseState=!1,it=!0),e.memoizedState=n):(Rt(n,t)||(n=rc(),Fe.lanes|=n,zr|=n,e.baseState=!0),t)}function yp(e,t){var n=Pe;Pe=n!==0&&4>n?n:4,e(!0);var a=ho.transition;ho.transition={};try{e(!1),t()}finally{Pe=n,ho.transition=a}}function Eu(){return St().memoizedState}function vp(e,t,n){var a=Cr(e);if(n={lane:a,action:n,hasEagerState:!1,eagerState:null,next:null},_u(e))Pu(t,n);else if(n=au(e,t,n,a),n!==null){var i=st();Dt(n,e,a,i),Ru(n,t,a)}}function wp(e,t,n){var a=Cr(e),i={lane:a,action:n,hasEagerState:!1,eagerState:null,next:null};if(_u(e))Pu(t,i);else{var u=e.alternate;if(e.lanes===0&&(u===null||u.lanes===0)&&(u=t.lastRenderedReducer,u!==null))try{var p=t.lastRenderedState,w=u(p,n);if(i.hasEagerState=!0,i.eagerState=w,Rt(w,p)){var S=t.interleaved;S===null?(i.next=i,io(t)):(i.next=S.next,S.next=i),t.interleaved=i;return}}catch{}finally{}n=au(e,t,i,a),n!==null&&(i=st(),Dt(n,e,a,i),Ru(n,t,a))}}function _u(e){var t=e.alternate;return e===Fe||t!==null&&t===Fe}function Pu(e,t){cs=xa=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Ru(e,t,n){if((n&4194240)!==0){var a=t.lanes;a&=e.pendingLanes,n|=a,t.lanes=n,Nl(e,n)}}var va={readContext:kt,useCallback:Ze,useContext:Ze,useEffect:Ze,useImperativeHandle:Ze,useInsertionEffect:Ze,useLayoutEffect:Ze,useMemo:Ze,useReducer:Ze,useRef:Ze,useState:Ze,useDebugValue:Ze,useDeferredValue:Ze,useTransition:Ze,useMutableSource:Ze,useSyncExternalStore:Ze,useId:Ze,unstable_isNewReconciler:!1},bp={readContext:kt,useCallback:function(e,t){return Ht().memoizedState=[e,t===void 0?null:t],e},useContext:kt,useEffect:vu,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,ga(4194308,4,ju.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ga(4194308,4,e,t)},useInsertionEffect:function(e,t){return ga(4,2,e,t)},useMemo:function(e,t){var n=Ht();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var a=Ht();return t=n!==void 0?n(t):t,a.memoizedState=a.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},a.queue=e,e=e.dispatch=vp.bind(null,Fe,e),[a.memoizedState,e]},useRef:function(e){var t=Ht();return e={current:e},t.memoizedState=e},useState:gu,useDebugValue:jo,useDeferredValue:function(e){return Ht().memoizedState=e},useTransition:function(){var e=gu(!1),t=e[0];return e=yp.bind(null,e[1]),Ht().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var a=Fe,i=Ht();if(Ae){if(n===void 0)throw Error(o(407));n=n()}else{if(n=t(),Ke===null)throw Error(o(349));(Ir&30)!==0||mu(a,t,n)}i.memoizedState=n;var u={value:n,getSnapshot:t};return i.queue=u,vu(pu.bind(null,a,u,e),[e]),a.flags|=2048,ms(9,fu.bind(null,a,u,n,t),void 0,null),n},useId:function(){var e=Ht(),t=Ke.identifierPrefix;if(Ae){var n=er,a=Zt;n=(a&~(1<<32-Pt(a)-1)).toString(32)+n,t=":"+t+"R"+n,n=us++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=gp++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},jp={readContext:kt,useCallback:ku,useContext:kt,useEffect:bo,useImperativeHandle:Nu,useInsertionEffect:wu,useLayoutEffect:bu,useMemo:Su,useReducer:vo,useRef:yu,useState:function(){return vo(ds)},useDebugValue:jo,useDeferredValue:function(e){var t=St();return Cu(t,Ve.memoizedState,e)},useTransition:function(){var e=vo(ds)[0],t=St().memoizedState;return[e,t]},useMutableSource:uu,useSyncExternalStore:du,useId:Eu,unstable_isNewReconciler:!1},Np={readContext:kt,useCallback:ku,useContext:kt,useEffect:bo,useImperativeHandle:Nu,useInsertionEffect:wu,useLayoutEffect:bu,useMemo:Su,useReducer:wo,useRef:yu,useState:function(){return wo(ds)},useDebugValue:jo,useDeferredValue:function(e){var t=St();return Ve===null?t.memoizedState=e:Cu(t,Ve.memoizedState,e)},useTransition:function(){var e=wo(ds)[0],t=St().memoizedState;return[e,t]},useMutableSource:uu,useSyncExternalStore:du,useId:Eu,unstable_isNewReconciler:!1};function Lt(e,t){if(e&&e.defaultProps){t=Q({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function No(e,t,n,a){t=e.memoizedState,n=n(a,t),n=n==null?t:Q({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var wa={isMounted:function(e){return(e=e._reactInternals)?Tr(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var a=st(),i=Cr(e),u=rr(a,i);u.payload=t,n!=null&&(u.callback=n),t=jr(e,u,i),t!==null&&(Dt(t,e,i,a),ma(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var a=st(),i=Cr(e),u=rr(a,i);u.tag=1,u.payload=t,n!=null&&(u.callback=n),t=jr(e,u,i),t!==null&&(Dt(t,e,i,a),ma(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=st(),a=Cr(e),i=rr(n,a);i.tag=2,t!=null&&(i.callback=t),t=jr(e,i,a),t!==null&&(Dt(t,e,a,n),ma(t,e,a))}};function Tu(e,t,n,a,i,u,p){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,u,p):t.prototype&&t.prototype.isPureReactComponent?!Xn(n,a)||!Xn(i,u):!0}function Lu(e,t,n){var a=!1,i=vr,u=t.contextType;return typeof u=="object"&&u!==null?u=kt(u):(i=ot(t)?Mr:Xe.current,a=t.contextTypes,u=(a=a!=null)?dn(e,i):vr),t=new t(n,u),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=wa,e.stateNode=t,t._reactInternals=e,a&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=u),t}function Mu(e,t,n,a){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,a),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,a),t.state!==e&&wa.enqueueReplaceState(t,t.state,null)}function ko(e,t,n,a){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},co(e);var u=t.contextType;typeof u=="object"&&u!==null?i.context=kt(u):(u=ot(t)?Mr:Xe.current,i.context=dn(e,u)),i.state=e.memoizedState,u=t.getDerivedStateFromProps,typeof u=="function"&&(No(e,t,u,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&wa.enqueueReplaceState(i,i.state,null),fa(e,n,i,a),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function vn(e,t){try{var n="",a=t;do n+=ne(a),a=a.return;while(a);var i=n}catch(u){i=`
Error generating stack: `+u.message+`
`+u.stack}return{value:e,source:t,stack:i,digest:null}}function So(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Co(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var kp=typeof WeakMap=="function"?WeakMap:Map;function Au(e,t,n){n=rr(-1,n),n.tag=3,n.payload={element:null};var a=t.value;return n.callback=function(){Ea||(Ea=!0,$o=a),Co(e,t)},n}function Du(e,t,n){n=rr(-1,n),n.tag=3;var a=e.type.getDerivedStateFromError;if(typeof a=="function"){var i=t.value;n.payload=function(){return a(i)},n.callback=function(){Co(e,t)}}var u=e.stateNode;return u!==null&&typeof u.componentDidCatch=="function"&&(n.callback=function(){Co(e,t),typeof a!="function"&&(kr===null?kr=new Set([this]):kr.add(this));var p=t.stack;this.componentDidCatch(t.value,{componentStack:p!==null?p:""})}),n}function Ou(e,t,n){var a=e.pingCache;if(a===null){a=e.pingCache=new kp;var i=new Set;a.set(t,i)}else i=a.get(t),i===void 0&&(i=new Set,a.set(t,i));i.has(n)||(i.add(n),e=Ip.bind(null,e,t,n),t.then(e,e))}function Fu(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Iu(e,t,n,a,i){return(e.mode&1)===0?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=rr(-1,1),t.tag=2,jr(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var Sp=V.ReactCurrentOwner,it=!1;function nt(e,t,n,a){t.child=e===null?su(t,null,n,a):hn(t,e.child,n,a)}function zu(e,t,n,a,i){n=n.render;var u=t.ref;return gn(t,i),a=go(e,t,n,a,u,i),n=yo(),e!==null&&!it?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,nr(e,t,i)):(Ae&&n&&Zl(t),t.flags|=1,nt(e,t,a,i),t.child)}function Uu(e,t,n,a,i){if(e===null){var u=n.type;return typeof u=="function"&&!Yo(u)&&u.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=u,$u(e,t,u,a,i)):(e=Ma(n.type,null,a,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(u=e.child,(e.lanes&i)===0){var p=u.memoizedProps;if(n=n.compare,n=n!==null?n:Xn,n(p,a)&&e.ref===t.ref)return nr(e,t,i)}return t.flags|=1,e=_r(u,a),e.ref=t.ref,e.return=t,t.child=e}function $u(e,t,n,a,i){if(e!==null){var u=e.memoizedProps;if(Xn(u,a)&&e.ref===t.ref)if(it=!1,t.pendingProps=a=u,(e.lanes&i)!==0)(e.flags&131072)!==0&&(it=!0);else return t.lanes=e.lanes,nr(e,t,i)}return Eo(e,t,n,a,i)}function Bu(e,t,n){var a=t.pendingProps,i=a.children,u=e!==null?e.memoizedState:null;if(a.mode==="hidden")if((t.mode&1)===0)t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Te(bn,yt),yt|=n;else{if((n&1073741824)===0)return e=u!==null?u.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Te(bn,yt),yt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},a=u!==null?u.baseLanes:n,Te(bn,yt),yt|=a}else u!==null?(a=u.baseLanes|n,t.memoizedState=null):a=n,Te(bn,yt),yt|=a;return nt(e,t,i,n),t.child}function Hu(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Eo(e,t,n,a,i){var u=ot(n)?Mr:Xe.current;return u=dn(t,u),gn(t,i),n=go(e,t,n,a,u,i),a=yo(),e!==null&&!it?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,nr(e,t,i)):(Ae&&a&&Zl(t),t.flags|=1,nt(e,t,n,i),t.child)}function Vu(e,t,n,a,i){if(ot(n)){var u=!0;sa(t)}else u=!1;if(gn(t,i),t.stateNode===null)ja(e,t),Lu(t,n,a),ko(t,n,a,i),a=!0;else if(e===null){var p=t.stateNode,w=t.memoizedProps;p.props=w;var S=p.context,z=n.contextType;typeof z=="object"&&z!==null?z=kt(z):(z=ot(n)?Mr:Xe.current,z=dn(t,z));var Y=n.getDerivedStateFromProps,G=typeof Y=="function"||typeof p.getSnapshotBeforeUpdate=="function";G||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(w!==a||S!==z)&&Mu(t,p,a,z),br=!1;var K=t.memoizedState;p.state=K,fa(t,a,p,i),S=t.memoizedState,w!==a||K!==S||lt.current||br?(typeof Y=="function"&&(No(t,n,Y,a),S=t.memoizedState),(w=br||Tu(t,n,w,a,K,S,z))?(G||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(t.flags|=4194308)):(typeof p.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=S),p.props=a,p.state=S,p.context=z,a=w):(typeof p.componentDidMount=="function"&&(t.flags|=4194308),a=!1)}else{p=t.stateNode,lu(e,t),w=t.memoizedProps,z=t.type===t.elementType?w:Lt(t.type,w),p.props=z,G=t.pendingProps,K=p.context,S=n.contextType,typeof S=="object"&&S!==null?S=kt(S):(S=ot(n)?Mr:Xe.current,S=dn(t,S));var se=n.getDerivedStateFromProps;(Y=typeof se=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(w!==G||K!==S)&&Mu(t,p,a,S),br=!1,K=t.memoizedState,p.state=K,fa(t,a,p,i);var le=t.memoizedState;w!==G||K!==le||lt.current||br?(typeof se=="function"&&(No(t,n,se,a),le=t.memoizedState),(z=br||Tu(t,n,z,a,K,le,S)||!1)?(Y||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(a,le,S),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(a,le,S)),typeof p.componentDidUpdate=="function"&&(t.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof p.componentDidUpdate!="function"||w===e.memoizedProps&&K===e.memoizedState||(t.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||w===e.memoizedProps&&K===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=le),p.props=a,p.state=le,p.context=S,a=z):(typeof p.componentDidUpdate!="function"||w===e.memoizedProps&&K===e.memoizedState||(t.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||w===e.memoizedProps&&K===e.memoizedState||(t.flags|=1024),a=!1)}return _o(e,t,n,a,u,i)}function _o(e,t,n,a,i,u){Hu(e,t);var p=(t.flags&128)!==0;if(!a&&!p)return i&&Qc(t,n,!1),nr(e,t,u);a=t.stateNode,Sp.current=t;var w=p&&typeof n.getDerivedStateFromError!="function"?null:a.render();return t.flags|=1,e!==null&&p?(t.child=hn(t,e.child,null,u),t.child=hn(t,null,w,u)):nt(e,t,w,u),t.memoizedState=a.state,i&&Qc(t,n,!0),t.child}function Wu(e){var t=e.stateNode;t.pendingContext?Kc(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Kc(e,t.context,!1),uo(e,t.containerInfo)}function qu(e,t,n,a,i){return pn(),no(i),t.flags|=256,nt(e,t,n,a),t.child}var Po={dehydrated:null,treeContext:null,retryLane:0};function Ro(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ku(e,t,n){var a=t.pendingProps,i=Oe.current,u=!1,p=(t.flags&128)!==0,w;if((w=p)||(w=e!==null&&e.memoizedState===null?!1:(i&2)!==0),w?(u=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Te(Oe,i&1),e===null)return ro(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((t.mode&1)===0?t.lanes=1:e.data==="$!"?t.lanes=8:t.lanes=1073741824,null):(p=a.children,e=a.fallback,u?(a=t.mode,u=t.child,p={mode:"hidden",children:p},(a&1)===0&&u!==null?(u.childLanes=0,u.pendingProps=p):u=Aa(p,a,0,null),e=Hr(e,a,n,null),u.return=t,e.return=t,u.sibling=e,t.child=u,t.child.memoizedState=Ro(n),t.memoizedState=Po,e):To(t,p));if(i=e.memoizedState,i!==null&&(w=i.dehydrated,w!==null))return Cp(e,t,p,a,w,i,n);if(u){u=a.fallback,p=t.mode,i=e.child,w=i.sibling;var S={mode:"hidden",children:a.children};return(p&1)===0&&t.child!==i?(a=t.child,a.childLanes=0,a.pendingProps=S,t.deletions=null):(a=_r(i,S),a.subtreeFlags=i.subtreeFlags&14680064),w!==null?u=_r(w,u):(u=Hr(u,p,n,null),u.flags|=2),u.return=t,a.return=t,a.sibling=u,t.child=a,a=u,u=t.child,p=e.child.memoizedState,p=p===null?Ro(n):{baseLanes:p.baseLanes|n,cachePool:null,transitions:p.transitions},u.memoizedState=p,u.childLanes=e.childLanes&~n,t.memoizedState=Po,a}return u=e.child,e=u.sibling,a=_r(u,{mode:"visible",children:a.children}),(t.mode&1)===0&&(a.lanes=n),a.return=t,a.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=a,t.memoizedState=null,a}function To(e,t){return t=Aa({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ba(e,t,n,a){return a!==null&&no(a),hn(t,e.child,null,n),e=To(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Cp(e,t,n,a,i,u,p){if(n)return t.flags&256?(t.flags&=-257,a=So(Error(o(422))),ba(e,t,p,a)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(u=a.fallback,i=t.mode,a=Aa({mode:"visible",children:a.children},i,0,null),u=Hr(u,i,p,null),u.flags|=2,a.return=t,u.return=t,a.sibling=u,t.child=a,(t.mode&1)!==0&&hn(t,e.child,null,p),t.child.memoizedState=Ro(p),t.memoizedState=Po,u);if((t.mode&1)===0)return ba(e,t,p,null);if(i.data==="$!"){if(a=i.nextSibling&&i.nextSibling.dataset,a)var w=a.dgst;return a=w,u=Error(o(419)),a=So(u,a,void 0),ba(e,t,p,a)}if(w=(p&e.childLanes)!==0,it||w){if(a=Ke,a!==null){switch(p&-p){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=(i&(a.suspendedLanes|p))!==0?0:i,i!==0&&i!==u.retryLane&&(u.retryLane=i,tr(e,i),Dt(a,e,i,-1))}return Ko(),a=So(Error(o(421))),ba(e,t,p,a)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=zp.bind(null,e),i._reactRetry=t,null):(e=u.treeContext,gt=gr(i.nextSibling),xt=t,Ae=!0,Tt=null,e!==null&&(jt[Nt++]=Zt,jt[Nt++]=er,jt[Nt++]=Ar,Zt=e.id,er=e.overflow,Ar=t),t=To(t,a.children),t.flags|=4096,t)}function Yu(e,t,n){e.lanes|=t;var a=e.alternate;a!==null&&(a.lanes|=t),oo(e.return,t,n)}function Lo(e,t,n,a,i){var u=e.memoizedState;u===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:n,tailMode:i}:(u.isBackwards=t,u.rendering=null,u.renderingStartTime=0,u.last=a,u.tail=n,u.tailMode=i)}function Qu(e,t,n){var a=t.pendingProps,i=a.revealOrder,u=a.tail;if(nt(e,t,a.children,n),a=Oe.current,(a&2)!==0)a=a&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Yu(e,n,t);else if(e.tag===19)Yu(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}a&=1}if(Te(Oe,a),(t.mode&1)===0)t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&pa(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Lo(t,!1,i,n,u);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&pa(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Lo(t,!0,n,null,u);break;case"together":Lo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ja(e,t){(t.mode&1)===0&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function nr(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),zr|=t.lanes,(n&t.childLanes)===0)return null;if(e!==null&&t.child!==e.child)throw Error(o(153));if(t.child!==null){for(e=t.child,n=_r(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=_r(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Ep(e,t,n){switch(t.tag){case 3:Wu(t),pn();break;case 5:cu(t);break;case 1:ot(t.type)&&sa(t);break;case 4:uo(t,t.stateNode.containerInfo);break;case 10:var a=t.type._context,i=t.memoizedProps.value;Te(ua,a._currentValue),a._currentValue=i;break;case 13:if(a=t.memoizedState,a!==null)return a.dehydrated!==null?(Te(Oe,Oe.current&1),t.flags|=128,null):(n&t.child.childLanes)!==0?Ku(e,t,n):(Te(Oe,Oe.current&1),e=nr(e,t,n),e!==null?e.sibling:null);Te(Oe,Oe.current&1);break;case 19:if(a=(n&t.childLanes)!==0,(e.flags&128)!==0){if(a)return Qu(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Te(Oe,Oe.current),a)break;return null;case 22:case 23:return t.lanes=0,Bu(e,t,n)}return nr(e,t,n)}var Gu,Mo,Ju,Xu;Gu=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Mo=function(){},Ju=function(e,t,n,a){var i=e.memoizedProps;if(i!==a){e=t.stateNode,Fr(Bt.current);var u=null;switch(n){case"input":i=bt(e,i),a=bt(e,a),u=[];break;case"select":i=Q({},i,{value:void 0}),a=Q({},a,{value:void 0}),u=[];break;case"textarea":i=ul(e,i),a=ul(e,a),u=[];break;default:typeof i.onClick!="function"&&typeof a.onClick=="function"&&(e.onclick=ta)}ml(n,a);var p;n=null;for(z in i)if(!a.hasOwnProperty(z)&&i.hasOwnProperty(z)&&i[z]!=null)if(z==="style"){var w=i[z];for(p in w)w.hasOwnProperty(p)&&(n||(n={}),n[p]="")}else z!=="dangerouslySetInnerHTML"&&z!=="children"&&z!=="suppressContentEditableWarning"&&z!=="suppressHydrationWarning"&&z!=="autoFocus"&&(d.hasOwnProperty(z)?u||(u=[]):(u=u||[]).push(z,null));for(z in a){var S=a[z];if(w=i?.[z],a.hasOwnProperty(z)&&S!==w&&(S!=null||w!=null))if(z==="style")if(w){for(p in w)!w.hasOwnProperty(p)||S&&S.hasOwnProperty(p)||(n||(n={}),n[p]="");for(p in S)S.hasOwnProperty(p)&&w[p]!==S[p]&&(n||(n={}),n[p]=S[p])}else n||(u||(u=[]),u.push(z,n)),n=S;else z==="dangerouslySetInnerHTML"?(S=S?S.__html:void 0,w=w?w.__html:void 0,S!=null&&w!==S&&(u=u||[]).push(z,S)):z==="children"?typeof S!="string"&&typeof S!="number"||(u=u||[]).push(z,""+S):z!=="suppressContentEditableWarning"&&z!=="suppressHydrationWarning"&&(d.hasOwnProperty(z)?(S!=null&&z==="onScroll"&&Le("scroll",e),u||w===S||(u=[])):(u=u||[]).push(z,S))}n&&(u=u||[]).push("style",n);var z=u;(t.updateQueue=z)&&(t.flags|=4)}},Xu=function(e,t,n,a){n!==a&&(t.flags|=4)};function fs(e,t){if(!Ae)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function et(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,a=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,a|=i.subtreeFlags&14680064,a|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,a|=i.subtreeFlags,a|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=a,e.childLanes=n,t}function _p(e,t,n){var a=t.pendingProps;switch(eo(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return et(t),null;case 1:return ot(t.type)&&na(),et(t),null;case 3:return a=t.stateNode,yn(),Me(lt),Me(Xe),po(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(ia(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Tt!==null&&(Vo(Tt),Tt=null))),Mo(e,t),et(t),null;case 5:mo(t);var i=Fr(is.current);if(n=t.type,e!==null&&t.stateNode!=null)Ju(e,t,n,a,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!a){if(t.stateNode===null)throw Error(o(166));return et(t),null}if(e=Fr(Bt.current),ia(t)){a=t.stateNode,n=t.type;var u=t.memoizedProps;switch(a[$t]=t,a[ns]=u,e=(t.mode&1)!==0,n){case"dialog":Le("cancel",a),Le("close",a);break;case"iframe":case"object":case"embed":Le("load",a);break;case"video":case"audio":for(i=0;i<es.length;i++)Le(es[i],a);break;case"source":Le("error",a);break;case"img":case"image":case"link":Le("error",a),Le("load",a);break;case"details":Le("toggle",a);break;case"input":Gr(a,u),Le("invalid",a);break;case"select":a._wrapperState={wasMultiple:!!u.multiple},Le("invalid",a);break;case"textarea":Di(a,u),Le("invalid",a)}ml(n,u),i=null;for(var p in u)if(u.hasOwnProperty(p)){var w=u[p];p==="children"?typeof w=="string"?a.textContent!==w&&(u.suppressHydrationWarning!==!0&&ea(a.textContent,w,e),i=["children",w]):typeof w=="number"&&a.textContent!==""+w&&(u.suppressHydrationWarning!==!0&&ea(a.textContent,w,e),i=["children",""+w]):d.hasOwnProperty(p)&&w!=null&&p==="onScroll"&&Le("scroll",a)}switch(n){case"input":_e(a),ur(a,u,!0);break;case"textarea":_e(a),Fi(a);break;case"select":case"option":break;default:typeof u.onClick=="function"&&(a.onclick=ta)}a=i,t.updateQueue=a,a!==null&&(t.flags|=4)}else{p=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Ii(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=p.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof a.is=="string"?e=p.createElement(n,{is:a.is}):(e=p.createElement(n),n==="select"&&(p=e,a.multiple?p.multiple=!0:a.size&&(p.size=a.size))):e=p.createElementNS(e,n),e[$t]=t,e[ns]=a,Gu(e,t,!1,!1),t.stateNode=e;e:{switch(p=fl(n,a),n){case"dialog":Le("cancel",e),Le("close",e),i=a;break;case"iframe":case"object":case"embed":Le("load",e),i=a;break;case"video":case"audio":for(i=0;i<es.length;i++)Le(es[i],e);i=a;break;case"source":Le("error",e),i=a;break;case"img":case"image":case"link":Le("error",e),Le("load",e),i=a;break;case"details":Le("toggle",e),i=a;break;case"input":Gr(e,a),i=bt(e,a),Le("invalid",e);break;case"option":i=a;break;case"select":e._wrapperState={wasMultiple:!!a.multiple},i=Q({},a,{value:void 0}),Le("invalid",e);break;case"textarea":Di(e,a),i=ul(e,a),Le("invalid",e);break;default:i=a}ml(n,i),w=i;for(u in w)if(w.hasOwnProperty(u)){var S=w[u];u==="style"?$i(e,S):u==="dangerouslySetInnerHTML"?(S=S?S.__html:void 0,S!=null&&zi(e,S)):u==="children"?typeof S=="string"?(n!=="textarea"||S!=="")&&Dn(e,S):typeof S=="number"&&Dn(e,""+S):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(d.hasOwnProperty(u)?S!=null&&u==="onScroll"&&Le("scroll",e):S!=null&&H(e,u,S,p))}switch(n){case"input":_e(e),ur(e,a,!1);break;case"textarea":_e(e),Fi(e);break;case"option":a.value!=null&&e.setAttribute("value",""+be(a.value));break;case"select":e.multiple=!!a.multiple,u=a.value,u!=null?Xr(e,!!a.multiple,u,!1):a.defaultValue!=null&&Xr(e,!!a.multiple,a.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=ta)}switch(n){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}}a&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return et(t),null;case 6:if(e&&t.stateNode!=null)Xu(e,t,e.memoizedProps,a);else{if(typeof a!="string"&&t.stateNode===null)throw Error(o(166));if(n=Fr(is.current),Fr(Bt.current),ia(t)){if(a=t.stateNode,n=t.memoizedProps,a[$t]=t,(u=a.nodeValue!==n)&&(e=xt,e!==null))switch(e.tag){case 3:ea(a.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&ea(a.nodeValue,n,(e.mode&1)!==0)}u&&(t.flags|=4)}else a=(n.nodeType===9?n:n.ownerDocument).createTextNode(a),a[$t]=t,t.stateNode=a}return et(t),null;case 13:if(Me(Oe),a=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ae&&gt!==null&&(t.mode&1)!==0&&(t.flags&128)===0)tu(),pn(),t.flags|=98560,u=!1;else if(u=ia(t),a!==null&&a.dehydrated!==null){if(e===null){if(!u)throw Error(o(318));if(u=t.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(o(317));u[$t]=t}else pn(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;et(t),u=!1}else Tt!==null&&(Vo(Tt),Tt=null),u=!0;if(!u)return t.flags&65536?t:null}return(t.flags&128)!==0?(t.lanes=n,t):(a=a!==null,a!==(e!==null&&e.memoizedState!==null)&&a&&(t.child.flags|=8192,(t.mode&1)!==0&&(e===null||(Oe.current&1)!==0?We===0&&(We=3):Ko())),t.updateQueue!==null&&(t.flags|=4),et(t),null);case 4:return yn(),Mo(e,t),e===null&&ts(t.stateNode.containerInfo),et(t),null;case 10:return lo(t.type._context),et(t),null;case 17:return ot(t.type)&&na(),et(t),null;case 19:if(Me(Oe),u=t.memoizedState,u===null)return et(t),null;if(a=(t.flags&128)!==0,p=u.rendering,p===null)if(a)fs(u,!1);else{if(We!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(p=pa(e),p!==null){for(t.flags|=128,fs(u,!1),a=p.updateQueue,a!==null&&(t.updateQueue=a,t.flags|=4),t.subtreeFlags=0,a=n,n=t.child;n!==null;)u=n,e=a,u.flags&=14680066,p=u.alternate,p===null?(u.childLanes=0,u.lanes=e,u.child=null,u.subtreeFlags=0,u.memoizedProps=null,u.memoizedState=null,u.updateQueue=null,u.dependencies=null,u.stateNode=null):(u.childLanes=p.childLanes,u.lanes=p.lanes,u.child=p.child,u.subtreeFlags=0,u.deletions=null,u.memoizedProps=p.memoizedProps,u.memoizedState=p.memoizedState,u.updateQueue=p.updateQueue,u.type=p.type,e=p.dependencies,u.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Te(Oe,Oe.current&1|2),t.child}e=e.sibling}u.tail!==null&&Ue()>jn&&(t.flags|=128,a=!0,fs(u,!1),t.lanes=4194304)}else{if(!a)if(e=pa(p),e!==null){if(t.flags|=128,a=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),fs(u,!0),u.tail===null&&u.tailMode==="hidden"&&!p.alternate&&!Ae)return et(t),null}else 2*Ue()-u.renderingStartTime>jn&&n!==1073741824&&(t.flags|=128,a=!0,fs(u,!1),t.lanes=4194304);u.isBackwards?(p.sibling=t.child,t.child=p):(n=u.last,n!==null?n.sibling=p:t.child=p,u.last=p)}return u.tail!==null?(t=u.tail,u.rendering=t,u.tail=t.sibling,u.renderingStartTime=Ue(),t.sibling=null,n=Oe.current,Te(Oe,a?n&1|2:n&1),t):(et(t),null);case 22:case 23:return qo(),a=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==a&&(t.flags|=8192),a&&(t.mode&1)!==0?(yt&1073741824)!==0&&(et(t),t.subtreeFlags&6&&(t.flags|=8192)):et(t),null;case 24:return null;case 25:return null}throw Error(o(156,t.tag))}function Pp(e,t){switch(eo(t),t.tag){case 1:return ot(t.type)&&na(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return yn(),Me(lt),Me(Xe),po(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 5:return mo(t),null;case 13:if(Me(Oe),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(o(340));pn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Me(Oe),null;case 4:return yn(),null;case 10:return lo(t.type._context),null;case 22:case 23:return qo(),null;case 24:return null;default:return null}}var Na=!1,tt=!1,Rp=typeof WeakSet=="function"?WeakSet:Set,ae=null;function wn(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(a){Ie(e,t,a)}else n.current=null}function Ao(e,t,n){try{n()}catch(a){Ie(e,t,a)}}var Zu=!1;function Tp(e,t){if(Wl=Hs,e=Tc(),Fl(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var a=n.getSelection&&n.getSelection();if(a&&a.rangeCount!==0){n=a.anchorNode;var i=a.anchorOffset,u=a.focusNode;a=a.focusOffset;try{n.nodeType,u.nodeType}catch{n=null;break e}var p=0,w=-1,S=-1,z=0,Y=0,G=e,K=null;t:for(;;){for(var se;G!==n||i!==0&&G.nodeType!==3||(w=p+i),G!==u||a!==0&&G.nodeType!==3||(S=p+a),G.nodeType===3&&(p+=G.nodeValue.length),(se=G.firstChild)!==null;)K=G,G=se;for(;;){if(G===e)break t;if(K===n&&++z===i&&(w=p),K===u&&++Y===a&&(S=p),(se=G.nextSibling)!==null)break;G=K,K=G.parentNode}G=se}n=w===-1||S===-1?null:{start:w,end:S}}else n=null}n=n||{start:0,end:0}}else n=null;for(ql={focusedElem:e,selectionRange:n},Hs=!1,ae=t;ae!==null;)if(t=ae,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ae=e;else for(;ae!==null;){t=ae;try{var le=t.alternate;if((t.flags&1024)!==0)switch(t.tag){case 0:case 11:case 15:break;case 1:if(le!==null){var oe=le.memoizedProps,$e=le.memoizedState,A=t.stateNode,C=A.getSnapshotBeforeUpdate(t.elementType===t.type?oe:Lt(t.type,oe),$e);A.__reactInternalSnapshotBeforeUpdate=C}break;case 3:var O=t.stateNode.containerInfo;O.nodeType===1?O.textContent="":O.nodeType===9&&O.documentElement&&O.removeChild(O.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(o(163))}}catch(Z){Ie(t,t.return,Z)}if(e=t.sibling,e!==null){e.return=t.return,ae=e;break}ae=t.return}return le=Zu,Zu=!1,le}function ps(e,t,n){var a=t.updateQueue;if(a=a!==null?a.lastEffect:null,a!==null){var i=a=a.next;do{if((i.tag&e)===e){var u=i.destroy;i.destroy=void 0,u!==void 0&&Ao(t,n,u)}i=i.next}while(i!==a)}}function ka(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var a=n.create;n.destroy=a()}n=n.next}while(n!==t)}}function Do(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function ed(e){var t=e.alternate;t!==null&&(e.alternate=null,ed(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[$t],delete t[ns],delete t[Gl],delete t[fp],delete t[pp])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function td(e){return e.tag===5||e.tag===3||e.tag===4}function rd(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||td(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Oo(e,t,n){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=ta));else if(a!==4&&(e=e.child,e!==null))for(Oo(e,t,n),e=e.sibling;e!==null;)Oo(e,t,n),e=e.sibling}function Fo(e,t,n){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(a!==4&&(e=e.child,e!==null))for(Fo(e,t,n),e=e.sibling;e!==null;)Fo(e,t,n),e=e.sibling}var Qe=null,Mt=!1;function Nr(e,t,n){for(n=n.child;n!==null;)nd(e,t,n),n=n.sibling}function nd(e,t,n){if(Ut&&typeof Ut.onCommitFiberUnmount=="function")try{Ut.onCommitFiberUnmount(Fs,n)}catch{}switch(n.tag){case 5:tt||wn(n,t);case 6:var a=Qe,i=Mt;Qe=null,Nr(e,t,n),Qe=a,Mt=i,Qe!==null&&(Mt?(e=Qe,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Qe.removeChild(n.stateNode));break;case 18:Qe!==null&&(Mt?(e=Qe,n=n.stateNode,e.nodeType===8?Ql(e.parentNode,n):e.nodeType===1&&Ql(e,n),qn(e)):Ql(Qe,n.stateNode));break;case 4:a=Qe,i=Mt,Qe=n.stateNode.containerInfo,Mt=!0,Nr(e,t,n),Qe=a,Mt=i;break;case 0:case 11:case 14:case 15:if(!tt&&(a=n.updateQueue,a!==null&&(a=a.lastEffect,a!==null))){i=a=a.next;do{var u=i,p=u.destroy;u=u.tag,p!==void 0&&((u&2)!==0||(u&4)!==0)&&Ao(n,t,p),i=i.next}while(i!==a)}Nr(e,t,n);break;case 1:if(!tt&&(wn(n,t),a=n.stateNode,typeof a.componentWillUnmount=="function"))try{a.props=n.memoizedProps,a.state=n.memoizedState,a.componentWillUnmount()}catch(w){Ie(n,t,w)}Nr(e,t,n);break;case 21:Nr(e,t,n);break;case 22:n.mode&1?(tt=(a=tt)||n.memoizedState!==null,Nr(e,t,n),tt=a):Nr(e,t,n);break;default:Nr(e,t,n)}}function sd(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Rp),t.forEach(function(a){var i=Up.bind(null,e,a);n.has(a)||(n.add(a),a.then(i,i))})}}function At(e,t){var n=t.deletions;if(n!==null)for(var a=0;a<n.length;a++){var i=n[a];try{var u=e,p=t,w=p;e:for(;w!==null;){switch(w.tag){case 5:Qe=w.stateNode,Mt=!1;break e;case 3:Qe=w.stateNode.containerInfo,Mt=!0;break e;case 4:Qe=w.stateNode.containerInfo,Mt=!0;break e}w=w.return}if(Qe===null)throw Error(o(160));nd(u,p,i),Qe=null,Mt=!1;var S=i.alternate;S!==null&&(S.return=null),i.return=null}catch(z){Ie(i,t,z)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)ad(t,e),t=t.sibling}function ad(e,t){var n=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(At(t,e),Vt(e),a&4){try{ps(3,e,e.return),ka(3,e)}catch(oe){Ie(e,e.return,oe)}try{ps(5,e,e.return)}catch(oe){Ie(e,e.return,oe)}}break;case 1:At(t,e),Vt(e),a&512&&n!==null&&wn(n,n.return);break;case 5:if(At(t,e),Vt(e),a&512&&n!==null&&wn(n,n.return),e.flags&32){var i=e.stateNode;try{Dn(i,"")}catch(oe){Ie(e,e.return,oe)}}if(a&4&&(i=e.stateNode,i!=null)){var u=e.memoizedProps,p=n!==null?n.memoizedProps:u,w=e.type,S=e.updateQueue;if(e.updateQueue=null,S!==null)try{w==="input"&&u.type==="radio"&&u.name!=null&&Ls(i,u),fl(w,p);var z=fl(w,u);for(p=0;p<S.length;p+=2){var Y=S[p],G=S[p+1];Y==="style"?$i(i,G):Y==="dangerouslySetInnerHTML"?zi(i,G):Y==="children"?Dn(i,G):H(i,Y,G,z)}switch(w){case"input":Jr(i,u);break;case"textarea":Oi(i,u);break;case"select":var K=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!u.multiple;var se=u.value;se!=null?Xr(i,!!u.multiple,se,!1):K!==!!u.multiple&&(u.defaultValue!=null?Xr(i,!!u.multiple,u.defaultValue,!0):Xr(i,!!u.multiple,u.multiple?[]:"",!1))}i[ns]=u}catch(oe){Ie(e,e.return,oe)}}break;case 6:if(At(t,e),Vt(e),a&4){if(e.stateNode===null)throw Error(o(162));i=e.stateNode,u=e.memoizedProps;try{i.nodeValue=u}catch(oe){Ie(e,e.return,oe)}}break;case 3:if(At(t,e),Vt(e),a&4&&n!==null&&n.memoizedState.isDehydrated)try{qn(t.containerInfo)}catch(oe){Ie(e,e.return,oe)}break;case 4:At(t,e),Vt(e);break;case 13:At(t,e),Vt(e),i=e.child,i.flags&8192&&(u=i.memoizedState!==null,i.stateNode.isHidden=u,!u||i.alternate!==null&&i.alternate.memoizedState!==null||(Uo=Ue())),a&4&&sd(e);break;case 22:if(Y=n!==null&&n.memoizedState!==null,e.mode&1?(tt=(z=tt)||Y,At(t,e),tt=z):At(t,e),Vt(e),a&8192){if(z=e.memoizedState!==null,(e.stateNode.isHidden=z)&&!Y&&(e.mode&1)!==0)for(ae=e,Y=e.child;Y!==null;){for(G=ae=Y;ae!==null;){switch(K=ae,se=K.child,K.tag){case 0:case 11:case 14:case 15:ps(4,K,K.return);break;case 1:wn(K,K.return);var le=K.stateNode;if(typeof le.componentWillUnmount=="function"){a=K,n=K.return;try{t=a,le.props=t.memoizedProps,le.state=t.memoizedState,le.componentWillUnmount()}catch(oe){Ie(a,n,oe)}}break;case 5:wn(K,K.return);break;case 22:if(K.memoizedState!==null){id(G);continue}}se!==null?(se.return=K,ae=se):id(G)}Y=Y.sibling}e:for(Y=null,G=e;;){if(G.tag===5){if(Y===null){Y=G;try{i=G.stateNode,z?(u=i.style,typeof u.setProperty=="function"?u.setProperty("display","none","important"):u.display="none"):(w=G.stateNode,S=G.memoizedProps.style,p=S!=null&&S.hasOwnProperty("display")?S.display:null,w.style.display=Ui("display",p))}catch(oe){Ie(e,e.return,oe)}}}else if(G.tag===6){if(Y===null)try{G.stateNode.nodeValue=z?"":G.memoizedProps}catch(oe){Ie(e,e.return,oe)}}else if((G.tag!==22&&G.tag!==23||G.memoizedState===null||G===e)&&G.child!==null){G.child.return=G,G=G.child;continue}if(G===e)break e;for(;G.sibling===null;){if(G.return===null||G.return===e)break e;Y===G&&(Y=null),G=G.return}Y===G&&(Y=null),G.sibling.return=G.return,G=G.sibling}}break;case 19:At(t,e),Vt(e),a&4&&sd(e);break;case 21:break;default:At(t,e),Vt(e)}}function Vt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(td(n)){var a=n;break e}n=n.return}throw Error(o(160))}switch(a.tag){case 5:var i=a.stateNode;a.flags&32&&(Dn(i,""),a.flags&=-33);var u=rd(e);Fo(e,u,i);break;case 3:case 4:var p=a.stateNode.containerInfo,w=rd(e);Oo(e,w,p);break;default:throw Error(o(161))}}catch(S){Ie(e,e.return,S)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Lp(e,t,n){ae=e,ld(e)}function ld(e,t,n){for(var a=(e.mode&1)!==0;ae!==null;){var i=ae,u=i.child;if(i.tag===22&&a){var p=i.memoizedState!==null||Na;if(!p){var w=i.alternate,S=w!==null&&w.memoizedState!==null||tt;w=Na;var z=tt;if(Na=p,(tt=S)&&!z)for(ae=i;ae!==null;)p=ae,S=p.child,p.tag===22&&p.memoizedState!==null?cd(i):S!==null?(S.return=p,ae=S):cd(i);for(;u!==null;)ae=u,ld(u),u=u.sibling;ae=i,Na=w,tt=z}od(e)}else(i.subtreeFlags&8772)!==0&&u!==null?(u.return=i,ae=u):od(e)}}function od(e){for(;ae!==null;){var t=ae;if((t.flags&8772)!==0){var n=t.alternate;try{if((t.flags&8772)!==0)switch(t.tag){case 0:case 11:case 15:tt||ka(5,t);break;case 1:var a=t.stateNode;if(t.flags&4&&!tt)if(n===null)a.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:Lt(t.type,n.memoizedProps);a.componentDidUpdate(i,n.memoizedState,a.__reactInternalSnapshotBeforeUpdate)}var u=t.updateQueue;u!==null&&iu(t,u,a);break;case 3:var p=t.updateQueue;if(p!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}iu(t,p,n)}break;case 5:var w=t.stateNode;if(n===null&&t.flags&4){n=w;var S=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":S.autoFocus&&n.focus();break;case"img":S.src&&(n.src=S.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var z=t.alternate;if(z!==null){var Y=z.memoizedState;if(Y!==null){var G=Y.dehydrated;G!==null&&qn(G)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(o(163))}tt||t.flags&512&&Do(t)}catch(K){Ie(t,t.return,K)}}if(t===e){ae=null;break}if(n=t.sibling,n!==null){n.return=t.return,ae=n;break}ae=t.return}}function id(e){for(;ae!==null;){var t=ae;if(t===e){ae=null;break}var n=t.sibling;if(n!==null){n.return=t.return,ae=n;break}ae=t.return}}function cd(e){for(;ae!==null;){var t=ae;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{ka(4,t)}catch(S){Ie(t,n,S)}break;case 1:var a=t.stateNode;if(typeof a.componentDidMount=="function"){var i=t.return;try{a.componentDidMount()}catch(S){Ie(t,i,S)}}var u=t.return;try{Do(t)}catch(S){Ie(t,u,S)}break;case 5:var p=t.return;try{Do(t)}catch(S){Ie(t,p,S)}}}catch(S){Ie(t,t.return,S)}if(t===e){ae=null;break}var w=t.sibling;if(w!==null){w.return=t.return,ae=w;break}ae=t.return}}var Mp=Math.ceil,Sa=V.ReactCurrentDispatcher,Io=V.ReactCurrentOwner,Ct=V.ReactCurrentBatchConfig,ke=0,Ke=null,Be=null,Ge=0,yt=0,bn=yr(0),We=0,hs=null,zr=0,Ca=0,zo=0,xs=null,ct=null,Uo=0,jn=1/0,sr=null,Ea=!1,$o=null,kr=null,_a=!1,Sr=null,Pa=0,gs=0,Bo=null,Ra=-1,Ta=0;function st(){return(ke&6)!==0?Ue():Ra!==-1?Ra:Ra=Ue()}function Cr(e){return(e.mode&1)===0?1:(ke&2)!==0&&Ge!==0?Ge&-Ge:xp.transition!==null?(Ta===0&&(Ta=rc()),Ta):(e=Pe,e!==0||(e=window.event,e=e===void 0?16:dc(e.type)),e)}function Dt(e,t,n,a){if(50<gs)throw gs=0,Bo=null,Error(o(185));$n(e,n,a),((ke&2)===0||e!==Ke)&&(e===Ke&&((ke&2)===0&&(Ca|=n),We===4&&Er(e,Ge)),ut(e,a),n===1&&ke===0&&(t.mode&1)===0&&(jn=Ue()+500,aa&&wr()))}function ut(e,t){var n=e.callbackNode;xf(e,t);var a=Us(e,e===Ke?Ge:0);if(a===0)n!==null&&Zi(n),e.callbackNode=null,e.callbackPriority=0;else if(t=a&-a,e.callbackPriority!==t){if(n!=null&&Zi(n),t===1)e.tag===0?hp(dd.bind(null,e)):Gc(dd.bind(null,e)),dp(function(){(ke&6)===0&&wr()}),n=null;else{switch(nc(a)){case 1:n=wl;break;case 4:n=ec;break;case 16:n=Os;break;case 536870912:n=tc;break;default:n=Os}n=vd(n,ud.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ud(e,t){if(Ra=-1,Ta=0,(ke&6)!==0)throw Error(o(327));var n=e.callbackNode;if(Nn()&&e.callbackNode!==n)return null;var a=Us(e,e===Ke?Ge:0);if(a===0)return null;if((a&30)!==0||(a&e.expiredLanes)!==0||t)t=La(e,a);else{t=a;var i=ke;ke|=2;var u=fd();(Ke!==e||Ge!==t)&&(sr=null,jn=Ue()+500,$r(e,t));do try{Op();break}catch(w){md(e,w)}while(!0);ao(),Sa.current=u,ke=i,Be!==null?t=0:(Ke=null,Ge=0,t=We)}if(t!==0){if(t===2&&(i=bl(e),i!==0&&(a=i,t=Ho(e,i))),t===1)throw n=hs,$r(e,0),Er(e,a),ut(e,Ue()),n;if(t===6)Er(e,a);else{if(i=e.current.alternate,(a&30)===0&&!Ap(i)&&(t=La(e,a),t===2&&(u=bl(e),u!==0&&(a=u,t=Ho(e,u))),t===1))throw n=hs,$r(e,0),Er(e,a),ut(e,Ue()),n;switch(e.finishedWork=i,e.finishedLanes=a,t){case 0:case 1:throw Error(o(345));case 2:Br(e,ct,sr);break;case 3:if(Er(e,a),(a&130023424)===a&&(t=Uo+500-Ue(),10<t)){if(Us(e,0)!==0)break;if(i=e.suspendedLanes,(i&a)!==a){st(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Yl(Br.bind(null,e,ct,sr),t);break}Br(e,ct,sr);break;case 4:if(Er(e,a),(a&4194240)===a)break;for(t=e.eventTimes,i=-1;0<a;){var p=31-Pt(a);u=1<<p,p=t[p],p>i&&(i=p),a&=~u}if(a=i,a=Ue()-a,a=(120>a?120:480>a?480:1080>a?1080:1920>a?1920:3e3>a?3e3:4320>a?4320:1960*Mp(a/1960))-a,10<a){e.timeoutHandle=Yl(Br.bind(null,e,ct,sr),a);break}Br(e,ct,sr);break;case 5:Br(e,ct,sr);break;default:throw Error(o(329))}}}return ut(e,Ue()),e.callbackNode===n?ud.bind(null,e):null}function Ho(e,t){var n=xs;return e.current.memoizedState.isDehydrated&&($r(e,t).flags|=256),e=La(e,t),e!==2&&(t=ct,ct=n,t!==null&&Vo(t)),e}function Vo(e){ct===null?ct=e:ct.push.apply(ct,e)}function Ap(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var a=0;a<n.length;a++){var i=n[a],u=i.getSnapshot;i=i.value;try{if(!Rt(u(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Er(e,t){for(t&=~zo,t&=~Ca,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Pt(t),a=1<<n;e[n]=-1,t&=~a}}function dd(e){if((ke&6)!==0)throw Error(o(327));Nn();var t=Us(e,0);if((t&1)===0)return ut(e,Ue()),null;var n=La(e,t);if(e.tag!==0&&n===2){var a=bl(e);a!==0&&(t=a,n=Ho(e,a))}if(n===1)throw n=hs,$r(e,0),Er(e,t),ut(e,Ue()),n;if(n===6)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Br(e,ct,sr),ut(e,Ue()),null}function Wo(e,t){var n=ke;ke|=1;try{return e(t)}finally{ke=n,ke===0&&(jn=Ue()+500,aa&&wr())}}function Ur(e){Sr!==null&&Sr.tag===0&&(ke&6)===0&&Nn();var t=ke;ke|=1;var n=Ct.transition,a=Pe;try{if(Ct.transition=null,Pe=1,e)return e()}finally{Pe=a,Ct.transition=n,ke=t,(ke&6)===0&&wr()}}function qo(){yt=bn.current,Me(bn)}function $r(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,up(n)),Be!==null)for(n=Be.return;n!==null;){var a=n;switch(eo(a),a.tag){case 1:a=a.type.childContextTypes,a!=null&&na();break;case 3:yn(),Me(lt),Me(Xe),po();break;case 5:mo(a);break;case 4:yn();break;case 13:Me(Oe);break;case 19:Me(Oe);break;case 10:lo(a.type._context);break;case 22:case 23:qo()}n=n.return}if(Ke=e,Be=e=_r(e.current,null),Ge=yt=t,We=0,hs=null,zo=Ca=zr=0,ct=xs=null,Or!==null){for(t=0;t<Or.length;t++)if(n=Or[t],a=n.interleaved,a!==null){n.interleaved=null;var i=a.next,u=n.pending;if(u!==null){var p=u.next;u.next=i,a.next=p}n.pending=a}Or=null}return e}function md(e,t){do{var n=Be;try{if(ao(),ha.current=va,xa){for(var a=Fe.memoizedState;a!==null;){var i=a.queue;i!==null&&(i.pending=null),a=a.next}xa=!1}if(Ir=0,qe=Ve=Fe=null,cs=!1,us=0,Io.current=null,n===null||n.return===null){We=1,hs=t,Be=null;break}e:{var u=e,p=n.return,w=n,S=t;if(t=Ge,w.flags|=32768,S!==null&&typeof S=="object"&&typeof S.then=="function"){var z=S,Y=w,G=Y.tag;if((Y.mode&1)===0&&(G===0||G===11||G===15)){var K=Y.alternate;K?(Y.updateQueue=K.updateQueue,Y.memoizedState=K.memoizedState,Y.lanes=K.lanes):(Y.updateQueue=null,Y.memoizedState=null)}var se=Fu(p);if(se!==null){se.flags&=-257,Iu(se,p,w,u,t),se.mode&1&&Ou(u,z,t),t=se,S=z;var le=t.updateQueue;if(le===null){var oe=new Set;oe.add(S),t.updateQueue=oe}else le.add(S);break e}else{if((t&1)===0){Ou(u,z,t),Ko();break e}S=Error(o(426))}}else if(Ae&&w.mode&1){var $e=Fu(p);if($e!==null){($e.flags&65536)===0&&($e.flags|=256),Iu($e,p,w,u,t),no(vn(S,w));break e}}u=S=vn(S,w),We!==4&&(We=2),xs===null?xs=[u]:xs.push(u),u=p;do{switch(u.tag){case 3:u.flags|=65536,t&=-t,u.lanes|=t;var A=Au(u,S,t);ou(u,A);break e;case 1:w=S;var C=u.type,O=u.stateNode;if((u.flags&128)===0&&(typeof C.getDerivedStateFromError=="function"||O!==null&&typeof O.componentDidCatch=="function"&&(kr===null||!kr.has(O)))){u.flags|=65536,t&=-t,u.lanes|=t;var Z=Du(u,w,t);ou(u,Z);break e}}u=u.return}while(u!==null)}hd(n)}catch(ie){t=ie,Be===n&&n!==null&&(Be=n=n.return);continue}break}while(!0)}function fd(){var e=Sa.current;return Sa.current=va,e===null?va:e}function Ko(){(We===0||We===3||We===2)&&(We=4),Ke===null||(zr&268435455)===0&&(Ca&268435455)===0||Er(Ke,Ge)}function La(e,t){var n=ke;ke|=2;var a=fd();(Ke!==e||Ge!==t)&&(sr=null,$r(e,t));do try{Dp();break}catch(i){md(e,i)}while(!0);if(ao(),ke=n,Sa.current=a,Be!==null)throw Error(o(261));return Ke=null,Ge=0,We}function Dp(){for(;Be!==null;)pd(Be)}function Op(){for(;Be!==null&&!lf();)pd(Be)}function pd(e){var t=yd(e.alternate,e,yt);e.memoizedProps=e.pendingProps,t===null?hd(e):Be=t,Io.current=null}function hd(e){var t=e;do{var n=t.alternate;if(e=t.return,(t.flags&32768)===0){if(n=_p(n,t,yt),n!==null){Be=n;return}}else{if(n=Pp(n,t),n!==null){n.flags&=32767,Be=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{We=6,Be=null;return}}if(t=t.sibling,t!==null){Be=t;return}Be=t=e}while(t!==null);We===0&&(We=5)}function Br(e,t,n){var a=Pe,i=Ct.transition;try{Ct.transition=null,Pe=1,Fp(e,t,n,a)}finally{Ct.transition=i,Pe=a}return null}function Fp(e,t,n,a){do Nn();while(Sr!==null);if((ke&6)!==0)throw Error(o(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var u=n.lanes|n.childLanes;if(gf(e,u),e===Ke&&(Be=Ke=null,Ge=0),(n.subtreeFlags&2064)===0&&(n.flags&2064)===0||_a||(_a=!0,vd(Os,function(){return Nn(),null})),u=(n.flags&15990)!==0,(n.subtreeFlags&15990)!==0||u){u=Ct.transition,Ct.transition=null;var p=Pe;Pe=1;var w=ke;ke|=4,Io.current=null,Tp(e,n),ad(n,e),np(ql),Hs=!!Wl,ql=Wl=null,e.current=n,Lp(n),of(),ke=w,Pe=p,Ct.transition=u}else e.current=n;if(_a&&(_a=!1,Sr=e,Pa=i),u=e.pendingLanes,u===0&&(kr=null),df(n.stateNode),ut(e,Ue()),t!==null)for(a=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],a(i.value,{componentStack:i.stack,digest:i.digest});if(Ea)throw Ea=!1,e=$o,$o=null,e;return(Pa&1)!==0&&e.tag!==0&&Nn(),u=e.pendingLanes,(u&1)!==0?e===Bo?gs++:(gs=0,Bo=e):gs=0,wr(),null}function Nn(){if(Sr!==null){var e=nc(Pa),t=Ct.transition,n=Pe;try{if(Ct.transition=null,Pe=16>e?16:e,Sr===null)var a=!1;else{if(e=Sr,Sr=null,Pa=0,(ke&6)!==0)throw Error(o(331));var i=ke;for(ke|=4,ae=e.current;ae!==null;){var u=ae,p=u.child;if((ae.flags&16)!==0){var w=u.deletions;if(w!==null){for(var S=0;S<w.length;S++){var z=w[S];for(ae=z;ae!==null;){var Y=ae;switch(Y.tag){case 0:case 11:case 15:ps(8,Y,u)}var G=Y.child;if(G!==null)G.return=Y,ae=G;else for(;ae!==null;){Y=ae;var K=Y.sibling,se=Y.return;if(ed(Y),Y===z){ae=null;break}if(K!==null){K.return=se,ae=K;break}ae=se}}}var le=u.alternate;if(le!==null){var oe=le.child;if(oe!==null){le.child=null;do{var $e=oe.sibling;oe.sibling=null,oe=$e}while(oe!==null)}}ae=u}}if((u.subtreeFlags&2064)!==0&&p!==null)p.return=u,ae=p;else e:for(;ae!==null;){if(u=ae,(u.flags&2048)!==0)switch(u.tag){case 0:case 11:case 15:ps(9,u,u.return)}var A=u.sibling;if(A!==null){A.return=u.return,ae=A;break e}ae=u.return}}var C=e.current;for(ae=C;ae!==null;){p=ae;var O=p.child;if((p.subtreeFlags&2064)!==0&&O!==null)O.return=p,ae=O;else e:for(p=C;ae!==null;){if(w=ae,(w.flags&2048)!==0)try{switch(w.tag){case 0:case 11:case 15:ka(9,w)}}catch(ie){Ie(w,w.return,ie)}if(w===p){ae=null;break e}var Z=w.sibling;if(Z!==null){Z.return=w.return,ae=Z;break e}ae=w.return}}if(ke=i,wr(),Ut&&typeof Ut.onPostCommitFiberRoot=="function")try{Ut.onPostCommitFiberRoot(Fs,e)}catch{}a=!0}return a}finally{Pe=n,Ct.transition=t}}return!1}function xd(e,t,n){t=vn(n,t),t=Au(e,t,1),e=jr(e,t,1),t=st(),e!==null&&($n(e,1,t),ut(e,t))}function Ie(e,t,n){if(e.tag===3)xd(e,e,n);else for(;t!==null;){if(t.tag===3){xd(t,e,n);break}else if(t.tag===1){var a=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(kr===null||!kr.has(a))){e=vn(n,e),e=Du(t,e,1),t=jr(t,e,1),e=st(),t!==null&&($n(t,1,e),ut(t,e));break}}t=t.return}}function Ip(e,t,n){var a=e.pingCache;a!==null&&a.delete(t),t=st(),e.pingedLanes|=e.suspendedLanes&n,Ke===e&&(Ge&n)===n&&(We===4||We===3&&(Ge&130023424)===Ge&&500>Ue()-Uo?$r(e,0):zo|=n),ut(e,t)}function gd(e,t){t===0&&((e.mode&1)===0?t=1:(t=zs,zs<<=1,(zs&130023424)===0&&(zs=4194304)));var n=st();e=tr(e,t),e!==null&&($n(e,t,n),ut(e,n))}function zp(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),gd(e,n)}function Up(e,t){var n=0;switch(e.tag){case 13:var a=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:a=e.stateNode;break;default:throw Error(o(314))}a!==null&&a.delete(t),gd(e,n)}var yd;yd=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||lt.current)it=!0;else{if((e.lanes&n)===0&&(t.flags&128)===0)return it=!1,Ep(e,t,n);it=(e.flags&131072)!==0}else it=!1,Ae&&(t.flags&1048576)!==0&&Jc(t,oa,t.index);switch(t.lanes=0,t.tag){case 2:var a=t.type;ja(e,t),e=t.pendingProps;var i=dn(t,Xe.current);gn(t,n),i=go(null,t,a,e,i,n);var u=yo();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ot(a)?(u=!0,sa(t)):u=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,co(t),i.updater=wa,t.stateNode=i,i._reactInternals=t,ko(t,a,e,n),t=_o(null,t,a,!0,u,n)):(t.tag=0,Ae&&u&&Zl(t),nt(null,t,i,n),t=t.child),t;case 16:a=t.elementType;e:{switch(ja(e,t),e=t.pendingProps,i=a._init,a=i(a._payload),t.type=a,i=t.tag=Bp(a),e=Lt(a,e),i){case 0:t=Eo(null,t,a,e,n);break e;case 1:t=Vu(null,t,a,e,n);break e;case 11:t=zu(null,t,a,e,n);break e;case 14:t=Uu(null,t,a,Lt(a.type,e),n);break e}throw Error(o(306,a,""))}return t;case 0:return a=t.type,i=t.pendingProps,i=t.elementType===a?i:Lt(a,i),Eo(e,t,a,i,n);case 1:return a=t.type,i=t.pendingProps,i=t.elementType===a?i:Lt(a,i),Vu(e,t,a,i,n);case 3:e:{if(Wu(t),e===null)throw Error(o(387));a=t.pendingProps,u=t.memoizedState,i=u.element,lu(e,t),fa(t,a,null,n);var p=t.memoizedState;if(a=p.element,u.isDehydrated)if(u={element:a,isDehydrated:!1,cache:p.cache,pendingSuspenseBoundaries:p.pendingSuspenseBoundaries,transitions:p.transitions},t.updateQueue.baseState=u,t.memoizedState=u,t.flags&256){i=vn(Error(o(423)),t),t=qu(e,t,a,n,i);break e}else if(a!==i){i=vn(Error(o(424)),t),t=qu(e,t,a,n,i);break e}else for(gt=gr(t.stateNode.containerInfo.firstChild),xt=t,Ae=!0,Tt=null,n=su(t,null,a,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(pn(),a===i){t=nr(e,t,n);break e}nt(e,t,a,n)}t=t.child}return t;case 5:return cu(t),e===null&&ro(t),a=t.type,i=t.pendingProps,u=e!==null?e.memoizedProps:null,p=i.children,Kl(a,i)?p=null:u!==null&&Kl(a,u)&&(t.flags|=32),Hu(e,t),nt(e,t,p,n),t.child;case 6:return e===null&&ro(t),null;case 13:return Ku(e,t,n);case 4:return uo(t,t.stateNode.containerInfo),a=t.pendingProps,e===null?t.child=hn(t,null,a,n):nt(e,t,a,n),t.child;case 11:return a=t.type,i=t.pendingProps,i=t.elementType===a?i:Lt(a,i),zu(e,t,a,i,n);case 7:return nt(e,t,t.pendingProps,n),t.child;case 8:return nt(e,t,t.pendingProps.children,n),t.child;case 12:return nt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(a=t.type._context,i=t.pendingProps,u=t.memoizedProps,p=i.value,Te(ua,a._currentValue),a._currentValue=p,u!==null)if(Rt(u.value,p)){if(u.children===i.children&&!lt.current){t=nr(e,t,n);break e}}else for(u=t.child,u!==null&&(u.return=t);u!==null;){var w=u.dependencies;if(w!==null){p=u.child;for(var S=w.firstContext;S!==null;){if(S.context===a){if(u.tag===1){S=rr(-1,n&-n),S.tag=2;var z=u.updateQueue;if(z!==null){z=z.shared;var Y=z.pending;Y===null?S.next=S:(S.next=Y.next,Y.next=S),z.pending=S}}u.lanes|=n,S=u.alternate,S!==null&&(S.lanes|=n),oo(u.return,n,t),w.lanes|=n;break}S=S.next}}else if(u.tag===10)p=u.type===t.type?null:u.child;else if(u.tag===18){if(p=u.return,p===null)throw Error(o(341));p.lanes|=n,w=p.alternate,w!==null&&(w.lanes|=n),oo(p,n,t),p=u.sibling}else p=u.child;if(p!==null)p.return=u;else for(p=u;p!==null;){if(p===t){p=null;break}if(u=p.sibling,u!==null){u.return=p.return,p=u;break}p=p.return}u=p}nt(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,a=t.pendingProps.children,gn(t,n),i=kt(i),a=a(i),t.flags|=1,nt(e,t,a,n),t.child;case 14:return a=t.type,i=Lt(a,t.pendingProps),i=Lt(a.type,i),Uu(e,t,a,i,n);case 15:return $u(e,t,t.type,t.pendingProps,n);case 17:return a=t.type,i=t.pendingProps,i=t.elementType===a?i:Lt(a,i),ja(e,t),t.tag=1,ot(a)?(e=!0,sa(t)):e=!1,gn(t,n),Lu(t,a,i),ko(t,a,i,n),_o(null,t,a,!0,e,n);case 19:return Qu(e,t,n);case 22:return Bu(e,t,n)}throw Error(o(156,t.tag))};function vd(e,t){return Xi(e,t)}function $p(e,t,n,a){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Et(e,t,n,a){return new $p(e,t,n,a)}function Yo(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Bp(e){if(typeof e=="function")return Yo(e)?1:0;if(e!=null){if(e=e.$$typeof,e===je)return 11;if(e===ye)return 14}return 2}function _r(e,t){var n=e.alternate;return n===null?(n=Et(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ma(e,t,n,a,i,u){var p=2;if(a=e,typeof e=="function")Yo(e)&&(p=1);else if(typeof e=="string")p=5;else e:switch(e){case J:return Hr(n.children,i,u,t);case re:p=8,i|=8;break;case B:return e=Et(12,n,t,i|2),e.elementType=B,e.lanes=u,e;case Ee:return e=Et(13,n,t,i),e.elementType=Ee,e.lanes=u,e;case te:return e=Et(19,n,t,i),e.elementType=te,e.lanes=u,e;case X:return Aa(n,i,u,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ee:p=10;break e;case ce:p=9;break e;case je:p=11;break e;case ye:p=14;break e;case we:p=16,a=null;break e}throw Error(o(130,e==null?e:typeof e,""))}return t=Et(p,n,t,i),t.elementType=e,t.type=a,t.lanes=u,t}function Hr(e,t,n,a){return e=Et(7,e,a,t),e.lanes=n,e}function Aa(e,t,n,a){return e=Et(22,e,a,t),e.elementType=X,e.lanes=n,e.stateNode={isHidden:!1},e}function Qo(e,t,n){return e=Et(6,e,null,t),e.lanes=n,e}function Go(e,t,n){return t=Et(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Hp(e,t,n,a,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=jl(0),this.expirationTimes=jl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=jl(0),this.identifierPrefix=a,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Jo(e,t,n,a,i,u,p,w,S){return e=new Hp(e,t,n,w,S),t===1?(t=1,u===!0&&(t|=8)):t=0,u=Et(3,null,null,t),e.current=u,u.stateNode=e,u.memoizedState={element:a,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},co(u),e}function Vp(e,t,n){var a=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:F,key:a==null?null:""+a,children:e,containerInfo:t,implementation:n}}function wd(e){if(!e)return vr;e=e._reactInternals;e:{if(Tr(e)!==e||e.tag!==1)throw Error(o(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ot(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(o(171))}if(e.tag===1){var n=e.type;if(ot(n))return Yc(e,n,t)}return t}function bd(e,t,n,a,i,u,p,w,S){return e=Jo(n,a,!0,e,i,u,p,w,S),e.context=wd(null),n=e.current,a=st(),i=Cr(n),u=rr(a,i),u.callback=t??null,jr(n,u,i),e.current.lanes=i,$n(e,i,a),ut(e,a),e}function Da(e,t,n,a){var i=t.current,u=st(),p=Cr(i);return n=wd(n),t.context===null?t.context=n:t.pendingContext=n,t=rr(u,p),t.payload={element:e},a=a===void 0?null:a,a!==null&&(t.callback=a),e=jr(i,t,p),e!==null&&(Dt(e,i,p,u),ma(e,i,p)),p}function Oa(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function jd(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Xo(e,t){jd(e,t),(e=e.alternate)&&jd(e,t)}function Wp(){return null}var Nd=typeof reportError=="function"?reportError:function(e){console.error(e)};function Zo(e){this._internalRoot=e}Fa.prototype.render=Zo.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(o(409));Da(e,t,null,null)},Fa.prototype.unmount=Zo.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Ur(function(){Da(null,e,null,null)}),t[Jt]=null}};function Fa(e){this._internalRoot=e}Fa.prototype.unstable_scheduleHydration=function(e){if(e){var t=lc();e={blockedOn:null,target:e,priority:t};for(var n=0;n<pr.length&&t!==0&&t<pr[n].priority;n++);pr.splice(n,0,e),n===0&&cc(e)}};function ei(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ia(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function kd(){}function qp(e,t,n,a,i){if(i){if(typeof a=="function"){var u=a;a=function(){var z=Oa(p);u.call(z)}}var p=bd(t,a,e,0,null,!1,!1,"",kd);return e._reactRootContainer=p,e[Jt]=p.current,ts(e.nodeType===8?e.parentNode:e),Ur(),p}for(;i=e.lastChild;)e.removeChild(i);if(typeof a=="function"){var w=a;a=function(){var z=Oa(S);w.call(z)}}var S=Jo(e,0,!1,null,null,!1,!1,"",kd);return e._reactRootContainer=S,e[Jt]=S.current,ts(e.nodeType===8?e.parentNode:e),Ur(function(){Da(t,S,n,a)}),S}function za(e,t,n,a,i){var u=n._reactRootContainer;if(u){var p=u;if(typeof i=="function"){var w=i;i=function(){var S=Oa(p);w.call(S)}}Da(t,p,e,i)}else p=qp(n,t,e,i,a);return Oa(p)}sc=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Un(t.pendingLanes);n!==0&&(Nl(t,n|1),ut(t,Ue()),(ke&6)===0&&(jn=Ue()+500,wr()))}break;case 13:Ur(function(){var a=tr(e,1);if(a!==null){var i=st();Dt(a,e,1,i)}}),Xo(e,1)}},kl=function(e){if(e.tag===13){var t=tr(e,134217728);if(t!==null){var n=st();Dt(t,e,134217728,n)}Xo(e,134217728)}},ac=function(e){if(e.tag===13){var t=Cr(e),n=tr(e,t);if(n!==null){var a=st();Dt(n,e,t,a)}Xo(e,t)}},lc=function(){return Pe},oc=function(e,t){var n=Pe;try{return Pe=e,t()}finally{Pe=n}},xl=function(e,t,n){switch(t){case"input":if(Jr(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var a=n[t];if(a!==e&&a.form===e.form){var i=ra(a);if(!i)throw Error(o(90));Re(a),Jr(a,i)}}}break;case"textarea":Oi(e,n);break;case"select":t=n.value,t!=null&&Xr(e,!!n.multiple,t,!1)}},Wi=Wo,qi=Ur;var Kp={usingClientEntryPoint:!1,Events:[ss,cn,ra,Hi,Vi,Wo]},ys={findFiberByHostInstance:Lr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Yp={bundleType:ys.bundleType,version:ys.version,rendererPackageName:ys.rendererPackageName,rendererConfig:ys.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:V.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Gi(e),e===null?null:e.stateNode},findFiberByHostInstance:ys.findFiberByHostInstance||Wp,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ua=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ua.isDisabled&&Ua.supportsFiber)try{Fs=Ua.inject(Yp),Ut=Ua}catch{}}return dt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Kp,dt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ei(t))throw Error(o(200));return Vp(e,t,null,n)},dt.createRoot=function(e,t){if(!ei(e))throw Error(o(299));var n=!1,a="",i=Nd;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(a=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=Jo(e,1,!1,null,null,n,!1,a,i),e[Jt]=t.current,ts(e.nodeType===8?e.parentNode:e),new Zo(t)},dt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(o(188)):(e=Object.keys(e).join(","),Error(o(268,e)));return e=Gi(t),e=e===null?null:e.stateNode,e},dt.flushSync=function(e){return Ur(e)},dt.hydrate=function(e,t,n){if(!Ia(t))throw Error(o(200));return za(null,e,t,!0,n)},dt.hydrateRoot=function(e,t,n){if(!ei(e))throw Error(o(405));var a=n!=null&&n.hydratedSources||null,i=!1,u="",p=Nd;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(u=n.identifierPrefix),n.onRecoverableError!==void 0&&(p=n.onRecoverableError)),t=bd(t,null,e,1,n??null,i,!1,u,p),e[Jt]=t.current,ts(e),a)for(e=0;e<a.length;e++)n=a[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Fa(t)},dt.render=function(e,t,n){if(!Ia(t))throw Error(o(200));return za(null,e,t,!1,n)},dt.unmountComponentAtNode=function(e){if(!Ia(e))throw Error(o(40));return e._reactRootContainer?(Ur(function(){za(null,null,e,!1,function(){e._reactRootContainer=null,e[Jt]=null})}),!0):!1},dt.unstable_batchedUpdates=Wo,dt.unstable_renderSubtreeIntoContainer=function(e,t,n,a){if(!Ia(n))throw Error(o(200));if(e==null||e._reactInternals===void 0)throw Error(o(38));return za(e,t,n,!1,a)},dt.version="18.3.1-next-f1338f8080-20240426",dt}var Ld;function nh(){if(Ld)return ni.exports;Ld=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(l){console.error(l)}}return s(),ni.exports=rh(),ni.exports}var Md;function sh(){if(Md)return $a;Md=1;var s=nh();return $a.createRoot=s.createRoot,$a.hydrateRoot=s.hydrateRoot,$a}var ah=sh();/**
 * react-router v7.9.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Ad="popstate";function lh(s={}){function l(c,d){let{pathname:m,search:f,hash:h}=c.location;return di("",{pathname:m,search:f,hash:h},d.state&&d.state.usr||null,d.state&&d.state.key||"default")}function o(c,d){return typeof d=="string"?d:ks(d)}return ih(l,o,null,s)}function De(s,l){if(s===!1||s===null||typeof s>"u")throw new Error(l)}function _t(s,l){if(!s){typeof console<"u"&&console.warn(l);try{throw new Error(l)}catch{}}}function oh(){return Math.random().toString(36).substring(2,10)}function Dd(s,l){return{usr:s.state,key:s.key,idx:l}}function di(s,l,o=null,c){return{pathname:typeof s=="string"?s:s.pathname,search:"",hash:"",...typeof l=="string"?_n(l):l,state:o,key:l&&l.key||c||oh()}}function ks({pathname:s="/",search:l="",hash:o=""}){return l&&l!=="?"&&(s+=l.charAt(0)==="?"?l:"?"+l),o&&o!=="#"&&(s+=o.charAt(0)==="#"?o:"#"+o),s}function _n(s){let l={};if(s){let o=s.indexOf("#");o>=0&&(l.hash=s.substring(o),s=s.substring(0,o));let c=s.indexOf("?");c>=0&&(l.search=s.substring(c),s=s.substring(0,c)),s&&(l.pathname=s)}return l}function ih(s,l,o,c={}){let{window:d=document.defaultView,v5Compat:m=!1}=c,f=d.history,h="POP",y=null,v=g();v==null&&(v=0,f.replaceState({...f.state,idx:v},""));function g(){return(f.state||{idx:null}).idx}function j(){h="POP";let b=g(),P=b==null?null:b-v;v=b,y&&y({action:h,location:L.location,delta:P})}function T(b,P){h="PUSH";let _=di(L.location,b,P);v=g()+1;let H=Dd(_,v),V=L.createHref(_);try{f.pushState(H,"",V)}catch(W){if(W instanceof DOMException&&W.name==="DataCloneError")throw W;d.location.assign(V)}m&&y&&y({action:h,location:L.location,delta:1})}function D(b,P){h="REPLACE";let _=di(L.location,b,P);v=g();let H=Dd(_,v),V=L.createHref(_);f.replaceState(H,"",V),m&&y&&y({action:h,location:L.location,delta:0})}function k(b){return ch(b)}let L={get action(){return h},get location(){return s(d,f)},listen(b){if(y)throw new Error("A history only accepts one active listener");return d.addEventListener(Ad,j),y=b,()=>{d.removeEventListener(Ad,j),y=null}},createHref(b){return l(d,b)},createURL:k,encodeLocation(b){let P=k(b);return{pathname:P.pathname,search:P.search,hash:P.hash}},push:T,replace:D,go(b){return f.go(b)}};return L}function ch(s,l=!1){let o="http://localhost";typeof window<"u"&&(o=window.location.origin!=="null"?window.location.origin:window.location.href),De(o,"No window.location.(origin|href) available to create URL");let c=typeof s=="string"?s:ks(s);return c=c.replace(/ $/,"%20"),!l&&c.startsWith("//")&&(c=o+c),new URL(c,o)}function om(s,l,o="/"){return uh(s,l,o,!1)}function uh(s,l,o,c){let d=typeof l=="string"?_n(l):l,m=ir(d.pathname||"/",o);if(m==null)return null;let f=im(s);dh(f);let h=null;for(let y=0;h==null&&y<f.length;++y){let v=jh(m);h=wh(f[y],v,c)}return h}function im(s,l=[],o=[],c="",d=!1){let m=(f,h,y=d,v)=>{let g={relativePath:v===void 0?f.path||"":v,caseSensitive:f.caseSensitive===!0,childrenIndex:h,route:f};if(g.relativePath.startsWith("/")){if(!g.relativePath.startsWith(c)&&y)return;De(g.relativePath.startsWith(c),`Absolute route path "${g.relativePath}" nested under path "${c}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(c.length)}let j=lr([c,g.relativePath]),T=o.concat(g);f.children&&f.children.length>0&&(De(f.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${j}".`),im(f.children,l,T,j,y)),!(f.path==null&&!f.index)&&l.push({path:j,score:yh(j,f.index),routesMeta:T})};return s.forEach((f,h)=>{if(f.path===""||!f.path?.includes("?"))m(f,h);else for(let y of cm(f.path))m(f,h,!0,y)}),l}function cm(s){let l=s.split("/");if(l.length===0)return[];let[o,...c]=l,d=o.endsWith("?"),m=o.replace(/\?$/,"");if(c.length===0)return d?[m,""]:[m];let f=cm(c.join("/")),h=[];return h.push(...f.map(y=>y===""?m:[m,y].join("/"))),d&&h.push(...f),h.map(y=>s.startsWith("/")&&y===""?"/":y)}function dh(s){s.sort((l,o)=>l.score!==o.score?o.score-l.score:vh(l.routesMeta.map(c=>c.childrenIndex),o.routesMeta.map(c=>c.childrenIndex)))}var mh=/^:[\w-]+$/,fh=3,ph=2,hh=1,xh=10,gh=-2,Od=s=>s==="*";function yh(s,l){let o=s.split("/"),c=o.length;return o.some(Od)&&(c+=gh),l&&(c+=ph),o.filter(d=>!Od(d)).reduce((d,m)=>d+(mh.test(m)?fh:m===""?hh:xh),c)}function vh(s,l){return s.length===l.length&&s.slice(0,-1).every((c,d)=>c===l[d])?s[s.length-1]-l[l.length-1]:0}function wh(s,l,o=!1){let{routesMeta:c}=s,d={},m="/",f=[];for(let h=0;h<c.length;++h){let y=c[h],v=h===c.length-1,g=m==="/"?l:l.slice(m.length)||"/",j=el({path:y.relativePath,caseSensitive:y.caseSensitive,end:v},g),T=y.route;if(!j&&v&&o&&!c[c.length-1].route.index&&(j=el({path:y.relativePath,caseSensitive:y.caseSensitive,end:!1},g)),!j)return null;Object.assign(d,j.params),f.push({params:d,pathname:lr([m,j.pathname]),pathnameBase:Ch(lr([m,j.pathnameBase])),route:T}),j.pathnameBase!=="/"&&(m=lr([m,j.pathnameBase]))}return f}function el(s,l){typeof s=="string"&&(s={path:s,caseSensitive:!1,end:!0});let[o,c]=bh(s.path,s.caseSensitive,s.end),d=l.match(o);if(!d)return null;let m=d[0],f=m.replace(/(.)\/+$/,"$1"),h=d.slice(1);return{params:c.reduce((v,{paramName:g,isOptional:j},T)=>{if(g==="*"){let k=h[T]||"";f=m.slice(0,m.length-k.length).replace(/(.)\/+$/,"$1")}const D=h[T];return j&&!D?v[g]=void 0:v[g]=(D||"").replace(/%2F/g,"/"),v},{}),pathname:m,pathnameBase:f,pattern:s}}function bh(s,l=!1,o=!0){_t(s==="*"||!s.endsWith("*")||s.endsWith("/*"),`Route path "${s}" will be treated as if it were "${s.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${s.replace(/\*$/,"/*")}".`);let c=[],d="^"+s.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,h,y)=>(c.push({paramName:h,isOptional:y!=null}),y?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return s.endsWith("*")?(c.push({paramName:"*"}),d+=s==="*"||s==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):o?d+="\\/*$":s!==""&&s!=="/"&&(d+="(?:(?=\\/|$))"),[new RegExp(d,l?void 0:"i"),c]}function jh(s){try{return s.split("/").map(l=>decodeURIComponent(l).replace(/\//g,"%2F")).join("/")}catch(l){return _t(!1,`The URL path "${s}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${l}).`),s}}function ir(s,l){if(l==="/")return s;if(!s.toLowerCase().startsWith(l.toLowerCase()))return null;let o=l.endsWith("/")?l.length-1:l.length,c=s.charAt(o);return c&&c!=="/"?null:s.slice(o)||"/"}function Nh(s,l="/"){let{pathname:o,search:c="",hash:d=""}=typeof s=="string"?_n(s):s;return{pathname:o?o.startsWith("/")?o:kh(o,l):l,search:Eh(c),hash:_h(d)}}function kh(s,l){let o=l.replace(/\/+$/,"").split("/");return s.split("/").forEach(d=>{d===".."?o.length>1&&o.pop():d!=="."&&o.push(d)}),o.length>1?o.join("/"):"/"}function li(s,l,o,c){return`Cannot include a '${s}' character in a manually specified \`to.${l}\` field [${JSON.stringify(c)}].  Please separate it out to the \`to.${o}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Sh(s){return s.filter((l,o)=>o===0||l.route.path&&l.route.path.length>0)}function wi(s){let l=Sh(s);return l.map((o,c)=>c===l.length-1?o.pathname:o.pathnameBase)}function bi(s,l,o,c=!1){let d;typeof s=="string"?d=_n(s):(d={...s},De(!d.pathname||!d.pathname.includes("?"),li("?","pathname","search",d)),De(!d.pathname||!d.pathname.includes("#"),li("#","pathname","hash",d)),De(!d.search||!d.search.includes("#"),li("#","search","hash",d)));let m=s===""||d.pathname==="",f=m?"/":d.pathname,h;if(f==null)h=o;else{let j=l.length-1;if(!c&&f.startsWith("..")){let T=f.split("/");for(;T[0]==="..";)T.shift(),j-=1;d.pathname=T.join("/")}h=j>=0?l[j]:"/"}let y=Nh(d,h),v=f&&f!=="/"&&f.endsWith("/"),g=(m||f===".")&&o.endsWith("/");return!y.pathname.endsWith("/")&&(v||g)&&(y.pathname+="/"),y}var lr=s=>s.join("/").replace(/\/\/+/g,"/"),Ch=s=>s.replace(/\/+$/,"").replace(/^\/*/,"/"),Eh=s=>!s||s==="?"?"":s.startsWith("?")?s:"?"+s,_h=s=>!s||s==="#"?"":s.startsWith("#")?s:"#"+s;function Ph(s){return s!=null&&typeof s.status=="number"&&typeof s.statusText=="string"&&typeof s.internal=="boolean"&&"data"in s}var um=["POST","PUT","PATCH","DELETE"];new Set(um);var Rh=["GET",...um];new Set(Rh);var Pn=x.createContext(null);Pn.displayName="DataRouter";var nl=x.createContext(null);nl.displayName="DataRouterState";x.createContext(!1);var dm=x.createContext({isTransitioning:!1});dm.displayName="ViewTransition";var Th=x.createContext(new Map);Th.displayName="Fetchers";var Lh=x.createContext(null);Lh.displayName="Await";var Ft=x.createContext(null);Ft.displayName="Navigation";var Cs=x.createContext(null);Cs.displayName="Location";var It=x.createContext({outlet:null,matches:[],isDataRoute:!1});It.displayName="Route";var ji=x.createContext(null);ji.displayName="RouteError";function Mh(s,{relative:l}={}){De(Rn(),"useHref() may be used only in the context of a <Router> component.");let{basename:o,navigator:c}=x.useContext(Ft),{hash:d,pathname:m,search:f}=Es(s,{relative:l}),h=m;return o!=="/"&&(h=m==="/"?o:lr([o,m])),c.createHref({pathname:h,search:f,hash:d})}function Rn(){return x.useContext(Cs)!=null}function Qt(){return De(Rn(),"useLocation() may be used only in the context of a <Router> component."),x.useContext(Cs).location}var mm="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function fm(s){x.useContext(Ft).static||x.useLayoutEffect(s)}function Rr(){let{isDataRoute:s}=x.useContext(It);return s?Kh():Ah()}function Ah(){De(Rn(),"useNavigate() may be used only in the context of a <Router> component.");let s=x.useContext(Pn),{basename:l,navigator:o}=x.useContext(Ft),{matches:c}=x.useContext(It),{pathname:d}=Qt(),m=JSON.stringify(wi(c)),f=x.useRef(!1);return fm(()=>{f.current=!0}),x.useCallback((y,v={})=>{if(_t(f.current,mm),!f.current)return;if(typeof y=="number"){o.go(y);return}let g=bi(y,JSON.parse(m),d,v.relative==="path");s==null&&l!=="/"&&(g.pathname=g.pathname==="/"?l:lr([l,g.pathname])),(v.replace?o.replace:o.push)(g,v.state,v)},[l,o,m,d,s])}x.createContext(null);function Dh(){let{matches:s}=x.useContext(It),l=s[s.length-1];return l?l.params:{}}function Es(s,{relative:l}={}){let{matches:o}=x.useContext(It),{pathname:c}=Qt(),d=JSON.stringify(wi(o));return x.useMemo(()=>bi(s,JSON.parse(d),c,l==="path"),[s,d,c,l])}function Oh(s,l){return pm(s,l)}function pm(s,l,o,c,d){De(Rn(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:m}=x.useContext(Ft),{matches:f}=x.useContext(It),h=f[f.length-1],y=h?h.params:{},v=h?h.pathname:"/",g=h?h.pathnameBase:"/",j=h&&h.route;{let _=j&&j.path||"";hm(v,!j||_.endsWith("*")||_.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${v}" (under <Route path="${_}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${_}"> to <Route path="${_==="/"?"*":`${_}/*`}">.`)}let T=Qt(),D;if(l){let _=typeof l=="string"?_n(l):l;De(g==="/"||_.pathname?.startsWith(g),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${_.pathname}" was given in the \`location\` prop.`),D=_}else D=T;let k=D.pathname||"/",L=k;if(g!=="/"){let _=g.replace(/^\//,"").split("/");L="/"+k.replace(/^\//,"").split("/").slice(_.length).join("/")}let b=om(s,{pathname:L});_t(j||b!=null,`No routes matched location "${D.pathname}${D.search}${D.hash}" `),_t(b==null||b[b.length-1].route.element!==void 0||b[b.length-1].route.Component!==void 0||b[b.length-1].route.lazy!==void 0,`Matched leaf route at location "${D.pathname}${D.search}${D.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let P=$h(b&&b.map(_=>Object.assign({},_,{params:Object.assign({},y,_.params),pathname:lr([g,m.encodeLocation?m.encodeLocation(_.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?g:lr([g,m.encodeLocation?m.encodeLocation(_.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:_.pathnameBase])})),f,o,c,d);return l&&P?x.createElement(Cs.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...D},navigationType:"POP"}},P):P}function Fh(){let s=qh(),l=Ph(s)?`${s.status} ${s.statusText}`:s instanceof Error?s.message:JSON.stringify(s),o=s instanceof Error?s.stack:null,c="rgba(200,200,200, 0.5)",d={padding:"0.5rem",backgroundColor:c},m={padding:"2px 4px",backgroundColor:c},f=null;return console.error("Error handled by React Router default ErrorBoundary:",s),f=x.createElement(x.Fragment,null,x.createElement("p",null," Hey developer "),x.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",x.createElement("code",{style:m},"ErrorBoundary")," or"," ",x.createElement("code",{style:m},"errorElement")," prop on your route.")),x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},l),o?x.createElement("pre",{style:d},o):null,f)}var Ih=x.createElement(Fh,null),zh=class extends x.Component{constructor(s){super(s),this.state={location:s.location,revalidation:s.revalidation,error:s.error}}static getDerivedStateFromError(s){return{error:s}}static getDerivedStateFromProps(s,l){return l.location!==s.location||l.revalidation!=="idle"&&s.revalidation==="idle"?{error:s.error,location:s.location,revalidation:s.revalidation}:{error:s.error!==void 0?s.error:l.error,location:l.location,revalidation:s.revalidation||l.revalidation}}componentDidCatch(s,l){this.props.unstable_onError?this.props.unstable_onError(s,l):console.error("React Router caught the following error during render",s)}render(){return this.state.error!==void 0?x.createElement(It.Provider,{value:this.props.routeContext},x.createElement(ji.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Uh({routeContext:s,match:l,children:o}){let c=x.useContext(Pn);return c&&c.static&&c.staticContext&&(l.route.errorElement||l.route.ErrorBoundary)&&(c.staticContext._deepestRenderedBoundaryId=l.route.id),x.createElement(It.Provider,{value:s},o)}function $h(s,l=[],o=null,c=null,d=null){if(s==null){if(!o)return null;if(o.errors)s=o.matches;else if(l.length===0&&!o.initialized&&o.matches.length>0)s=o.matches;else return null}let m=s,f=o?.errors;if(f!=null){let v=m.findIndex(g=>g.route.id&&f?.[g.route.id]!==void 0);De(v>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(f).join(",")}`),m=m.slice(0,Math.min(m.length,v+1))}let h=!1,y=-1;if(o)for(let v=0;v<m.length;v++){let g=m[v];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(y=v),g.route.id){let{loaderData:j,errors:T}=o,D=g.route.loader&&!j.hasOwnProperty(g.route.id)&&(!T||T[g.route.id]===void 0);if(g.route.lazy||D){h=!0,y>=0?m=m.slice(0,y+1):m=[m[0]];break}}}return m.reduceRight((v,g,j)=>{let T,D=!1,k=null,L=null;o&&(T=f&&g.route.id?f[g.route.id]:void 0,k=g.route.errorElement||Ih,h&&(y<0&&j===0?(hm("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),D=!0,L=null):y===j&&(D=!0,L=g.route.hydrateFallbackElement||null)));let b=l.concat(m.slice(0,j+1)),P=()=>{let _;return T?_=k:D?_=L:g.route.Component?_=x.createElement(g.route.Component,null):g.route.element?_=g.route.element:_=v,x.createElement(Uh,{match:g,routeContext:{outlet:v,matches:b,isDataRoute:o!=null},children:_})};return o&&(g.route.ErrorBoundary||g.route.errorElement||j===0)?x.createElement(zh,{location:o.location,revalidation:o.revalidation,component:k,error:T,children:P(),routeContext:{outlet:null,matches:b,isDataRoute:!0},unstable_onError:c}):P()},null)}function Ni(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Bh(s){let l=x.useContext(Pn);return De(l,Ni(s)),l}function Hh(s){let l=x.useContext(nl);return De(l,Ni(s)),l}function Vh(s){let l=x.useContext(It);return De(l,Ni(s)),l}function ki(s){let l=Vh(s),o=l.matches[l.matches.length-1];return De(o.route.id,`${s} can only be used on routes that contain a unique "id"`),o.route.id}function Wh(){return ki("useRouteId")}function qh(){let s=x.useContext(ji),l=Hh("useRouteError"),o=ki("useRouteError");return s!==void 0?s:l.errors?.[o]}function Kh(){let{router:s}=Bh("useNavigate"),l=ki("useNavigate"),o=x.useRef(!1);return fm(()=>{o.current=!0}),x.useCallback(async(d,m={})=>{_t(o.current,mm),o.current&&(typeof d=="number"?s.navigate(d):await s.navigate(d,{fromRouteId:l,...m}))},[s,l])}var Fd={};function hm(s,l,o){!l&&!Fd[s]&&(Fd[s]=!0,_t(!1,o))}x.memo(Yh);function Yh({routes:s,future:l,state:o,unstable_onError:c}){return pm(s,void 0,o,c,l)}function js({to:s,replace:l,state:o,relative:c}){De(Rn(),"<Navigate> may be used only in the context of a <Router> component.");let{static:d}=x.useContext(Ft);_t(!d,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:m}=x.useContext(It),{pathname:f}=Qt(),h=Rr(),y=bi(s,wi(m),f,c==="path"),v=JSON.stringify(y);return x.useEffect(()=>{h(JSON.parse(v),{replace:l,state:o,relative:c})},[h,v,c,l,o]),null}function Vr(s){De(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Qh({basename:s="/",children:l=null,location:o,navigationType:c="POP",navigator:d,static:m=!1}){De(!Rn(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=s.replace(/^\/*/,"/"),h=x.useMemo(()=>({basename:f,navigator:d,static:m,future:{}}),[f,d,m]);typeof o=="string"&&(o=_n(o));let{pathname:y="/",search:v="",hash:g="",state:j=null,key:T="default"}=o,D=x.useMemo(()=>{let k=ir(y,f);return k==null?null:{location:{pathname:k,search:v,hash:g,state:j,key:T},navigationType:c}},[f,y,v,g,j,T,c]);return _t(D!=null,`<Router basename="${f}"> is not able to match the URL "${y}${v}${g}" because it does not start with the basename, so the <Router> won't render anything.`),D==null?null:x.createElement(Ft.Provider,{value:h},x.createElement(Cs.Provider,{children:l,value:D}))}function Gh({children:s,location:l}){return Oh(mi(s),l)}function mi(s,l=[]){let o=[];return x.Children.forEach(s,(c,d)=>{if(!x.isValidElement(c))return;let m=[...l,d];if(c.type===x.Fragment){o.push.apply(o,mi(c.props.children,m));return}De(c.type===Vr,`[${typeof c.type=="string"?c.type:c.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),De(!c.props.index||!c.props.children,"An index route cannot have child routes.");let f={id:c.props.id||m.join("-"),caseSensitive:c.props.caseSensitive,element:c.props.element,Component:c.props.Component,index:c.props.index,path:c.props.path,middleware:c.props.middleware,loader:c.props.loader,action:c.props.action,hydrateFallbackElement:c.props.hydrateFallbackElement,HydrateFallback:c.props.HydrateFallback,errorElement:c.props.errorElement,ErrorBoundary:c.props.ErrorBoundary,hasErrorBoundary:c.props.hasErrorBoundary===!0||c.props.ErrorBoundary!=null||c.props.errorElement!=null,shouldRevalidate:c.props.shouldRevalidate,handle:c.props.handle,lazy:c.props.lazy};c.props.children&&(f.children=mi(c.props.children,m)),o.push(f)}),o}var Ka="get",Ya="application/x-www-form-urlencoded";function sl(s){return s!=null&&typeof s.tagName=="string"}function Jh(s){return sl(s)&&s.tagName.toLowerCase()==="button"}function Xh(s){return sl(s)&&s.tagName.toLowerCase()==="form"}function Zh(s){return sl(s)&&s.tagName.toLowerCase()==="input"}function ex(s){return!!(s.metaKey||s.altKey||s.ctrlKey||s.shiftKey)}function tx(s,l){return s.button===0&&(!l||l==="_self")&&!ex(s)}function fi(s=""){return new URLSearchParams(typeof s=="string"||Array.isArray(s)||s instanceof URLSearchParams?s:Object.keys(s).reduce((l,o)=>{let c=s[o];return l.concat(Array.isArray(c)?c.map(d=>[o,d]):[[o,c]])},[]))}function rx(s,l){let o=fi(s);return l&&l.forEach((c,d)=>{o.has(d)||l.getAll(d).forEach(m=>{o.append(d,m)})}),o}var Ba=null;function nx(){if(Ba===null)try{new FormData(document.createElement("form"),0),Ba=!1}catch{Ba=!0}return Ba}var sx=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function oi(s){return s!=null&&!sx.has(s)?(_t(!1,`"${s}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ya}"`),null):s}function ax(s,l){let o,c,d,m,f;if(Xh(s)){let h=s.getAttribute("action");c=h?ir(h,l):null,o=s.getAttribute("method")||Ka,d=oi(s.getAttribute("enctype"))||Ya,m=new FormData(s)}else if(Jh(s)||Zh(s)&&(s.type==="submit"||s.type==="image")){let h=s.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let y=s.getAttribute("formaction")||h.getAttribute("action");if(c=y?ir(y,l):null,o=s.getAttribute("formmethod")||h.getAttribute("method")||Ka,d=oi(s.getAttribute("formenctype"))||oi(h.getAttribute("enctype"))||Ya,m=new FormData(h,s),!nx()){let{name:v,type:g,value:j}=s;if(g==="image"){let T=v?`${v}.`:"";m.append(`${T}x`,"0"),m.append(`${T}y`,"0")}else v&&m.append(v,j)}}else{if(sl(s))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');o=Ka,c=null,d=Ya,f=s}return m&&d==="text/plain"&&(f=m,m=void 0),{action:c,method:o.toLowerCase(),encType:d,formData:m,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Si(s,l){if(s===!1||s===null||typeof s>"u")throw new Error(l)}function lx(s,l,o){let c=typeof s=="string"?new URL(s,typeof window>"u"?"server://singlefetch/":window.location.origin):s;return c.pathname==="/"?c.pathname=`_root.${o}`:l&&ir(c.pathname,l)==="/"?c.pathname=`${l.replace(/\/$/,"")}/_root.${o}`:c.pathname=`${c.pathname.replace(/\/$/,"")}.${o}`,c}async function ox(s,l){if(s.id in l)return l[s.id];try{let o=await import(s.module);return l[s.id]=o,o}catch(o){return console.error(`Error loading route module \`${s.module}\`, reloading page...`),console.error(o),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function ix(s){return s==null?!1:s.href==null?s.rel==="preload"&&typeof s.imageSrcSet=="string"&&typeof s.imageSizes=="string":typeof s.rel=="string"&&typeof s.href=="string"}async function cx(s,l,o){let c=await Promise.all(s.map(async d=>{let m=l.routes[d.route.id];if(m){let f=await ox(m,o);return f.links?f.links():[]}return[]}));return fx(c.flat(1).filter(ix).filter(d=>d.rel==="stylesheet"||d.rel==="preload").map(d=>d.rel==="stylesheet"?{...d,rel:"prefetch",as:"style"}:{...d,rel:"prefetch"}))}function Id(s,l,o,c,d,m){let f=(y,v)=>o[v]?y.route.id!==o[v].route.id:!0,h=(y,v)=>o[v].pathname!==y.pathname||o[v].route.path?.endsWith("*")&&o[v].params["*"]!==y.params["*"];return m==="assets"?l.filter((y,v)=>f(y,v)||h(y,v)):m==="data"?l.filter((y,v)=>{let g=c.routes[y.route.id];if(!g||!g.hasLoader)return!1;if(f(y,v)||h(y,v))return!0;if(y.route.shouldRevalidate){let j=y.route.shouldRevalidate({currentUrl:new URL(d.pathname+d.search+d.hash,window.origin),currentParams:o[0]?.params||{},nextUrl:new URL(s,window.origin),nextParams:y.params,defaultShouldRevalidate:!0});if(typeof j=="boolean")return j}return!0}):[]}function ux(s,l,{includeHydrateFallback:o}={}){return dx(s.map(c=>{let d=l.routes[c.route.id];if(!d)return[];let m=[d.module];return d.clientActionModule&&(m=m.concat(d.clientActionModule)),d.clientLoaderModule&&(m=m.concat(d.clientLoaderModule)),o&&d.hydrateFallbackModule&&(m=m.concat(d.hydrateFallbackModule)),d.imports&&(m=m.concat(d.imports)),m}).flat(1))}function dx(s){return[...new Set(s)]}function mx(s){let l={},o=Object.keys(s).sort();for(let c of o)l[c]=s[c];return l}function fx(s,l){let o=new Set;return new Set(l),s.reduce((c,d)=>{let m=JSON.stringify(mx(d));return o.has(m)||(o.add(m),c.push({key:m,link:d})),c},[])}function xm(){let s=x.useContext(Pn);return Si(s,"You must render this element inside a <DataRouterContext.Provider> element"),s}function px(){let s=x.useContext(nl);return Si(s,"You must render this element inside a <DataRouterStateContext.Provider> element"),s}var Ci=x.createContext(void 0);Ci.displayName="FrameworkContext";function gm(){let s=x.useContext(Ci);return Si(s,"You must render this element inside a <HydratedRouter> element"),s}function hx(s,l){let o=x.useContext(Ci),[c,d]=x.useState(!1),[m,f]=x.useState(!1),{onFocus:h,onBlur:y,onMouseEnter:v,onMouseLeave:g,onTouchStart:j}=l,T=x.useRef(null);x.useEffect(()=>{if(s==="render"&&f(!0),s==="viewport"){let L=P=>{P.forEach(_=>{f(_.isIntersecting)})},b=new IntersectionObserver(L,{threshold:.5});return T.current&&b.observe(T.current),()=>{b.disconnect()}}},[s]),x.useEffect(()=>{if(c){let L=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(L)}}},[c]);let D=()=>{d(!0)},k=()=>{d(!1),f(!1)};return o?s!=="intent"?[m,T,{}]:[m,T,{onFocus:ws(h,D),onBlur:ws(y,k),onMouseEnter:ws(v,D),onMouseLeave:ws(g,k),onTouchStart:ws(j,D)}]:[!1,T,{}]}function ws(s,l){return o=>{s&&s(o),o.defaultPrevented||l(o)}}function xx({page:s,...l}){let{router:o}=xm(),c=x.useMemo(()=>om(o.routes,s,o.basename),[o.routes,s,o.basename]);return c?x.createElement(yx,{page:s,matches:c,...l}):null}function gx(s){let{manifest:l,routeModules:o}=gm(),[c,d]=x.useState([]);return x.useEffect(()=>{let m=!1;return cx(s,l,o).then(f=>{m||d(f)}),()=>{m=!0}},[s,l,o]),c}function yx({page:s,matches:l,...o}){let c=Qt(),{manifest:d,routeModules:m}=gm(),{basename:f}=xm(),{loaderData:h,matches:y}=px(),v=x.useMemo(()=>Id(s,l,y,d,c,"data"),[s,l,y,d,c]),g=x.useMemo(()=>Id(s,l,y,d,c,"assets"),[s,l,y,d,c]),j=x.useMemo(()=>{if(s===c.pathname+c.search+c.hash)return[];let k=new Set,L=!1;if(l.forEach(P=>{let _=d.routes[P.route.id];!_||!_.hasLoader||(!v.some(H=>H.route.id===P.route.id)&&P.route.id in h&&m[P.route.id]?.shouldRevalidate||_.hasClientLoader?L=!0:k.add(P.route.id))}),k.size===0)return[];let b=lx(s,f,"data");return L&&k.size>0&&b.searchParams.set("_routes",l.filter(P=>k.has(P.route.id)).map(P=>P.route.id).join(",")),[b.pathname+b.search]},[f,h,c,d,v,l,s,m]),T=x.useMemo(()=>ux(g,d),[g,d]),D=gx(g);return x.createElement(x.Fragment,null,j.map(k=>x.createElement("link",{key:k,rel:"prefetch",as:"fetch",href:k,...o})),T.map(k=>x.createElement("link",{key:k,rel:"modulepreload",href:k,...o})),D.map(({key:k,link:L})=>x.createElement("link",{key:k,nonce:o.nonce,...L})))}function vx(...s){return l=>{s.forEach(o=>{typeof o=="function"?o(l):o!=null&&(o.current=l)})}}var ym=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{ym&&(window.__reactRouterVersion="7.9.2")}catch{}function wx({basename:s,children:l,window:o}){let c=x.useRef();c.current==null&&(c.current=lh({window:o,v5Compat:!0}));let d=c.current,[m,f]=x.useState({action:d.action,location:d.location}),h=x.useCallback(y=>{x.startTransition(()=>f(y))},[f]);return x.useLayoutEffect(()=>d.listen(h),[d,h]),x.createElement(Qh,{basename:s,children:l,location:m.location,navigationType:m.action,navigator:d})}var vm=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,wm=x.forwardRef(function({onClick:l,discover:o="render",prefetch:c="none",relative:d,reloadDocument:m,replace:f,state:h,target:y,to:v,preventScrollReset:g,viewTransition:j,...T},D){let{basename:k}=x.useContext(Ft),L=typeof v=="string"&&vm.test(v),b,P=!1;if(typeof v=="string"&&L&&(b=v,ym))try{let B=new URL(window.location.href),ee=v.startsWith("//")?new URL(B.protocol+v):new URL(v),ce=ir(ee.pathname,k);ee.origin===B.origin&&ce!=null?v=ce+ee.search+ee.hash:P=!0}catch{_t(!1,`<Link to="${v}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let _=Mh(v,{relative:d}),[H,V,W]=hx(c,T),F=kx(v,{replace:f,state:h,target:y,preventScrollReset:g,relative:d,viewTransition:j});function J(B){l&&l(B),B.defaultPrevented||F(B)}let re=x.createElement("a",{...T,...W,href:b||_,onClick:P||m?l:J,ref:vx(D,V),target:y,"data-discover":!L&&o==="render"?"true":void 0});return H&&!L?x.createElement(x.Fragment,null,re,x.createElement(xx,{page:_})):re});wm.displayName="Link";var bx=x.forwardRef(function({"aria-current":l="page",caseSensitive:o=!1,className:c="",end:d=!1,style:m,to:f,viewTransition:h,children:y,...v},g){let j=Es(f,{relative:v.relative}),T=Qt(),D=x.useContext(nl),{navigator:k,basename:L}=x.useContext(Ft),b=D!=null&&Rx(j)&&h===!0,P=k.encodeLocation?k.encodeLocation(j).pathname:j.pathname,_=T.pathname,H=D&&D.navigation&&D.navigation.location?D.navigation.location.pathname:null;o||(_=_.toLowerCase(),H=H?H.toLowerCase():null,P=P.toLowerCase()),H&&L&&(H=ir(H,L)||H);const V=P!=="/"&&P.endsWith("/")?P.length-1:P.length;let W=_===P||!d&&_.startsWith(P)&&_.charAt(V)==="/",F=H!=null&&(H===P||!d&&H.startsWith(P)&&H.charAt(P.length)==="/"),J={isActive:W,isPending:F,isTransitioning:b},re=W?l:void 0,B;typeof c=="function"?B=c(J):B=[c,W?"active":null,F?"pending":null,b?"transitioning":null].filter(Boolean).join(" ");let ee=typeof m=="function"?m(J):m;return x.createElement(wm,{...v,"aria-current":re,className:B,ref:g,style:ee,to:f,viewTransition:h},typeof y=="function"?y(J):y)});bx.displayName="NavLink";var jx=x.forwardRef(({discover:s="render",fetcherKey:l,navigate:o,reloadDocument:c,replace:d,state:m,method:f=Ka,action:h,onSubmit:y,relative:v,preventScrollReset:g,viewTransition:j,...T},D)=>{let k=_x(),L=Px(h,{relative:v}),b=f.toLowerCase()==="get"?"get":"post",P=typeof h=="string"&&vm.test(h),_=H=>{if(y&&y(H),H.defaultPrevented)return;H.preventDefault();let V=H.nativeEvent.submitter,W=V?.getAttribute("formmethod")||f;k(V||H.currentTarget,{fetcherKey:l,method:W,navigate:o,replace:d,state:m,relative:v,preventScrollReset:g,viewTransition:j})};return x.createElement("form",{ref:D,method:b,action:L,onSubmit:c?y:_,...T,"data-discover":!P&&s==="render"?"true":void 0})});jx.displayName="Form";function Nx(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function bm(s){let l=x.useContext(Pn);return De(l,Nx(s)),l}function kx(s,{target:l,replace:o,state:c,preventScrollReset:d,relative:m,viewTransition:f}={}){let h=Rr(),y=Qt(),v=Es(s,{relative:m});return x.useCallback(g=>{if(tx(g,l)){g.preventDefault();let j=o!==void 0?o:ks(y)===ks(v);h(s,{replace:j,state:c,preventScrollReset:d,relative:m,viewTransition:f})}},[y,h,v,o,c,l,s,d,m,f])}function Sx(s){_t(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let l=x.useRef(fi(s)),o=x.useRef(!1),c=Qt(),d=x.useMemo(()=>rx(c.search,o.current?null:l.current),[c.search]),m=Rr(),f=x.useCallback((h,y)=>{const v=fi(typeof h=="function"?h(new URLSearchParams(d)):h);o.current=!0,m("?"+v,y)},[m,d]);return[d,f]}var Cx=0,Ex=()=>`__${String(++Cx)}__`;function _x(){let{router:s}=bm("useSubmit"),{basename:l}=x.useContext(Ft),o=Wh();return x.useCallback(async(c,d={})=>{let{action:m,method:f,encType:h,formData:y,body:v}=ax(c,l);if(d.navigate===!1){let g=d.fetcherKey||Ex();await s.fetch(g,o,d.action||m,{preventScrollReset:d.preventScrollReset,formData:y,body:v,formMethod:d.method||f,formEncType:d.encType||h,flushSync:d.flushSync})}else await s.navigate(d.action||m,{preventScrollReset:d.preventScrollReset,formData:y,body:v,formMethod:d.method||f,formEncType:d.encType||h,replace:d.replace,state:d.state,fromRouteId:o,flushSync:d.flushSync,viewTransition:d.viewTransition})},[s,l,o])}function Px(s,{relative:l}={}){let{basename:o}=x.useContext(Ft),c=x.useContext(It);De(c,"useFormAction must be used inside a RouteContext");let[d]=c.matches.slice(-1),m={...Es(s||".",{relative:l})},f=Qt();if(s==null){m.search=f.search;let h=new URLSearchParams(m.search),y=h.getAll("index");if(y.some(g=>g==="")){h.delete("index"),y.filter(j=>j).forEach(j=>h.append("index",j));let g=h.toString();m.search=g?`?${g}`:""}}return(!s||s===".")&&d.route.index&&(m.search=m.search?m.search.replace(/^\?/,"?index&"):"?index"),o!=="/"&&(m.pathname=m.pathname==="/"?o:lr([o,m.pathname])),ks(m)}function Rx(s,{relative:l}={}){let o=x.useContext(dm);De(o!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:c}=bm("useViewTransitionState"),d=Es(s,{relative:l});if(!o.isTransitioning)return!1;let m=ir(o.currentLocation.pathname,c)||o.currentLocation.pathname,f=ir(o.nextLocation.pathname,c)||o.nextLocation.pathname;return el(d.pathname,f)!=null||el(d.pathname,m)!=null}function jm(s,l){return function(){return s.apply(l,arguments)}}const{toString:Tx}=Object.prototype,{getPrototypeOf:Ei}=Object,{iterator:al,toStringTag:Nm}=Symbol,ll=(s=>l=>{const o=Tx.call(l);return s[o]||(s[o]=o.slice(8,-1).toLowerCase())})(Object.create(null)),zt=s=>(s=s.toLowerCase(),l=>ll(l)===s),ol=s=>l=>typeof l===s,{isArray:Tn}=Array,Cn=ol("undefined");function _s(s){return s!==null&&!Cn(s)&&s.constructor!==null&&!Cn(s.constructor)&&mt(s.constructor.isBuffer)&&s.constructor.isBuffer(s)}const km=zt("ArrayBuffer");function Lx(s){let l;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?l=ArrayBuffer.isView(s):l=s&&s.buffer&&km(s.buffer),l}const Mx=ol("string"),mt=ol("function"),Sm=ol("number"),Ps=s=>s!==null&&typeof s=="object",Ax=s=>s===!0||s===!1,Qa=s=>{if(ll(s)!=="object")return!1;const l=Ei(s);return(l===null||l===Object.prototype||Object.getPrototypeOf(l)===null)&&!(Nm in s)&&!(al in s)},Dx=s=>{if(!Ps(s)||_s(s))return!1;try{return Object.keys(s).length===0&&Object.getPrototypeOf(s)===Object.prototype}catch{return!1}},Ox=zt("Date"),Fx=zt("File"),Ix=zt("Blob"),zx=zt("FileList"),Ux=s=>Ps(s)&&mt(s.pipe),$x=s=>{let l;return s&&(typeof FormData=="function"&&s instanceof FormData||mt(s.append)&&((l=ll(s))==="formdata"||l==="object"&&mt(s.toString)&&s.toString()==="[object FormData]"))},Bx=zt("URLSearchParams"),[Hx,Vx,Wx,qx]=["ReadableStream","Request","Response","Headers"].map(zt),Kx=s=>s.trim?s.trim():s.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Rs(s,l,{allOwnKeys:o=!1}={}){if(s===null||typeof s>"u")return;let c,d;if(typeof s!="object"&&(s=[s]),Tn(s))for(c=0,d=s.length;c<d;c++)l.call(null,s[c],c,s);else{if(_s(s))return;const m=o?Object.getOwnPropertyNames(s):Object.keys(s),f=m.length;let h;for(c=0;c<f;c++)h=m[c],l.call(null,s[h],h,s)}}function Cm(s,l){if(_s(s))return null;l=l.toLowerCase();const o=Object.keys(s);let c=o.length,d;for(;c-- >0;)if(d=o[c],l===d.toLowerCase())return d;return null}const Wr=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Em=s=>!Cn(s)&&s!==Wr;function pi(){const{caseless:s,skipUndefined:l}=Em(this)&&this||{},o={},c=(d,m)=>{const f=s&&Cm(o,m)||m;Qa(o[f])&&Qa(d)?o[f]=pi(o[f],d):Qa(d)?o[f]=pi({},d):Tn(d)?o[f]=d.slice():(!l||!Cn(d))&&(o[f]=d)};for(let d=0,m=arguments.length;d<m;d++)arguments[d]&&Rs(arguments[d],c);return o}const Yx=(s,l,o,{allOwnKeys:c}={})=>(Rs(l,(d,m)=>{o&&mt(d)?s[m]=jm(d,o):s[m]=d},{allOwnKeys:c}),s),Qx=s=>(s.charCodeAt(0)===65279&&(s=s.slice(1)),s),Gx=(s,l,o,c)=>{s.prototype=Object.create(l.prototype,c),s.prototype.constructor=s,Object.defineProperty(s,"super",{value:l.prototype}),o&&Object.assign(s.prototype,o)},Jx=(s,l,o,c)=>{let d,m,f;const h={};if(l=l||{},s==null)return l;do{for(d=Object.getOwnPropertyNames(s),m=d.length;m-- >0;)f=d[m],(!c||c(f,s,l))&&!h[f]&&(l[f]=s[f],h[f]=!0);s=o!==!1&&Ei(s)}while(s&&(!o||o(s,l))&&s!==Object.prototype);return l},Xx=(s,l,o)=>{s=String(s),(o===void 0||o>s.length)&&(o=s.length),o-=l.length;const c=s.indexOf(l,o);return c!==-1&&c===o},Zx=s=>{if(!s)return null;if(Tn(s))return s;let l=s.length;if(!Sm(l))return null;const o=new Array(l);for(;l-- >0;)o[l]=s[l];return o},e0=(s=>l=>s&&l instanceof s)(typeof Uint8Array<"u"&&Ei(Uint8Array)),t0=(s,l)=>{const c=(s&&s[al]).call(s);let d;for(;(d=c.next())&&!d.done;){const m=d.value;l.call(s,m[0],m[1])}},r0=(s,l)=>{let o;const c=[];for(;(o=s.exec(l))!==null;)c.push(o);return c},n0=zt("HTMLFormElement"),s0=s=>s.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(o,c,d){return c.toUpperCase()+d}),zd=(({hasOwnProperty:s})=>(l,o)=>s.call(l,o))(Object.prototype),a0=zt("RegExp"),_m=(s,l)=>{const o=Object.getOwnPropertyDescriptors(s),c={};Rs(o,(d,m)=>{let f;(f=l(d,m,s))!==!1&&(c[m]=f||d)}),Object.defineProperties(s,c)},l0=s=>{_m(s,(l,o)=>{if(mt(s)&&["arguments","caller","callee"].indexOf(o)!==-1)return!1;const c=s[o];if(mt(c)){if(l.enumerable=!1,"writable"in l){l.writable=!1;return}l.set||(l.set=()=>{throw Error("Can not rewrite read-only method '"+o+"'")})}})},o0=(s,l)=>{const o={},c=d=>{d.forEach(m=>{o[m]=!0})};return Tn(s)?c(s):c(String(s).split(l)),o},i0=()=>{},c0=(s,l)=>s!=null&&Number.isFinite(s=+s)?s:l;function u0(s){return!!(s&&mt(s.append)&&s[Nm]==="FormData"&&s[al])}const d0=s=>{const l=new Array(10),o=(c,d)=>{if(Ps(c)){if(l.indexOf(c)>=0)return;if(_s(c))return c;if(!("toJSON"in c)){l[d]=c;const m=Tn(c)?[]:{};return Rs(c,(f,h)=>{const y=o(f,d+1);!Cn(y)&&(m[h]=y)}),l[d]=void 0,m}}return c};return o(s,0)},m0=zt("AsyncFunction"),f0=s=>s&&(Ps(s)||mt(s))&&mt(s.then)&&mt(s.catch),Pm=((s,l)=>s?setImmediate:l?((o,c)=>(Wr.addEventListener("message",({source:d,data:m})=>{d===Wr&&m===o&&c.length&&c.shift()()},!1),d=>{c.push(d),Wr.postMessage(o,"*")}))(`axios@${Math.random()}`,[]):o=>setTimeout(o))(typeof setImmediate=="function",mt(Wr.postMessage)),p0=typeof queueMicrotask<"u"?queueMicrotask.bind(Wr):typeof process<"u"&&process.nextTick||Pm,h0=s=>s!=null&&mt(s[al]),$={isArray:Tn,isArrayBuffer:km,isBuffer:_s,isFormData:$x,isArrayBufferView:Lx,isString:Mx,isNumber:Sm,isBoolean:Ax,isObject:Ps,isPlainObject:Qa,isEmptyObject:Dx,isReadableStream:Hx,isRequest:Vx,isResponse:Wx,isHeaders:qx,isUndefined:Cn,isDate:Ox,isFile:Fx,isBlob:Ix,isRegExp:a0,isFunction:mt,isStream:Ux,isURLSearchParams:Bx,isTypedArray:e0,isFileList:zx,forEach:Rs,merge:pi,extend:Yx,trim:Kx,stripBOM:Qx,inherits:Gx,toFlatObject:Jx,kindOf:ll,kindOfTest:zt,endsWith:Xx,toArray:Zx,forEachEntry:t0,matchAll:r0,isHTMLForm:n0,hasOwnProperty:zd,hasOwnProp:zd,reduceDescriptors:_m,freezeMethods:l0,toObjectSet:o0,toCamelCase:s0,noop:i0,toFiniteNumber:c0,findKey:Cm,global:Wr,isContextDefined:Em,isSpecCompliantForm:u0,toJSONObject:d0,isAsyncFn:m0,isThenable:f0,setImmediate:Pm,asap:p0,isIterable:h0};function ve(s,l,o,c,d){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=s,this.name="AxiosError",l&&(this.code=l),o&&(this.config=o),c&&(this.request=c),d&&(this.response=d,this.status=d.status?d.status:null)}$.inherits(ve,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:$.toJSONObject(this.config),code:this.code,status:this.status}}});const Rm=ve.prototype,Tm={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(s=>{Tm[s]={value:s}});Object.defineProperties(ve,Tm);Object.defineProperty(Rm,"isAxiosError",{value:!0});ve.from=(s,l,o,c,d,m)=>{const f=Object.create(Rm);$.toFlatObject(s,f,function(g){return g!==Error.prototype},v=>v!=="isAxiosError");const h=s&&s.message?s.message:"Error",y=l==null&&s?s.code:l;return ve.call(f,h,y,o,c,d),s&&f.cause==null&&Object.defineProperty(f,"cause",{value:s,configurable:!0}),f.name=s&&s.name||"Error",m&&Object.assign(f,m),f};const x0=null;function hi(s){return $.isPlainObject(s)||$.isArray(s)}function Lm(s){return $.endsWith(s,"[]")?s.slice(0,-2):s}function Ud(s,l,o){return s?s.concat(l).map(function(d,m){return d=Lm(d),!o&&m?"["+d+"]":d}).join(o?".":""):l}function g0(s){return $.isArray(s)&&!s.some(hi)}const y0=$.toFlatObject($,{},null,function(l){return/^is[A-Z]/.test(l)});function il(s,l,o){if(!$.isObject(s))throw new TypeError("target must be an object");l=l||new FormData,o=$.toFlatObject(o,{metaTokens:!0,dots:!1,indexes:!1},!1,function(L,b){return!$.isUndefined(b[L])});const c=o.metaTokens,d=o.visitor||g,m=o.dots,f=o.indexes,y=(o.Blob||typeof Blob<"u"&&Blob)&&$.isSpecCompliantForm(l);if(!$.isFunction(d))throw new TypeError("visitor must be a function");function v(k){if(k===null)return"";if($.isDate(k))return k.toISOString();if($.isBoolean(k))return k.toString();if(!y&&$.isBlob(k))throw new ve("Blob is not supported. Use a Buffer instead.");return $.isArrayBuffer(k)||$.isTypedArray(k)?y&&typeof Blob=="function"?new Blob([k]):Buffer.from(k):k}function g(k,L,b){let P=k;if(k&&!b&&typeof k=="object"){if($.endsWith(L,"{}"))L=c?L:L.slice(0,-2),k=JSON.stringify(k);else if($.isArray(k)&&g0(k)||($.isFileList(k)||$.endsWith(L,"[]"))&&(P=$.toArray(k)))return L=Lm(L),P.forEach(function(H,V){!($.isUndefined(H)||H===null)&&l.append(f===!0?Ud([L],V,m):f===null?L:L+"[]",v(H))}),!1}return hi(k)?!0:(l.append(Ud(b,L,m),v(k)),!1)}const j=[],T=Object.assign(y0,{defaultVisitor:g,convertValue:v,isVisitable:hi});function D(k,L){if(!$.isUndefined(k)){if(j.indexOf(k)!==-1)throw Error("Circular reference detected in "+L.join("."));j.push(k),$.forEach(k,function(P,_){(!($.isUndefined(P)||P===null)&&d.call(l,P,$.isString(_)?_.trim():_,L,T))===!0&&D(P,L?L.concat(_):[_])}),j.pop()}}if(!$.isObject(s))throw new TypeError("data must be an object");return D(s),l}function $d(s){const l={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(s).replace(/[!'()~]|%20|%00/g,function(c){return l[c]})}function _i(s,l){this._pairs=[],s&&il(s,this,l)}const Mm=_i.prototype;Mm.append=function(l,o){this._pairs.push([l,o])};Mm.toString=function(l){const o=l?function(c){return l.call(this,c,$d)}:$d;return this._pairs.map(function(d){return o(d[0])+"="+o(d[1])},"").join("&")};function v0(s){return encodeURIComponent(s).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function Am(s,l,o){if(!l)return s;const c=o&&o.encode||v0;$.isFunction(o)&&(o={serialize:o});const d=o&&o.serialize;let m;if(d?m=d(l,o):m=$.isURLSearchParams(l)?l.toString():new _i(l,o).toString(c),m){const f=s.indexOf("#");f!==-1&&(s=s.slice(0,f)),s+=(s.indexOf("?")===-1?"?":"&")+m}return s}class Bd{constructor(){this.handlers=[]}use(l,o,c){return this.handlers.push({fulfilled:l,rejected:o,synchronous:c?c.synchronous:!1,runWhen:c?c.runWhen:null}),this.handlers.length-1}eject(l){this.handlers[l]&&(this.handlers[l]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(l){$.forEach(this.handlers,function(c){c!==null&&l(c)})}}const Dm={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},w0=typeof URLSearchParams<"u"?URLSearchParams:_i,b0=typeof FormData<"u"?FormData:null,j0=typeof Blob<"u"?Blob:null,N0={isBrowser:!0,classes:{URLSearchParams:w0,FormData:b0,Blob:j0},protocols:["http","https","file","blob","url","data"]},Pi=typeof window<"u"&&typeof document<"u",xi=typeof navigator=="object"&&navigator||void 0,k0=Pi&&(!xi||["ReactNative","NativeScript","NS"].indexOf(xi.product)<0),S0=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",C0=Pi&&window.location.href||"http://localhost",E0=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Pi,hasStandardBrowserEnv:k0,hasStandardBrowserWebWorkerEnv:S0,navigator:xi,origin:C0},Symbol.toStringTag,{value:"Module"})),rt={...E0,...N0};function _0(s,l){return il(s,new rt.classes.URLSearchParams,{visitor:function(o,c,d,m){return rt.isNode&&$.isBuffer(o)?(this.append(c,o.toString("base64")),!1):m.defaultVisitor.apply(this,arguments)},...l})}function P0(s){return $.matchAll(/\w+|\[(\w*)]/g,s).map(l=>l[0]==="[]"?"":l[1]||l[0])}function R0(s){const l={},o=Object.keys(s);let c;const d=o.length;let m;for(c=0;c<d;c++)m=o[c],l[m]=s[m];return l}function Om(s){function l(o,c,d,m){let f=o[m++];if(f==="__proto__")return!0;const h=Number.isFinite(+f),y=m>=o.length;return f=!f&&$.isArray(d)?d.length:f,y?($.hasOwnProp(d,f)?d[f]=[d[f],c]:d[f]=c,!h):((!d[f]||!$.isObject(d[f]))&&(d[f]=[]),l(o,c,d[f],m)&&$.isArray(d[f])&&(d[f]=R0(d[f])),!h)}if($.isFormData(s)&&$.isFunction(s.entries)){const o={};return $.forEachEntry(s,(c,d)=>{l(P0(c),d,o,0)}),o}return null}function T0(s,l,o){if($.isString(s))try{return(l||JSON.parse)(s),$.trim(s)}catch(c){if(c.name!=="SyntaxError")throw c}return(o||JSON.stringify)(s)}const Ts={transitional:Dm,adapter:["xhr","http","fetch"],transformRequest:[function(l,o){const c=o.getContentType()||"",d=c.indexOf("application/json")>-1,m=$.isObject(l);if(m&&$.isHTMLForm(l)&&(l=new FormData(l)),$.isFormData(l))return d?JSON.stringify(Om(l)):l;if($.isArrayBuffer(l)||$.isBuffer(l)||$.isStream(l)||$.isFile(l)||$.isBlob(l)||$.isReadableStream(l))return l;if($.isArrayBufferView(l))return l.buffer;if($.isURLSearchParams(l))return o.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),l.toString();let h;if(m){if(c.indexOf("application/x-www-form-urlencoded")>-1)return _0(l,this.formSerializer).toString();if((h=$.isFileList(l))||c.indexOf("multipart/form-data")>-1){const y=this.env&&this.env.FormData;return il(h?{"files[]":l}:l,y&&new y,this.formSerializer)}}return m||d?(o.setContentType("application/json",!1),T0(l)):l}],transformResponse:[function(l){const o=this.transitional||Ts.transitional,c=o&&o.forcedJSONParsing,d=this.responseType==="json";if($.isResponse(l)||$.isReadableStream(l))return l;if(l&&$.isString(l)&&(c&&!this.responseType||d)){const f=!(o&&o.silentJSONParsing)&&d;try{return JSON.parse(l,this.parseReviver)}catch(h){if(f)throw h.name==="SyntaxError"?ve.from(h,ve.ERR_BAD_RESPONSE,this,null,this.response):h}}return l}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:rt.classes.FormData,Blob:rt.classes.Blob},validateStatus:function(l){return l>=200&&l<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};$.forEach(["delete","get","head","post","put","patch"],s=>{Ts.headers[s]={}});const L0=$.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),M0=s=>{const l={};let o,c,d;return s&&s.split(`
`).forEach(function(f){d=f.indexOf(":"),o=f.substring(0,d).trim().toLowerCase(),c=f.substring(d+1).trim(),!(!o||l[o]&&L0[o])&&(o==="set-cookie"?l[o]?l[o].push(c):l[o]=[c]:l[o]=l[o]?l[o]+", "+c:c)}),l},Hd=Symbol("internals");function bs(s){return s&&String(s).trim().toLowerCase()}function Ga(s){return s===!1||s==null?s:$.isArray(s)?s.map(Ga):String(s)}function A0(s){const l=Object.create(null),o=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let c;for(;c=o.exec(s);)l[c[1]]=c[2];return l}const D0=s=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(s.trim());function ii(s,l,o,c,d){if($.isFunction(c))return c.call(this,l,o);if(d&&(l=o),!!$.isString(l)){if($.isString(c))return l.indexOf(c)!==-1;if($.isRegExp(c))return c.test(l)}}function O0(s){return s.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(l,o,c)=>o.toUpperCase()+c)}function F0(s,l){const o=$.toCamelCase(" "+l);["get","set","has"].forEach(c=>{Object.defineProperty(s,c+o,{value:function(d,m,f){return this[c].call(this,l,d,m,f)},configurable:!0})})}let ft=class{constructor(l){l&&this.set(l)}set(l,o,c){const d=this;function m(h,y,v){const g=bs(y);if(!g)throw new Error("header name must be a non-empty string");const j=$.findKey(d,g);(!j||d[j]===void 0||v===!0||v===void 0&&d[j]!==!1)&&(d[j||y]=Ga(h))}const f=(h,y)=>$.forEach(h,(v,g)=>m(v,g,y));if($.isPlainObject(l)||l instanceof this.constructor)f(l,o);else if($.isString(l)&&(l=l.trim())&&!D0(l))f(M0(l),o);else if($.isObject(l)&&$.isIterable(l)){let h={},y,v;for(const g of l){if(!$.isArray(g))throw TypeError("Object iterator must return a key-value pair");h[v=g[0]]=(y=h[v])?$.isArray(y)?[...y,g[1]]:[y,g[1]]:g[1]}f(h,o)}else l!=null&&m(o,l,c);return this}get(l,o){if(l=bs(l),l){const c=$.findKey(this,l);if(c){const d=this[c];if(!o)return d;if(o===!0)return A0(d);if($.isFunction(o))return o.call(this,d,c);if($.isRegExp(o))return o.exec(d);throw new TypeError("parser must be boolean|regexp|function")}}}has(l,o){if(l=bs(l),l){const c=$.findKey(this,l);return!!(c&&this[c]!==void 0&&(!o||ii(this,this[c],c,o)))}return!1}delete(l,o){const c=this;let d=!1;function m(f){if(f=bs(f),f){const h=$.findKey(c,f);h&&(!o||ii(c,c[h],h,o))&&(delete c[h],d=!0)}}return $.isArray(l)?l.forEach(m):m(l),d}clear(l){const o=Object.keys(this);let c=o.length,d=!1;for(;c--;){const m=o[c];(!l||ii(this,this[m],m,l,!0))&&(delete this[m],d=!0)}return d}normalize(l){const o=this,c={};return $.forEach(this,(d,m)=>{const f=$.findKey(c,m);if(f){o[f]=Ga(d),delete o[m];return}const h=l?O0(m):String(m).trim();h!==m&&delete o[m],o[h]=Ga(d),c[h]=!0}),this}concat(...l){return this.constructor.concat(this,...l)}toJSON(l){const o=Object.create(null);return $.forEach(this,(c,d)=>{c!=null&&c!==!1&&(o[d]=l&&$.isArray(c)?c.join(", "):c)}),o}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([l,o])=>l+": "+o).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(l){return l instanceof this?l:new this(l)}static concat(l,...o){const c=new this(l);return o.forEach(d=>c.set(d)),c}static accessor(l){const c=(this[Hd]=this[Hd]={accessors:{}}).accessors,d=this.prototype;function m(f){const h=bs(f);c[h]||(F0(d,f),c[h]=!0)}return $.isArray(l)?l.forEach(m):m(l),this}};ft.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);$.reduceDescriptors(ft.prototype,({value:s},l)=>{let o=l[0].toUpperCase()+l.slice(1);return{get:()=>s,set(c){this[o]=c}}});$.freezeMethods(ft);function ci(s,l){const o=this||Ts,c=l||o,d=ft.from(c.headers);let m=c.data;return $.forEach(s,function(h){m=h.call(o,m,d.normalize(),l?l.status:void 0)}),d.normalize(),m}function Fm(s){return!!(s&&s.__CANCEL__)}function Ln(s,l,o){ve.call(this,s??"canceled",ve.ERR_CANCELED,l,o),this.name="CanceledError"}$.inherits(Ln,ve,{__CANCEL__:!0});function Im(s,l,o){const c=o.config.validateStatus;!o.status||!c||c(o.status)?s(o):l(new ve("Request failed with status code "+o.status,[ve.ERR_BAD_REQUEST,ve.ERR_BAD_RESPONSE][Math.floor(o.status/100)-4],o.config,o.request,o))}function I0(s){const l=/^([-+\w]{1,25})(:?\/\/|:)/.exec(s);return l&&l[1]||""}function z0(s,l){s=s||10;const o=new Array(s),c=new Array(s);let d=0,m=0,f;return l=l!==void 0?l:1e3,function(y){const v=Date.now(),g=c[m];f||(f=v),o[d]=y,c[d]=v;let j=m,T=0;for(;j!==d;)T+=o[j++],j=j%s;if(d=(d+1)%s,d===m&&(m=(m+1)%s),v-f<l)return;const D=g&&v-g;return D?Math.round(T*1e3/D):void 0}}function U0(s,l){let o=0,c=1e3/l,d,m;const f=(v,g=Date.now())=>{o=g,d=null,m&&(clearTimeout(m),m=null),s(...v)};return[(...v)=>{const g=Date.now(),j=g-o;j>=c?f(v,g):(d=v,m||(m=setTimeout(()=>{m=null,f(d)},c-j)))},()=>d&&f(d)]}const tl=(s,l,o=3)=>{let c=0;const d=z0(50,250);return U0(m=>{const f=m.loaded,h=m.lengthComputable?m.total:void 0,y=f-c,v=d(y),g=f<=h;c=f;const j={loaded:f,total:h,progress:h?f/h:void 0,bytes:y,rate:v||void 0,estimated:v&&h&&g?(h-f)/v:void 0,event:m,lengthComputable:h!=null,[l?"download":"upload"]:!0};s(j)},o)},Vd=(s,l)=>{const o=s!=null;return[c=>l[0]({lengthComputable:o,total:s,loaded:c}),l[1]]},Wd=s=>(...l)=>$.asap(()=>s(...l)),$0=rt.hasStandardBrowserEnv?((s,l)=>o=>(o=new URL(o,rt.origin),s.protocol===o.protocol&&s.host===o.host&&(l||s.port===o.port)))(new URL(rt.origin),rt.navigator&&/(msie|trident)/i.test(rt.navigator.userAgent)):()=>!0,B0=rt.hasStandardBrowserEnv?{write(s,l,o,c,d,m){const f=[s+"="+encodeURIComponent(l)];$.isNumber(o)&&f.push("expires="+new Date(o).toGMTString()),$.isString(c)&&f.push("path="+c),$.isString(d)&&f.push("domain="+d),m===!0&&f.push("secure"),document.cookie=f.join("; ")},read(s){const l=document.cookie.match(new RegExp("(^|;\\s*)("+s+")=([^;]*)"));return l?decodeURIComponent(l[3]):null},remove(s){this.write(s,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function H0(s){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(s)}function V0(s,l){return l?s.replace(/\/?\/$/,"")+"/"+l.replace(/^\/+/,""):s}function zm(s,l,o){let c=!H0(l);return s&&(c||o==!1)?V0(s,l):l}const qd=s=>s instanceof ft?{...s}:s;function Qr(s,l){l=l||{};const o={};function c(v,g,j,T){return $.isPlainObject(v)&&$.isPlainObject(g)?$.merge.call({caseless:T},v,g):$.isPlainObject(g)?$.merge({},g):$.isArray(g)?g.slice():g}function d(v,g,j,T){if($.isUndefined(g)){if(!$.isUndefined(v))return c(void 0,v,j,T)}else return c(v,g,j,T)}function m(v,g){if(!$.isUndefined(g))return c(void 0,g)}function f(v,g){if($.isUndefined(g)){if(!$.isUndefined(v))return c(void 0,v)}else return c(void 0,g)}function h(v,g,j){if(j in l)return c(v,g);if(j in s)return c(void 0,v)}const y={url:m,method:m,data:m,baseURL:f,transformRequest:f,transformResponse:f,paramsSerializer:f,timeout:f,timeoutMessage:f,withCredentials:f,withXSRFToken:f,adapter:f,responseType:f,xsrfCookieName:f,xsrfHeaderName:f,onUploadProgress:f,onDownloadProgress:f,decompress:f,maxContentLength:f,maxBodyLength:f,beforeRedirect:f,transport:f,httpAgent:f,httpsAgent:f,cancelToken:f,socketPath:f,responseEncoding:f,validateStatus:h,headers:(v,g,j)=>d(qd(v),qd(g),j,!0)};return $.forEach(Object.keys({...s,...l}),function(g){const j=y[g]||d,T=j(s[g],l[g],g);$.isUndefined(T)&&j!==h||(o[g]=T)}),o}const Um=s=>{const l=Qr({},s);let{data:o,withXSRFToken:c,xsrfHeaderName:d,xsrfCookieName:m,headers:f,auth:h}=l;if(l.headers=f=ft.from(f),l.url=Am(zm(l.baseURL,l.url,l.allowAbsoluteUrls),s.params,s.paramsSerializer),h&&f.set("Authorization","Basic "+btoa((h.username||"")+":"+(h.password?unescape(encodeURIComponent(h.password)):""))),$.isFormData(o)){if(rt.hasStandardBrowserEnv||rt.hasStandardBrowserWebWorkerEnv)f.setContentType(void 0);else if($.isFunction(o.getHeaders)){const y=o.getHeaders(),v=["content-type","content-length"];Object.entries(y).forEach(([g,j])=>{v.includes(g.toLowerCase())&&f.set(g,j)})}}if(rt.hasStandardBrowserEnv&&(c&&$.isFunction(c)&&(c=c(l)),c||c!==!1&&$0(l.url))){const y=d&&m&&B0.read(m);y&&f.set(d,y)}return l},W0=typeof XMLHttpRequest<"u",q0=W0&&function(s){return new Promise(function(o,c){const d=Um(s);let m=d.data;const f=ft.from(d.headers).normalize();let{responseType:h,onUploadProgress:y,onDownloadProgress:v}=d,g,j,T,D,k;function L(){D&&D(),k&&k(),d.cancelToken&&d.cancelToken.unsubscribe(g),d.signal&&d.signal.removeEventListener("abort",g)}let b=new XMLHttpRequest;b.open(d.method.toUpperCase(),d.url,!0),b.timeout=d.timeout;function P(){if(!b)return;const H=ft.from("getAllResponseHeaders"in b&&b.getAllResponseHeaders()),W={data:!h||h==="text"||h==="json"?b.responseText:b.response,status:b.status,statusText:b.statusText,headers:H,config:s,request:b};Im(function(J){o(J),L()},function(J){c(J),L()},W),b=null}"onloadend"in b?b.onloadend=P:b.onreadystatechange=function(){!b||b.readyState!==4||b.status===0&&!(b.responseURL&&b.responseURL.indexOf("file:")===0)||setTimeout(P)},b.onabort=function(){b&&(c(new ve("Request aborted",ve.ECONNABORTED,s,b)),b=null)},b.onerror=function(V){const W=V&&V.message?V.message:"Network Error",F=new ve(W,ve.ERR_NETWORK,s,b);F.event=V||null,c(F),b=null},b.ontimeout=function(){let V=d.timeout?"timeout of "+d.timeout+"ms exceeded":"timeout exceeded";const W=d.transitional||Dm;d.timeoutErrorMessage&&(V=d.timeoutErrorMessage),c(new ve(V,W.clarifyTimeoutError?ve.ETIMEDOUT:ve.ECONNABORTED,s,b)),b=null},m===void 0&&f.setContentType(null),"setRequestHeader"in b&&$.forEach(f.toJSON(),function(V,W){b.setRequestHeader(W,V)}),$.isUndefined(d.withCredentials)||(b.withCredentials=!!d.withCredentials),h&&h!=="json"&&(b.responseType=d.responseType),v&&([T,k]=tl(v,!0),b.addEventListener("progress",T)),y&&b.upload&&([j,D]=tl(y),b.upload.addEventListener("progress",j),b.upload.addEventListener("loadend",D)),(d.cancelToken||d.signal)&&(g=H=>{b&&(c(!H||H.type?new Ln(null,s,b):H),b.abort(),b=null)},d.cancelToken&&d.cancelToken.subscribe(g),d.signal&&(d.signal.aborted?g():d.signal.addEventListener("abort",g)));const _=I0(d.url);if(_&&rt.protocols.indexOf(_)===-1){c(new ve("Unsupported protocol "+_+":",ve.ERR_BAD_REQUEST,s));return}b.send(m||null)})},K0=(s,l)=>{const{length:o}=s=s?s.filter(Boolean):[];if(l||o){let c=new AbortController,d;const m=function(v){if(!d){d=!0,h();const g=v instanceof Error?v:this.reason;c.abort(g instanceof ve?g:new Ln(g instanceof Error?g.message:g))}};let f=l&&setTimeout(()=>{f=null,m(new ve(`timeout ${l} of ms exceeded`,ve.ETIMEDOUT))},l);const h=()=>{s&&(f&&clearTimeout(f),f=null,s.forEach(v=>{v.unsubscribe?v.unsubscribe(m):v.removeEventListener("abort",m)}),s=null)};s.forEach(v=>v.addEventListener("abort",m));const{signal:y}=c;return y.unsubscribe=()=>$.asap(h),y}},Y0=function*(s,l){let o=s.byteLength;if(o<l){yield s;return}let c=0,d;for(;c<o;)d=c+l,yield s.slice(c,d),c=d},Q0=async function*(s,l){for await(const o of G0(s))yield*Y0(o,l)},G0=async function*(s){if(s[Symbol.asyncIterator]){yield*s;return}const l=s.getReader();try{for(;;){const{done:o,value:c}=await l.read();if(o)break;yield c}}finally{await l.cancel()}},Kd=(s,l,o,c)=>{const d=Q0(s,l);let m=0,f,h=y=>{f||(f=!0,c&&c(y))};return new ReadableStream({async pull(y){try{const{done:v,value:g}=await d.next();if(v){h(),y.close();return}let j=g.byteLength;if(o){let T=m+=j;o(T)}y.enqueue(new Uint8Array(g))}catch(v){throw h(v),v}},cancel(y){return h(y),d.return()}},{highWaterMark:2})},Yd=64*1024,{isFunction:Ha}=$,J0=(({Request:s,Response:l})=>({Request:s,Response:l}))($.global),{ReadableStream:Qd,TextEncoder:Gd}=$.global,Jd=(s,...l)=>{try{return!!s(...l)}catch{return!1}},X0=s=>{s=$.merge.call({skipUndefined:!0},J0,s);const{fetch:l,Request:o,Response:c}=s,d=l?Ha(l):typeof fetch=="function",m=Ha(o),f=Ha(c);if(!d)return!1;const h=d&&Ha(Qd),y=d&&(typeof Gd=="function"?(k=>L=>k.encode(L))(new Gd):async k=>new Uint8Array(await new o(k).arrayBuffer())),v=m&&h&&Jd(()=>{let k=!1;const L=new o(rt.origin,{body:new Qd,method:"POST",get duplex(){return k=!0,"half"}}).headers.has("Content-Type");return k&&!L}),g=f&&h&&Jd(()=>$.isReadableStream(new c("").body)),j={stream:g&&(k=>k.body)};d&&["text","arrayBuffer","blob","formData","stream"].forEach(k=>{!j[k]&&(j[k]=(L,b)=>{let P=L&&L[k];if(P)return P.call(L);throw new ve(`Response type '${k}' is not supported`,ve.ERR_NOT_SUPPORT,b)})});const T=async k=>{if(k==null)return 0;if($.isBlob(k))return k.size;if($.isSpecCompliantForm(k))return(await new o(rt.origin,{method:"POST",body:k}).arrayBuffer()).byteLength;if($.isArrayBufferView(k)||$.isArrayBuffer(k))return k.byteLength;if($.isURLSearchParams(k)&&(k=k+""),$.isString(k))return(await y(k)).byteLength},D=async(k,L)=>{const b=$.toFiniteNumber(k.getContentLength());return b??T(L)};return async k=>{let{url:L,method:b,data:P,signal:_,cancelToken:H,timeout:V,onDownloadProgress:W,onUploadProgress:F,responseType:J,headers:re,withCredentials:B="same-origin",fetchOptions:ee}=Um(k),ce=l||fetch;J=J?(J+"").toLowerCase():"text";let je=K0([_,H&&H.toAbortSignal()],V),Ee=null;const te=je&&je.unsubscribe&&(()=>{je.unsubscribe()});let ye;try{if(F&&v&&b!=="get"&&b!=="head"&&(ye=await D(re,P))!==0){let N=new o(L,{method:"POST",body:P,duplex:"half"}),R;if($.isFormData(P)&&(R=N.headers.get("content-type"))&&re.setContentType(R),N.body){const[E,M]=Vd(ye,tl(Wd(F)));P=Kd(N.body,Yd,E,M)}}$.isString(B)||(B=B?"include":"omit");const we=m&&"credentials"in o.prototype,X={...ee,signal:je,method:b.toUpperCase(),headers:re.normalize().toJSON(),body:P,duplex:"half",credentials:we?B:void 0};Ee=m&&new o(L,X);let q=await(m?ce(Ee,ee):ce(L,X));const U=g&&(J==="stream"||J==="response");if(g&&(W||U&&te)){const N={};["status","statusText","headers"].forEach(ne=>{N[ne]=q[ne]});const R=$.toFiniteNumber(q.headers.get("content-length")),[E,M]=W&&Vd(R,tl(Wd(W),!0))||[];q=new c(Kd(q.body,Yd,E,()=>{M&&M(),te&&te()}),N)}J=J||"text";let Q=await j[$.findKey(j,J)||"text"](q,k);return!U&&te&&te(),await new Promise((N,R)=>{Im(N,R,{data:Q,headers:ft.from(q.headers),status:q.status,statusText:q.statusText,config:k,request:Ee})})}catch(we){throw te&&te(),we&&we.name==="TypeError"&&/Load failed|fetch/i.test(we.message)?Object.assign(new ve("Network Error",ve.ERR_NETWORK,k,Ee),{cause:we.cause||we}):ve.from(we,we&&we.code,k,Ee)}}},Z0=new Map,$m=s=>{let l=s?s.env:{};const{fetch:o,Request:c,Response:d}=l,m=[c,d,o];let f=m.length,h=f,y,v,g=Z0;for(;h--;)y=m[h],v=g.get(y),v===void 0&&g.set(y,v=h?new Map:X0(l)),g=v;return v};$m();const gi={http:x0,xhr:q0,fetch:{get:$m}};$.forEach(gi,(s,l)=>{if(s){try{Object.defineProperty(s,"name",{value:l})}catch{}Object.defineProperty(s,"adapterName",{value:l})}});const Xd=s=>`- ${s}`,eg=s=>$.isFunction(s)||s===null||s===!1,Bm={getAdapter:(s,l)=>{s=$.isArray(s)?s:[s];const{length:o}=s;let c,d;const m={};for(let f=0;f<o;f++){c=s[f];let h;if(d=c,!eg(c)&&(d=gi[(h=String(c)).toLowerCase()],d===void 0))throw new ve(`Unknown adapter '${h}'`);if(d&&($.isFunction(d)||(d=d.get(l))))break;m[h||"#"+f]=d}if(!d){const f=Object.entries(m).map(([y,v])=>`adapter ${y} `+(v===!1?"is not supported by the environment":"is not available in the build"));let h=o?f.length>1?`since :
`+f.map(Xd).join(`
`):" "+Xd(f[0]):"as no adapter specified";throw new ve("There is no suitable adapter to dispatch the request "+h,"ERR_NOT_SUPPORT")}return d},adapters:gi};function ui(s){if(s.cancelToken&&s.cancelToken.throwIfRequested(),s.signal&&s.signal.aborted)throw new Ln(null,s)}function Zd(s){return ui(s),s.headers=ft.from(s.headers),s.data=ci.call(s,s.transformRequest),["post","put","patch"].indexOf(s.method)!==-1&&s.headers.setContentType("application/x-www-form-urlencoded",!1),Bm.getAdapter(s.adapter||Ts.adapter,s)(s).then(function(c){return ui(s),c.data=ci.call(s,s.transformResponse,c),c.headers=ft.from(c.headers),c},function(c){return Fm(c)||(ui(s),c&&c.response&&(c.response.data=ci.call(s,s.transformResponse,c.response),c.response.headers=ft.from(c.response.headers))),Promise.reject(c)})}const Hm="1.12.2",cl={};["object","boolean","number","function","string","symbol"].forEach((s,l)=>{cl[s]=function(c){return typeof c===s||"a"+(l<1?"n ":" ")+s}});const em={};cl.transitional=function(l,o,c){function d(m,f){return"[Axios v"+Hm+"] Transitional option '"+m+"'"+f+(c?". "+c:"")}return(m,f,h)=>{if(l===!1)throw new ve(d(f," has been removed"+(o?" in "+o:"")),ve.ERR_DEPRECATED);return o&&!em[f]&&(em[f]=!0,console.warn(d(f," has been deprecated since v"+o+" and will be removed in the near future"))),l?l(m,f,h):!0}};cl.spelling=function(l){return(o,c)=>(console.warn(`${c} is likely a misspelling of ${l}`),!0)};function tg(s,l,o){if(typeof s!="object")throw new ve("options must be an object",ve.ERR_BAD_OPTION_VALUE);const c=Object.keys(s);let d=c.length;for(;d-- >0;){const m=c[d],f=l[m];if(f){const h=s[m],y=h===void 0||f(h,m,s);if(y!==!0)throw new ve("option "+m+" must be "+y,ve.ERR_BAD_OPTION_VALUE);continue}if(o!==!0)throw new ve("Unknown option "+m,ve.ERR_BAD_OPTION)}}const Ja={assertOptions:tg,validators:cl},Wt=Ja.validators;let Kr=class{constructor(l){this.defaults=l||{},this.interceptors={request:new Bd,response:new Bd}}async request(l,o){try{return await this._request(l,o)}catch(c){if(c instanceof Error){let d={};Error.captureStackTrace?Error.captureStackTrace(d):d=new Error;const m=d.stack?d.stack.replace(/^.+\n/,""):"";try{c.stack?m&&!String(c.stack).endsWith(m.replace(/^.+\n.+\n/,""))&&(c.stack+=`
`+m):c.stack=m}catch{}}throw c}}_request(l,o){typeof l=="string"?(o=o||{},o.url=l):o=l||{},o=Qr(this.defaults,o);const{transitional:c,paramsSerializer:d,headers:m}=o;c!==void 0&&Ja.assertOptions(c,{silentJSONParsing:Wt.transitional(Wt.boolean),forcedJSONParsing:Wt.transitional(Wt.boolean),clarifyTimeoutError:Wt.transitional(Wt.boolean)},!1),d!=null&&($.isFunction(d)?o.paramsSerializer={serialize:d}:Ja.assertOptions(d,{encode:Wt.function,serialize:Wt.function},!0)),o.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?o.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:o.allowAbsoluteUrls=!0),Ja.assertOptions(o,{baseUrl:Wt.spelling("baseURL"),withXsrfToken:Wt.spelling("withXSRFToken")},!0),o.method=(o.method||this.defaults.method||"get").toLowerCase();let f=m&&$.merge(m.common,m[o.method]);m&&$.forEach(["delete","get","head","post","put","patch","common"],k=>{delete m[k]}),o.headers=ft.concat(f,m);const h=[];let y=!0;this.interceptors.request.forEach(function(L){typeof L.runWhen=="function"&&L.runWhen(o)===!1||(y=y&&L.synchronous,h.unshift(L.fulfilled,L.rejected))});const v=[];this.interceptors.response.forEach(function(L){v.push(L.fulfilled,L.rejected)});let g,j=0,T;if(!y){const k=[Zd.bind(this),void 0];for(k.unshift(...h),k.push(...v),T=k.length,g=Promise.resolve(o);j<T;)g=g.then(k[j++],k[j++]);return g}T=h.length;let D=o;for(;j<T;){const k=h[j++],L=h[j++];try{D=k(D)}catch(b){L.call(this,b);break}}try{g=Zd.call(this,D)}catch(k){return Promise.reject(k)}for(j=0,T=v.length;j<T;)g=g.then(v[j++],v[j++]);return g}getUri(l){l=Qr(this.defaults,l);const o=zm(l.baseURL,l.url,l.allowAbsoluteUrls);return Am(o,l.params,l.paramsSerializer)}};$.forEach(["delete","get","head","options"],function(l){Kr.prototype[l]=function(o,c){return this.request(Qr(c||{},{method:l,url:o,data:(c||{}).data}))}});$.forEach(["post","put","patch"],function(l){function o(c){return function(m,f,h){return this.request(Qr(h||{},{method:l,headers:c?{"Content-Type":"multipart/form-data"}:{},url:m,data:f}))}}Kr.prototype[l]=o(),Kr.prototype[l+"Form"]=o(!0)});let rg=class Vm{constructor(l){if(typeof l!="function")throw new TypeError("executor must be a function.");let o;this.promise=new Promise(function(m){o=m});const c=this;this.promise.then(d=>{if(!c._listeners)return;let m=c._listeners.length;for(;m-- >0;)c._listeners[m](d);c._listeners=null}),this.promise.then=d=>{let m;const f=new Promise(h=>{c.subscribe(h),m=h}).then(d);return f.cancel=function(){c.unsubscribe(m)},f},l(function(m,f,h){c.reason||(c.reason=new Ln(m,f,h),o(c.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(l){if(this.reason){l(this.reason);return}this._listeners?this._listeners.push(l):this._listeners=[l]}unsubscribe(l){if(!this._listeners)return;const o=this._listeners.indexOf(l);o!==-1&&this._listeners.splice(o,1)}toAbortSignal(){const l=new AbortController,o=c=>{l.abort(c)};return this.subscribe(o),l.signal.unsubscribe=()=>this.unsubscribe(o),l.signal}static source(){let l;return{token:new Vm(function(d){l=d}),cancel:l}}};function ng(s){return function(o){return s.apply(null,o)}}function sg(s){return $.isObject(s)&&s.isAxiosError===!0}const yi={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(yi).forEach(([s,l])=>{yi[l]=s});function Wm(s){const l=new Kr(s),o=jm(Kr.prototype.request,l);return $.extend(o,Kr.prototype,l,{allOwnKeys:!0}),$.extend(o,l,null,{allOwnKeys:!0}),o.create=function(d){return Wm(Qr(s,d))},o}const ze=Wm(Ts);ze.Axios=Kr;ze.CanceledError=Ln;ze.CancelToken=rg;ze.isCancel=Fm;ze.VERSION=Hm;ze.toFormData=il;ze.AxiosError=ve;ze.Cancel=ze.CanceledError;ze.all=function(l){return Promise.all(l)};ze.spread=ng;ze.isAxiosError=sg;ze.mergeConfig=Qr;ze.AxiosHeaders=ft;ze.formToJSON=s=>Om($.isHTMLForm(s)?new FormData(s):s);ze.getAdapter=Bm.getAdapter;ze.HttpStatusCode=yi;ze.default=ze;const{Axios:Zg,AxiosError:ey,CanceledError:ty,isCancel:ry,CancelToken:ny,VERSION:sy,all:ay,Cancel:ly,isAxiosError:oy,spread:iy,toFormData:cy,AxiosHeaders:uy,HttpStatusCode:dy,formToJSON:my,getAdapter:fy,mergeConfig:py}=ze,Xa="http://localhost:8000".replace(/\/$/,""),qm=parseInt("10000"),Va="access_token",Wa="refresh_token",tm="user",ue=ze.create({baseURL:Xa,timeout:qm,headers:{"Content-Type":"application/json",Accept:"application/json"},withCredentials:!1}),Je={getAccessToken:()=>localStorage.getItem(Va),getRefreshToken:()=>localStorage.getItem(Wa),setTokens:(s,l)=>{localStorage.setItem(Va,s),localStorage.setItem(Wa,l)},clearTokens:()=>{localStorage.removeItem(Va),localStorage.removeItem(Wa),localStorage.removeItem(tm)},clearAllAuthData:()=>{localStorage.removeItem(Va),localStorage.removeItem(Wa),localStorage.removeItem(tm),sessionStorage.clear();const s=[];for(let l=0;l<localStorage.length;l++){const o=localStorage.key(l);o&&(o.includes("token")||o.includes("auth")||o.includes("user"))&&s.push(o)}s.forEach(l=>localStorage.removeItem(l))},isAuthenticated:()=>!!(Je.getAccessToken()&&Je.getRefreshToken())};ue.interceptors.request.use(s=>{const l=Je.getAccessToken();return l&&(s.headers.Authorization=`Bearer ${l}`),s},s=>Promise.reject(s));ue.interceptors.response.use(s=>s,async s=>{const l=s.config;if(s.response?.status===401&&!l._retry){l._retry=!0;try{const o=Je.getRefreshToken();if(o){const d=await ze.create({baseURL:Xa,timeout:qm}).post("/api/auth/token/refresh/",{refresh:o}),{access:m,refresh:f}=d.data;return Je.setTokens(m,f||o),l.headers&&(l.headers.Authorization=`Bearer ${m}`),ue(l)}}catch(o){return(o?.response?.data?.action==="clear_tokens"||o?.response?.data?.error==="user_not_found"||o?.response?.data?.error==="invalid_token"||o?.response?.data?.error==="user_inactive")&&(console.warn(" Token refresh failed - clearing all auth data:",o?.response?.data?.detail),Je.clearAllAuthData(),window.dispatchEvent(new CustomEvent("auth:logout",{detail:{reason:o?.response?.data?.error||"token_refresh_failed",message:o?.response?.data?.detail||"Session expired. Please log in again."}}))),Promise.reject(o)}}if(s.code==="ECONNREFUSED"||s.message.includes("Network Error")){const o=new Error(`Cannot connect to backend server at ${Xa}. Please ensure the Django server is running.`);return Promise.reject(o)}if(s.message.includes("ERR_SSL_PROTOCOL_ERROR")){const o=new Error(`SSL Protocol Error: The backend server at ${Xa} does not support HTTPS. Please check your API URL configuration.`);return Promise.reject(o)}return Promise.reject(s)});const ag=()=>{const s=setInterval(()=>{const l=Je.getAccessToken();if(l)try{const o=JSON.parse(atob(l.split(".")[1])),c=Math.floor(Date.now()/1e3);if(o.exp&&o.exp-c<300){const d=Je.getRefreshToken();d&&ue.post("/api/auth/token/refresh/",{refresh:d}).then(m=>{const{access:f,refresh:h}=m.data;Je.setTokens(f,h||d)}).catch(m=>{(m?.response?.data?.action==="clear_tokens"||m?.response?.data?.error==="user_not_found"||m?.response?.data?.error==="invalid_token"||m?.response?.data?.error==="user_inactive")&&(Je.clearAllAuthData(),window.dispatchEvent(new CustomEvent("auth:logout",{detail:{reason:m?.response?.data?.error||"token_expired",message:m?.response?.data?.detail||"Session expired"}})))})}o.exp&&o.exp<c&&(Je.clearAllAuthData(),window.dispatchEvent(new CustomEvent("auth:logout",{detail:{reason:"token_expired",message:"Your session has expired"}})))}catch{}},6e4);return()=>clearInterval(s)};class lg{async register(l){try{return(await ue.post("/api/auth/register/",l)).data}catch(o){throw new Error(o.response?.data?.error||o.message||"Registration failed")}}async login(l){try{const c=(await ue.post("/api/auth/login/",{email:l.email,password:l.password,totp_token:l.totp_token})).data;return c.tokens&&Je.setTokens(c.tokens.access,c.tokens.refresh),c.user&&localStorage.setItem("user",JSON.stringify(c.user)),c}catch(o){if(o.response?.status===400){const c=o.response.data;if(typeof c=="string")throw new Error(c);if(c.error)throw new Error(c.error);if(c.non_field_errors)throw new Error(c.non_field_errors[0])}else{if(o.response?.status===401)throw new Error("Invalid credentials");if(o.response?.status===429)throw new Error("Too many login attempts. Please try again later.")}throw new Error(o.message||"Login failed")}}async changePassword(l){try{return(await ue.post("/api/auth/password/change/",l)).data}catch(o){throw new Error(o.response?.data?.error||o.message||"Password change failed")}}async requestPasswordReset(l){try{return(await ue.post("/api/auth/password/reset/",l)).data}catch(o){throw new Error(o.response?.data?.error||o.message||"Password reset request failed")}}async confirmPasswordReset(l){try{return(await ue.post("/api/auth/password/reset/confirm/",l)).data}catch(o){throw new Error(o.response?.data?.error||o.message||"Password reset confirmation failed")}}async verifyEmail(l){try{return(await ue.post("/api/auth/email/verify/",l)).data}catch(o){throw new Error(o.response?.data?.error||o.message||"Email verification failed")}}async setup2FA(){try{return(await ue.get("/api/auth/2fa/setup/")).data}catch(l){throw new Error(l.response?.data?.error||l.message||"2FA setup failed")}}async enable2FA(l){try{return(await ue.post("/api/auth/2fa/setup/",{totp_token:l})).data}catch(o){throw new Error(o.response?.data?.error||o.message||"2FA enable failed")}}async disable2FA(){try{return(await ue.post("/api/auth/2fa/disable/")).data}catch(l){throw new Error(l.response?.data?.error||l.message||"2FA disable failed")}}async unlockUserAccount(l){try{return(await ue.post(`/api/auth/users/${l}/unlock/`)).data}catch(o){throw new Error(o.response?.data?.error||o.message||"Account unlock failed")}}async logout(){try{const l=Je.getRefreshToken();l&&await ue.post("/api/auth/logout/",{refresh_token:l})}catch(l){console.error("Logout API error:",l)}finally{Je.clearTokens()}}async getUserProfile(){try{return(await ue.get("/api/auth/profile/")).data}catch(l){throw new Error(l.response?.data?.error||l.message||"Failed to get user profile")}}getStoredUser(){const l=localStorage.getItem("user"),o=l?JSON.parse(l):null;return o&&o.is_superuser&&(o.effective_role="admin"),o}isAuthenticated(){return Je.isAuthenticated()}async testConnection(){try{const l=await ue.get("/api/health/");return{status:"success",message:"Backend connection successful"}}catch(l){return{status:"error",message:l.message||"Backend connection failed"}}}async getLocations(){try{return(await ue.get("/api/facilities/locations/")).data}catch(l){throw new Error(l.response?.data?.error||l.message||"Failed to get locations")}}async createLocation(l){try{const{phone:o,...c}=l;return(await ue.post("/api/facilities/locations/",c)).data}catch(o){throw new Error(o.response?.data?.error||o.message||"Failed to create location")}}async updateLocation(l,o){try{const{phone:c,...d}=o;return(await ue.patch(`/api/facilities/locations/${l}/`,d)).data}catch(c){throw new Error(c.response?.data?.error||c.message||"Failed to update location")}}async deleteLocation(l){try{await ue.delete(`/api/facilities/locations/${l}/`)}catch(o){throw new Error(o.response?.data?.error||o.message||"Failed to delete location")}}async getUsers(){try{return(await ue.get("/api/auth/users/")).data}catch(l){throw new Error(l.response?.data?.error||l.message||"Failed to get users")}}async createUser(l){try{return(await ue.post("/api/auth/users/create/",l)).data}catch(o){const c=o.response?.data;if(c&&typeof c=="object"){const d=Object.entries(c).map(([m,f])=>`${m}: ${Array.isArray(f)?f.join(", "):f}`).join("; ");throw new Error(d)}throw new Error(o.message||"Failed to create user")}}async updateUser(l,o){try{return(await ue.patch(`/api/auth/users/${l}/`,o)).data}catch(c){throw new Error(c.response?.data?.error||c.message||"Failed to update user")}}async deleteUser(l){try{await ue.delete(`/api/auth/users/${l}/`)}catch(o){throw new Error(o.response?.data?.error||o.message||"Failed to delete user")}}async getPermissionsMatrix(){try{return(await ue.get("/api/permissions/roles/permissions/matrix/")).data}catch(l){throw new Error(l.response?.data?.error||l.message||"Failed to get permissions matrix")}}async updateRolePermission(l,o,c){try{return(await ue.post("/api/permissions/role-permissions/update/",{role:l,permission_id:o,is_granted:c})).data}catch(d){throw new Error(d.response?.data?.error||d.message||"Failed to update role permissions")}}async getUserPermissions(){try{return(await ue.get("/api/permissions/user/permissions/")).data}catch(l){throw new Error(l.response?.data?.error||l.message||"Failed to get user permissions")}}async getTanks(){try{const l=await ue.get("/api/facilities/tanks/");return l.data.results||l.data||[]}catch(l){throw new Error(l.response?.data?.error||l.message||"Failed to get tanks")}}async getTanksByFacility(l){try{return(await ue.get(`/api/facilities/locations/${l}/tanks/`)).data}catch(o){throw new Error(o.response?.data?.error||o.message||"Failed to get facility tanks")}}async getTanksByLocationid(l){try{const o=await ue.get(`/api/facilities/locations/${l}/tanks/`);return o.data.results||o.data||[]}catch(o){throw new Error(o.response?.data?.error||o.message||"Failed to get tanks")}}async getPermits(l){try{const o=await ue.get(`/api/facilities/locations/${l}/permits/`);return o.data.results||o.data||[]}catch(o){throw new Error(o.response?.data?.error||o.message||"Failed to get permits")}}async getTankCount(l){try{return(await ue.get(`/api/facilities/locations/${l}/tanks/count/`)).data.count}catch(o){throw new Error(o.response?.data?.error||o.message||"Failed to get tank count")}}async getPermitCount(l){try{return(await ue.get(`/api/facilities/locations/${l}/permits/count/`)).data.count}catch(o){throw new Error(o.response?.data?.error||o.message||"Failed to get permit count")}}async createTank(l){try{return(await ue.post("/api/facilities/tanks/",l)).data}catch(o){throw new Error(o.response?.data?.error||o.message||"Failed to create tank")}}async updateTank(l,o){try{return(await ue.patch(`/api/facilities/tanks/${l}/`,o)).data}catch(c){throw new Error(c.response?.data?.error||c.message||"Failed to update tank")}}async deleteTank(l){try{await ue.delete(`/api/facilities/tanks/${l}/`)}catch(o){throw new Error(o.response?.data?.error||o.message||"Failed to delete tank")}}async getLocationDashboard(l){try{return(await ue.get(`/api/facilities/locations/${l}/dashboard/`)).data}catch(o){throw new Error(o.response?.data?.error||o.message||"Failed to get dashboard")}}async updateDashboardSection(l,o){try{return(await ue.patch(`/api/facilities/dashboard-section-data/${l}/`,{data:o})).data}catch(c){throw new Error(c.response?.data?.error||c.message||"Failed to update dashboard section")}}async getFacilityProfile(l){try{return(await ue.get(`/api/facilities/locations/${l}/profile/`)).data}catch(o){throw new Error(o.response?.data?.error||o.message||"Failed to get facility profile")}}async updateFacilityProfile(l,o){try{return(await ue.patch(`/api/facilities/locations/${l}/profile/`,o)).data}catch(c){throw new Error(c.response?.data?.error||c.message||"Failed to update facility profile")}}async updateProfileGeneralInfo(l,o){try{return(await ue.patch(`/api/facilities/locations/${l}/profile/general/`,o)).data}catch(c){throw new Error(c.response?.data?.error||c.message||"Failed to update general information")}}async updateProfileOperationalInfo(l,o){try{return(await ue.patch(`/api/facilities/locations/${l}/profile/operational/`,o)).data}catch(c){throw new Error(c.response?.data?.error||c.message||"Failed to update operational information")}}async updateProfileContacts(l,o){try{return(await ue.patch(`/api/facilities/locations/${l}/profile/contacts/`,o)).data}catch(c){throw new Error(c.response?.data?.error||c.message||"Failed to update facility contacts")}}async updateProfileOperationHours(l,o){try{return(await ue.patch(`/api/facilities/locations/${l}/profile/operation-hours/`,o)).data}catch(c){throw new Error(c.response?.data?.error||c.message||"Failed to update operation hours")}}async getPermitsByLocation(l){try{console.log(" API: Getting permits for location:",l),console.log(" API: Auth token exists:",!!Je.getAccessToken());const o=await ue.get(`/api/facilities/locations/${l}/permits/`);return console.log(" API: Permits response:",o.data),o.data}catch(o){throw console.error(" API: Get permits error:",o),new Error(o.response?.data?.error||o.message||"Failed to get permits")}}async createPermit(l,o){try{console.log(" API: Creating permit for location:",l),console.log(" API: Permit data:",o),console.log(" API: Auth token exists:",!!Je.getAccessToken());const c=await ue.post(`/api/facilities/locations/${l}/permits/`,o);return console.log(" API: Create permit response:",c.data),c.data}catch(c){throw console.error(" API: Create permit error:",c),new Error(c.response?.data?.error||c.message||"Failed to create permit")}}async updatePermit(l,o){try{return(await ue.patch(`/api/facilities/permits/${l}/`,o)).data}catch(c){throw new Error(c.response?.data?.error||c.message||"Failed to update permit")}}async deletePermit(l){try{await ue.delete(`/api/facilities/permits/${l}/`)}catch(o){throw new Error(o.response?.data?.error||o.message||"Failed to delete permit")}}async getCommandersByLocation(l){try{console.log(` API: GET /api/facilities/locations/${l}/commanders/`);const o=await ue.get(`/api/facilities/locations/${l}/commanders/`);if(console.log(" API Response:",o.data),o.data.results)return console.log(" Paginated response detected, extracting results array"),o.data.results;const c=Array.isArray(o.data)?o.data:[];return console.log(` Returning ${c.length} commanders`),c}catch(o){throw console.error(" API Error:",o),new Error(o.response?.data?.error||o.message||"Failed to get commanders")}}async createCommander(l,o){try{return(await ue.post(`/api/facilities/locations/${l}/commanders/`,{...o,location:l})).data}catch(c){throw new Error(c.response?.data?.error||c.message||"Failed to create commander")}}async updateCommander(l,o){try{return(await ue.patch(`/api/facilities/commanders/${l}/`,o)).data}catch(c){throw new Error(c.response?.data?.error||c.message||"Failed to update commander")}}async deleteCommander(l){try{await ue.delete(`/api/facilities/commanders/${l}/`)}catch(o){throw new Error(o.response?.data?.error||o.message||"Failed to delete commander")}}}const fe=new lg;function og(){const[s,l]=x.useState(null),[o,c]=x.useState(!0),[d,m]=x.useState(null),f=x.useCallback(async()=>{try{c(!0),await fe.logout()}catch(b){console.error("Logout error:",b)}finally{l(null),m(null),c(!1)}},[]),h=x.useCallback(async()=>{try{if(fe.isAuthenticated()){const b=await fe.getUserProfile();l(b),localStorage.setItem("user",JSON.stringify(b))}}catch(b){console.error("Failed to refresh user data:",b),await f()}},[f]),y=x.useCallback(async()=>{try{if(c(!0),fe.isAuthenticated()){const b=fe.getStoredUser();b&&(l(b),await h())}}catch(b){console.error("Auth initialization error:",b),await f()}finally{c(!1)}},[f,h]);x.useEffect(()=>{y();const b=ag(),P=()=>{f()};return window.addEventListener("auth:logout",P),()=>{b(),window.removeEventListener("auth:logout",P)}},[y,f]);const v=async b=>{try{c(!0),m(null);const P=await fe.login(b);return l(P.user),!0}catch(P){const _=P instanceof Error?P.message:"Login failed";return m(_),!1}finally{c(!1)}},g=async b=>{try{return c(!0),m(null),await fe.register(b),!0}catch(P){const _=P instanceof Error?P.message:"Registration failed";return m(_),!1}finally{c(!1)}},j=async b=>{try{return c(!0),m(null),await fe.requestPasswordReset(b),!0}catch(P){const _=P instanceof Error?P.message:"Password reset request failed";return m(_),!1}finally{c(!1)}},T=async b=>{try{return c(!0),m(null),await fe.confirmPasswordReset(b),!0}catch(P){const _=P instanceof Error?P.message:"Password reset failed";return m(_),!1}finally{c(!1)}},D=async b=>{try{return c(!0),m(null),await fe.verifyEmail(b),await h(),!0}catch(P){const _=P instanceof Error?P.message:"Email verification failed";return m(_),!1}finally{c(!1)}},k=x.useCallback(b=>{if(!s)return!1;if(s.is_superuser)return!0;const P={admin:["view_dashboard","view_admin_panel","edit_user","delete_user"],contributor:["view_dashboard","edit_content"],viewer:["view_dashboard"]},_=s.effective_role||s.role;return P[_]?.includes(b)||!1},[s]),L=()=>{m(null)};return{user:s,isAuthenticated:!!s&&fe.isAuthenticated(),isLoading:o,error:d,login:v,register:g,logout:f,requestPasswordReset:j,confirmPasswordReset:T,verifyEmail:D,clearError:L,refreshUser:h,hasPermission:k}}const Km=x.createContext(void 0);function ig({children:s}){const l=og(),o=Rr();return lm.useEffect(()=>{const c=async()=>{console.log(" Auto-logout triggered due to token expiry"),await l.logout(),o("/login",{replace:!0})};return window.addEventListener("auth:logout",c),()=>{window.removeEventListener("auth:logout",c)}},[l,o]),r.jsx(Km.Provider,{value:l,children:s})}function wt(){const s=x.useContext(Km);if(s===void 0)throw new Error("useAuthContext must be used within an AuthProvider");return s}/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var cg={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ug=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),he=(s,l)=>{const o=x.forwardRef(({color:c="currentColor",size:d=24,strokeWidth:m=2,absoluteStrokeWidth:f,className:h="",children:y,...v},g)=>x.createElement("svg",{ref:g,...cg,width:d,height:d,stroke:c,strokeWidth:f?Number(m)*24/Number(d):m,className:["lucide",`lucide-${ug(s)}`,h].join(" "),...v},[...l.map(([j,T])=>x.createElement(j,T)),...Array.isArray(y)?y:[y]]));return o.displayName=`${s}`,o};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dg=he("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pt=he("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mg=he("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fg=he("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pg=he("Box",[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yt=he("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ri=he("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hg=he("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vt=he("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rl=he("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ym=he("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xg=he("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yr=he("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gg=he("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yg=he("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qm=he("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kt=he("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ot=he("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vg=he("FileCheck",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qt=he("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wg=he("Fuel",[["line",{x1:"3",x2:"15",y1:"22",y2:"22",key:"xegly4"}],["line",{x1:"4",x2:"14",y1:"9",y2:"9",key:"xcnuvu"}],["path",{d:"M14 22V4a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v18",key:"16j0yd"}],["path",{d:"M14 13h2a2 2 0 0 1 2 2v2a2 2 0 0 0 2 2h0a2 2 0 0 0 2-2V9.83a2 2 0 0 0-.59-1.42L18 5",key:"8ur5zv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bg=he("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jg=he("Hop",[["path",{d:"M10.82 16.12c1.69.6 3.91.79 5.18.85.55.03 1-.42.97-.97-.06-1.27-.26-3.5-.85-5.18",key:"18lxf1"}],["path",{d:"M11.5 6.5c1.64 0 5-.38 6.71-1.07.52-.2.55-.82.12-1.17A10 10 0 0 0 4.26 18.33c.35.43.96.4 1.17-.12.69-1.71 1.07-5.07 1.07-6.71 1.34.45 3.1.9 4.88.62a.88.88 0 0 0 .73-.74c.3-2.14-.15-3.5-.61-4.88",key:"vtfxrw"}],["path",{d:"M15.62 16.95c.2.85.62 2.76.5 4.28a.77.77 0 0 1-.9.7 16.64 16.64 0 0 1-4.08-1.36",key:"13hl71"}],["path",{d:"M16.13 21.05c1.65.63 3.68.84 4.87.91a.9.9 0 0 0 .96-.96 17.68 17.68 0 0 0-.9-4.87",key:"1sl8oj"}],["path",{d:"M16.94 15.62c.86.2 2.77.62 4.29.5a.77.77 0 0 0 .7-.9 16.64 16.64 0 0 0-1.36-4.08",key:"19c6kt"}],["path",{d:"M17.99 5.52a20.82 20.82 0 0 1 3.15 4.5.8.8 0 0 1-.68 1.13c-2.33.2-5.3-.32-8.27-1.57",key:"85ghs3"}],["path",{d:"M4.93 4.93 3 3a.7.7 0 0 1 0-1",key:"x087yj"}],["path",{d:"M9.58 12.18c1.24 2.98 1.77 5.95 1.57 8.28a.8.8 0 0 1-1.13.68 20.82 20.82 0 0 1-4.5-3.15",key:"11xdqo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gm=he("Key",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ng=he("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kn=he("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kg=he("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sg=he("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ti=he("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qr=he("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rm=he("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nm=he("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const En=he("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cg=he("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cr=he("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jm=he("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eg=he("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const at=he("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Li=he("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Za=he("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mi=he("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const or=he("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xm=he("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ss=he("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sm=he("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sn=he("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ns=he("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const He=he("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ar=he("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]);function _g({collapsed:s,activeView:l,onViewChange:o,onToggleSidebar:c}){const{hasPermission:d,user:m}=wt(),h=[{id:"dashboard",label:"Dashboard",icon:jg,permission:"view_dashboard"},{id:"locations",label:"Locations",icon:qr,permission:"view_locations"},{id:"facilities",label:"Facility Profile",icon:Yt,permission:"view_facilities"},{id:"tanks",label:"Tank Management",icon:ar,permission:"view_tank_management"},{id:"commanders",label:"Commander Info",icon:Za,permission:"view_tank_management"},{id:"releases",label:"Tank Testing",icon:or,permission:"view_release_detection"},{id:"permits",label:"Permits & Licenses",icon:qt,permission:"view_permits"},{id:"settings",label:"Settings",icon:Mi,permission:"view_settings"}].filter(y=>d(y.permission));return d("view_admin_panel")&&h.push({id:"admin",label:"Admin Panel",icon:Ns,permission:"view_admin_panel"}),r.jsxs("div",{className:`bg-white border-r border-gray-200 transition-all duration-300 ${s?"w-16":"w-64"} flex flex-col`,children:[r.jsx("div",{className:"p-4 border-b border-gray-200",children:r.jsxs("div",{className:"flex items-center justify-left",children:[!s&&r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("button",{onClick:c,className:"p-1.5 rounded-md hover:bg-gray-100 transition-colors",children:r.jsx(rm,{className:"h-5 w-5 text-gray-600"})}),r.jsx("span",{className:"font-bold text-xl text-gray-900",children:"Menu"})]}),s&&r.jsx("div",{className:"flex items-left space-x-2",children:r.jsx("button",{onClick:c,className:"p-1.5 rounded-md hover:bg-gray-100 transition-colors",children:r.jsx(rm,{className:"h-4 w-4 text-gray-600"})})})]})}),r.jsx("nav",{className:"flex-1 p-4",children:r.jsx("ul",{className:"space-y-2",children:h.map(y=>{const v=y.icon,g=l===y.id;return r.jsx("li",{children:r.jsxs("button",{onClick:()=>o(y.id),className:`w-full flex items-center px-3 py-2 rounded-lg transition-colors ${g?"bg-blue-100 text-blue-700":"text-gray-600 hover:bg-gray-100"}`,children:[r.jsx(v,{className:"h-5 w-5 flex-shrink-0"}),!s&&r.jsx("span",{className:"ml-3 text-sm font-medium",children:y.label})]})},y.id)})})})]})}function Pg({selectedFacility:s,onFacilitySelect:l,onViewChange:o,refreshKey:c}){const d=Rr(),[m,f]=x.useState(!1),[h,y]=x.useState(""),[v,g]=x.useState(!1),[j,T]=x.useState([]),[D,k]=x.useState(!1),{user:L,logout:b}=wt();x.useEffect(()=>{P();const J=()=>{P()};return window.addEventListener("location:created",J),()=>{window.removeEventListener("location:created",J)}},[c]);const P=async()=>{try{k(!0);const J=await fe.getLocations();T(Array.isArray(J)?J:J.results||[])}catch{T([])}finally{k(!1)}},_=async()=>{await b(),d("/login",{replace:!0})},H=j.filter(J=>J.name.toLowerCase().includes(h.toLowerCase())||J.street_address&&J.street_address.toLowerCase().includes(h.toLowerCase())||J.city&&J.city.toLowerCase().includes(h.toLowerCase())),V=J=>{l(J),y(""),g(!1),d(`/dashboard?locationId=${J.id}`)},W=()=>{l(null),y(""),g(!1),d("/")},F=J=>{y(J.target.value),g(!0)};return r.jsx("div",{children:r.jsxs("header",{className:"bg-white border-b border-gray-200 px-4 py-3",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("div",{className:"flex items-center min-w-0 flex-1",children:s&&r.jsxs("div",{className:"flex items-center space-x-2 px-3 py-2 bg-blue-50 rounded-lg border border-blue-200",children:[r.jsx("span",{className:"text-sm font-medium text-blue-900 truncate",children:s.name}),r.jsx("button",{onClick:W,className:"flex-shrink-0 w-5 h-5 flex items-center justify-center text-blue-500 hover:text-red-700 hover:bg-blue-100 rounded",children:r.jsx(He,{size:32})})]})}),r.jsx("div",{className:"flex-1 max-w-2xl mx-8 relative",children:r.jsxs("div",{className:"relative",children:[r.jsx(Li,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),r.jsx("input",{type:"text",placeholder:"Search and select location...",value:h,onChange:F,onFocus:()=>g(!0),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),v&&r.jsx("div",{className:"absolute top-full left-0 right-0 mt-1 bg-white border border-gray-200 rounded-lg shadow-lg z-50 max-h-64 overflow-y-auto",children:D?r.jsxs("div",{className:"px-4 py-3 text-sm text-gray-500 flex items-center space-x-2",children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-600"}),r.jsx("span",{children:"Loading locations..."})]}):H.length>0?H.map(J=>r.jsx("button",{onClick:()=>V(J),className:"w-full text-left px-4 py-3 hover:bg-blue-50 hover:border-blue-200 border-b border-gray-100 last:border-b-0 transition-colors cursor-pointer",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(Yt,{className:"h-5 w-5 text-blue-600"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-900",children:J.name}),r.jsxs("p",{className:"text-xs text-gray-500",children:[J.city,", ",J.state]})]})]}),r.jsx("div",{className:"text-xs text-blue-600 opacity-0 group-hover:opacity-100",children:"View "})]})},J.id)):h.length>0?r.jsx("div",{className:"px-4 py-3 text-sm text-gray-500",children:"No matching locations found."}):r.jsx("div",{className:"px-4 py-3 text-sm text-gray-500",children:"Start typing to search locations..."})})]})}),r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsxs("button",{className:"p-2 rounded-md hover:bg-gray-100 transition-colors relative",children:[r.jsx(fg,{className:"h-5 w-5 text-gray-600"}),r.jsx("span",{className:"absolute -top-1 -right-1 h-3 w-3 bg-red-500 rounded-full"})]}),r.jsxs("div",{className:"relative",children:[r.jsxs("button",{onClick:()=>f(!m),className:"flex items-center space-x-3 p-2 rounded-md hover:bg-gray-100 transition-colors",children:[r.jsx("div",{className:"h-8 w-8 bg-blue-100 rounded-full flex items-center justify-center",children:r.jsx(Sn,{className:"h-4 w-4 text-blue-600"})}),r.jsxs("div",{className:"text-left",children:[r.jsx("p",{className:"text-sm font-medium text-gray-900",children:L?.username||"User"}),r.jsx("p",{className:"text-xs text-gray-500 capitalize",children:L?.role})]}),r.jsx(Ym,{className:"h-4 w-4 text-gray-400"})]}),m&&r.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg py-1 z-50 border border-gray-200",children:[r.jsxs("button",{onClick:()=>{o("profile"),f(!1)},className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 w-full text-left",children:[r.jsx(Sn,{className:"h-4 w-4 inline mr-2"}),"Profile"]}),r.jsxs("button",{onClick:()=>{o("settings"),f(!1)},className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 w-full text-left",children:[r.jsx(Mi,{className:"h-4 w-4 inline mr-2"}),"Settings"]}),r.jsx("hr",{className:"my-1"}),r.jsxs("button",{onClick:_,className:"block px-4 py-2 text-sm text-red-600 hover:bg-gray-100 w-full text-left",children:[r.jsx(Sg,{className:"h-4 w-4 inline mr-2"}),"Sign Out"]})]})]})]})]}),v&&r.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>g(!1)})]})})}function am({selectedFacility:s,onViewChange:l}){const[o,c]=x.useState({activeTanks:0,tankTestingIssues:0,permitsDue:0}),[d,m]=x.useState(!1),[f,h]=x.useState(null);x.useEffect(()=>{s?.id?y():(c({activeTanks:0,tankTestingIssues:0,permitsDue:0}),h(null))},[s?.id]);const y=async()=>{if(s?.id)try{m(!0);const k=((await fe.getTanksByFacility(s.id)).results||[]).filter(H=>{const V=H.status?.toLowerCase();return V==="active"||V==="operational"}).length,P=((await fe.getPermitsByLocation(s.id)).results||[]).filter(H=>H.calculated_status==="expiring_soon").length;c({activeTanks:k,tankTestingIssues:0,permitsDue:P}),h(new Date)}catch(T){console.error("Failed to load dashboard stats:",T)}finally{m(!1)}},v=()=>{y()},g=T=>{l&&l(T)},j=[{title:"Active Tanks",value:d?"...":o.activeTanks.toString(),icon:ar,color:"green",onClick:()=>g("tanks")},{title:"Tank Testing Issues",value:d?"...":o.tankTestingIssues.toString(),icon:pt,color:"red",onClick:()=>g("releases")},{title:"Permits Due",value:d?"...":o.permitsDue.toString(),icon:qt,color:"yellow",onClick:()=>g("permits")}];return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:s?`${s.name} Dashboard`:"Facility Management Dashboard"}),s&&r.jsx("p",{className:"text-sm text-gray-500 mt-1",children:s.address})]}),r.jsxs("div",{className:"flex items-center space-x-4",children:[f&&r.jsxs("div",{className:"text-sm text-gray-500",children:["Last updated: ",f.toLocaleTimeString()]}),s&&r.jsxs("button",{onClick:v,disabled:d,className:"flex items-center space-x-2 px-3 py-1.5 text-sm text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",title:"Refresh dashboard data",children:[r.jsx(Jm,{className:`h-4 w-4 ${d?"animate-spin":""}`}),r.jsx("span",{children:"Refresh"})]})]})]}),!s&&r.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6 text-center",children:[r.jsx(Yt,{className:"h-12 w-12 text-blue-400 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-blue-900 mb-2",children:"Welcome to Facility Management"}),r.jsx("p",{className:"text-blue-700",children:"Select a facility from the search bar above to view detailed dashboard information."})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:j.map((T,D)=>{const k=T.icon,L={green:"bg-green-100 text-green-600",red:"bg-red-100 text-red-600",yellow:"bg-yellow-100 text-yellow-600"};return r.jsx("button",{onClick:T.onClick,disabled:!s,className:`bg-white rounded-lg p-6 shadow-sm border border-gray-200 text-left transition-all ${s?"hover:shadow-md hover:border-gray-300 cursor-pointer transform hover:-translate-y-0.5":"opacity-50 cursor-not-allowed"}`,children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:T.title}),r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:T.value})]}),r.jsx("div",{className:`p-3 rounded-lg ${L[T.color]}`,children:r.jsx(k,{className:"h-6 w-6"})})]})},D)})}),r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[r.jsx("div",{className:"p-6 border-b border-gray-200",children:r.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Quick Actions"})}),r.jsxs("div",{className:"p-6 grid grid-cols-1 md:grid-cols-3 gap-3",children:[r.jsx("button",{onClick:()=>g("locations"),className:"text-left p-4 rounded-lg hover:bg-gray-50 transition-colors border border-gray-200",children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(Yt,{className:"h-5 w-5 text-blue-600"}),r.jsx("span",{className:"text-sm font-medium",children:"Add New Location"})]})}),r.jsx("button",{onClick:()=>g("tanks"),className:"text-left p-4 rounded-lg hover:bg-gray-50 transition-colors border border-gray-200",children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(ar,{className:"h-5 w-5 text-green-600"}),r.jsx("span",{className:"text-sm font-medium",children:"Add Tank"})]})}),r.jsx("button",{onClick:()=>g("permits"),className:"text-left p-4 rounded-lg hover:bg-gray-50 transition-colors border border-gray-200",children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(qt,{className:"h-5 w-5 text-purple-600"}),r.jsx("span",{className:"text-sm font-medium",children:"Add Permit"})]})})]})]})]})}function Rg({location:s,onEdit:l,onDelete:o,canEdit:c,canDelete:d}){const m=Rr(),[f,h]=x.useState(0),[y,v]=x.useState(0),[g,j]=x.useState(!0);x.useEffect(()=>{T()},[s.id]);const T=async()=>{try{j(!0);const[_,H]=await Promise.all([fe.getTanksByLocationid(s.id),fe.getPermits(s.id)]);h(Array.isArray(_)?_.length:0),v(Array.isArray(H)?H.length:0)}catch(_){console.error("Failed to load counts:",_),h(0),v(0)}finally{j(!1)}},D=_=>{_.target.closest("button")||m(`/dashboard?locationId=${s.id}`)},k=_=>{_.stopPropagation(),m(`/dashboard?locationId=${s.id}&tab=tanks`)},L=_=>{_.stopPropagation(),m(`/dashboard?locationId=${s.id}&tab=permits`)},b=_=>{_.stopPropagation(),l?.(s)},P=_=>{_.stopPropagation(),o?.(s.id)};return r.jsx("div",{onClick:D,className:"bg-white rounded-lg shadow-sm border border-gray-200 hover:shadow-lg hover:border-blue-300 transition-all duration-200 cursor-pointer group",children:r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"flex items-start justify-between mb-4",children:[r.jsxs("div",{className:"flex items-center space-x-3 flex-1 min-w-0",children:[r.jsx("div",{className:" bg-blue-100 rounded-lg group-hover:bg-blue-200 transition-colors",children:r.jsx("img",{src:`/assets/location-icons/${s.icon||"factory.svg"}`,alt:s.name,className:"h-12 w-12 text-blue-600"})}),r.jsxs("div",{className:"min-w-0 flex-1",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 truncate group-hover:text-blue-600 transition-colors",children:s.name}),r.jsx("p",{className:"text-sm text-gray-500 capitalize",children:s.facility_type.replace("_"," ")})]})]}),r.jsxs("div",{className:"flex items-center space-x-1 ml-2",children:[c&&r.jsx("button",{onClick:b,className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Edit location",children:r.jsx(En,{className:"h-4 w-4"})}),d&&r.jsx("button",{onClick:P,className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Delete location",children:r.jsx(Ss,{className:"h-4 w-4"})})]})]}),r.jsx("div",{className:"mb-4",children:r.jsxs("div",{className:"flex items-start space-x-2",children:[r.jsx(qr,{className:"h-4 w-4 text-gray-400 mt-0.5 flex-shrink-0"}),r.jsxs("div",{className:"text-sm text-gray-600",children:[s.street_address&&r.jsx("p",{children:s.street_address}),r.jsxs("p",{children:[s.city,s.city&&s.state&&", ",s.state," ",s.zip_code]}),s.country&&r.jsx("p",{children:s.country})]})]})}),r.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[r.jsxs("button",{onClick:k,className:"text-center p-3 bg-blue-50 rounded-lg hover:bg-blue-100 hover:shadow-md transition-all duration-200 group/tanks",title:"View tanks",children:[r.jsxs("div",{className:"flex items-center justify-center space-x-2 mb-1",children:[r.jsx(wg,{className:"h-4 w-4 text-blue-600 group-hover/tanks:scale-110 transition-transform"}),g?r.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-2 border-blue-600 border-t-transparent"}):r.jsx("p",{className:"text-xl font-bold text-blue-600",children:f})]}),r.jsx("p",{className:"text-xs text-gray-600 font-medium",children:"Tanks"})]}),r.jsxs("button",{onClick:L,className:"text-center p-3 bg-green-50 rounded-lg hover:bg-green-100 hover:shadow-md transition-all duration-200 group/permits",title:"View permits",children:[r.jsxs("div",{className:"flex items-center justify-center space-x-2 mb-1",children:[r.jsx(vg,{className:"h-4 w-4 text-green-600 group-hover/permits:scale-110 transition-transform"}),g?r.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-2 border-green-600 border-t-transparent"}):r.jsx("p",{className:"text-xl font-bold text-green-600",children:y})]}),r.jsx("p",{className:"text-xs text-gray-600 font-medium",children:"Permits"})]})]})]})})}function Tg(){const[s,l]=x.useState([]),[o,c]=x.useState(!0),[d,m]=x.useState(null),[f,h]=x.useState(!1),[y,v]=x.useState(!1),[g,j]=x.useState(null),[T,D]=x.useState({name:"",street_address:"",city:"",state:"",zip_code:"",country:"United States",facility_type:"gas_station",icon:"factory.svg"}),{hasPermission:k,user:L}=wt();x.useEffect(()=>{L&&b()},[L]);const b=async()=>{try{c(!0),m(null);const B=await fe.getLocations();l(Array.isArray(B)?B:B.results||[])}catch{m("Failed to load locations"),l([])}finally{c(!1)}},P=async()=>{try{if(v(!0),m(null),!T.name.trim()){m("Location name is required");return}const B={name:T.name.trim(),street_address:T.street_address.trim(),city:T.city.trim(),state:T.state,zip_code:T.zip_code.trim(),country:T.country,facility_type:T.facility_type,description:`${T.facility_type.replace("_"," ")} facility`};await fe.createLocation(B),await b(),h(!1),V(),window.dispatchEvent(new CustomEvent("location:created"))}catch{m("Failed to create location")}finally{v(!1)}},_=async B=>{try{await fe.updateLocation(B.id,{name:B.name,street_address:B.street_address,city:B.city,state:B.state,zip_code:B.zip_code,country:B.country,facility_type:B.facility_type,icon:B.icon||"factory.svg"}),l(ee=>ee.map(ce=>ce.id===B.id?B:ce)),j(null)}catch{m("Failed to update location")}},H=async B=>{if(window.confirm("Are you sure you want to delete this location?"))try{await fe.deleteLocation(B),l(ee=>ee.filter(ce=>ce.id!==B))}catch{m("Failed to delete location")}},V=()=>{D({name:"",street_address:"",city:"",state:"",zip_code:"",country:"United States",facility_type:"gas_station"}),m(null)},W=(B,ee)=>{D(ce=>({...ce,[B]:ee}))},F=[{value:"gas_station",label:"Gas Station"},{value:"truck_stop",label:"Truck Stop"},{value:"storage_facility",label:"Storage Facility"},{value:"distribution_center",label:"Distribution Center"},{value:"terminal",label:"Terminal"},{value:"convenience_store",label:"Convenience Store"}],J=[{value:"pp66.png",label:"PP66"},{value:"liberty.png",label:"Liberty"},{value:"sunoco.png",label:"Sunoco"},{value:"delta.jpg",label:"Delta"},{value:"valero.png",label:"Valero"},{value:"apartments.png",label:"Unbrand"}],re=["Alabama","Alaska","Arizona","Arkansas","California","Colorado","Connecticut","Delaware","Florida","Georgia","Hawaii","Idaho","Illinois","Indiana","Iowa","Kansas","Kentucky","Louisiana","Maine","Maryland","Massachusetts","Michigan","Minnesota","Mississippi","Missouri","Montana","Nebraska","Nevada","New Hampshire","New Jersey","New Mexico","New York","North Carolina","North Dakota","Ohio","Oklahoma","Oregon","Pennsylvania","Rhode Island","South Carolina","South Dakota","Tennessee","Texas","Utah","Vermont","Virginia","Washington","West Virginia","Wisconsin","Wyoming"];return L?o?r.jsxs("div",{className:"flex items-center justify-center p-8",children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),r.jsx("span",{className:"ml-2",children:"Loading locations..."})]}):r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(qr,{className:"h-6 w-6 text-blue-600"}),r.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Locations"})]}),(L?.is_superuser||k("create_locations"))&&r.jsxs("button",{onClick:()=>h(!0),className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[r.jsx(cr,{className:"h-4 w-4"}),r.jsx("span",{children:"Add New Location"})]})]}),d&&r.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(He,{className:"h-5 w-5 text-red-600 mr-2"}),r.jsx("span",{className:"text-red-800",children:d})]})}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:s.map(B=>r.jsx(Rg,{location:B,onEdit:j,onDelete:H,canEdit:L?.is_superuser||k("edit_locations"),canDelete:L?.is_superuser||k("delete_locations")},B.id))}),s.length===0&&!o&&r.jsxs("div",{className:"text-center py-12",children:[r.jsx(qr,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No locations found"}),r.jsx("p",{className:"text-gray-500 mb-4",children:"Get started by creating your first location."}),(L?.is_superuser||k("create_locations"))&&r.jsxs("button",{onClick:()=>h(!0),className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors mx-auto",children:[r.jsx(cr,{className:"h-4 w-4"}),r.jsx("span",{children:"Add First Location"})]})]}),f&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white rounded-lg w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[r.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:r.jsx(qr,{className:"h-6 w-6 text-green-600"})}),r.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Add New Location"})]}),r.jsx("button",{onClick:()=>{h(!1),V()},className:"text-gray-400 hover:text-gray-600",children:r.jsx(He,{className:"h-6 w-6"})})]}),r.jsxs("div",{className:"p-6 space-y-6",children:[d&&r.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(He,{className:"h-5 w-5 text-red-600 mr-2"}),r.jsx("span",{className:"text-red-800",children:d})]})}),r.jsxs("div",{children:[r.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-4",children:"Basic Information"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Location Name *"}),r.jsx("input",{type:"text",value:T.name,onChange:B=>W("name",B.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500",placeholder:"e.g., Downtown Station A",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Facility Type"}),r.jsx("select",{value:T.facility_type,onChange:B=>W("facility_type",B.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500",children:F.map(B=>r.jsx("option",{value:B.value,children:B.label},B.value))})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Icon"}),r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("select",{value:T.icon,onChange:B=>W("icon",B.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500",children:J.map(B=>r.jsx("option",{value:B.value,children:B.label},B.value))}),r.jsx("div",{className:"w-12 h-12 flex items-center justify-center border border-gray-300 rounded-md bg-gray-50",children:r.jsx("img",{src:`/assets/location-icons/${T.icon}`,alt:"Selected icon",className:"w-8 h-8 text-gray-600"})})]})]})]})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-4",children:"Address Information"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Street Address"}),r.jsx("input",{type:"text",value:T.street_address,onChange:B=>W("street_address",B.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500",placeholder:"e.g., 123 Main Street"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"City"}),r.jsx("input",{type:"text",value:T.city,onChange:B=>W("city",B.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500",placeholder:"e.g., Los Angeles"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"State"}),r.jsxs("select",{value:T.state,onChange:B=>W("state",B.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500",children:[r.jsx("option",{value:"",children:"Select State"}),re.map(B=>r.jsx("option",{value:B,children:B},B))]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"ZIP Code"}),r.jsx("input",{type:"text",value:T.zip_code,onChange:B=>W("zip_code",B.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500",placeholder:"e.g., 90210",pattern:"[0-9]{5}(-[0-9]{4})?"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Country"}),r.jsxs("select",{value:T.country,onChange:B=>W("country",B.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500",children:[r.jsx("option",{value:"United States",children:"United States"}),r.jsx("option",{value:"Canada",children:"Canada"}),r.jsx("option",{value:"Mexico",children:"Mexico"})]})]})]})]})]}),r.jsxs("div",{className:"flex space-x-3 p-6 border-t border-gray-200",children:[r.jsx("button",{onClick:()=>{h(!1),V()},className:"flex-1 px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50",disabled:y,children:"Cancel"}),r.jsx("button",{onClick:P,disabled:y||!T.name.trim(),className:"flex-1 px-4 py-2 bg-green-600 text-white rounded-md text-sm font-medium hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed",children:y?r.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),r.jsx("span",{children:"Creating..."})]}):"Create Location"})]})]})}),g&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white rounded-lg w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[r.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:r.jsx(En,{className:"h-6 w-6 text-blue-600"})}),r.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Edit Location"})]}),r.jsx("button",{onClick:()=>j(null),className:"text-gray-400 hover:text-gray-600",children:r.jsx(He,{className:"h-6 w-6"})})]}),r.jsxs("div",{className:"p-6 space-y-6",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-4",children:"Basic Information"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Location Name *"}),r.jsx("input",{type:"text",value:g.name,onChange:B=>j({...g,name:B.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Facility Type"}),r.jsx("select",{value:g.facility_type,onChange:B=>j({...g,facility_type:B.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:F.map(B=>r.jsx("option",{value:B.value,children:B.label},B.value))})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Icon"}),r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("select",{value:g.icon||"factory.svg",onChange:B=>j({...g,icon:B.target.value}),className:"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:J.map(B=>r.jsx("option",{value:B.value,children:B.label},B.value))}),r.jsx("div",{className:"w-12 h-12 flex items-center justify-center border border-gray-300 rounded-md bg-gray-50",children:r.jsx("img",{src:`/assets/location-icons/${g.icon||"factory.svg"}`,alt:"Selected icon",className:"w-8 h-8 text-gray-600"})})]})]})]})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-4",children:"Address Information"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Street Address"}),r.jsx("input",{type:"text",value:g.street_address,onChange:B=>j({...g,street_address:B.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"City"}),r.jsx("input",{type:"text",value:g.city,onChange:B=>j({...g,city:B.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"State"}),r.jsxs("select",{value:g.state,onChange:B=>j({...g,state:B.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[r.jsx("option",{value:"",children:"Select State"}),re.map(B=>r.jsx("option",{value:B,children:B},B))]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"ZIP Code"}),r.jsx("input",{type:"text",value:g.zip_code,onChange:B=>j({...g,zip_code:B.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Country"}),r.jsxs("select",{value:g.country,onChange:B=>j({...g,country:B.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[r.jsx("option",{value:"United States",children:"United States"}),r.jsx("option",{value:"Canada",children:"Canada"}),r.jsx("option",{value:"Mexico",children:"Mexico"})]})]})]})]})]}),r.jsxs("div",{className:"flex space-x-3 p-6 border-t border-gray-200",children:[r.jsx("button",{onClick:()=>j(null),className:"flex-1 px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50",children:"Cancel"}),r.jsx("button",{onClick:()=>_(g),className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-md text-sm font-medium hover:bg-blue-700",children:r.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[r.jsx(at,{className:"h-4 w-4"}),r.jsx("span",{children:"Save Changes"})]})})]})]})})]}):r.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6 text-center",children:[r.jsx(qr,{className:"h-12 w-12 text-red-400 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-red-900 mb-2",children:"Authentication Required"}),r.jsx("p",{className:"text-red-700",children:"Please log in to view locations."})]})}function Lg({selectedFacility:s}){const[l,o]=x.useState([]),[c,d]=x.useState("cards"),[m,f]=x.useState(""),[h,y]=x.useState(!1),[v,g]=x.useState(null),[j,T]=x.useState(!1),[D,k]=x.useState(null),[L,b]=x.useState(null),[P,_]=x.useState({label:"",product:"",status:"Active",size:"",tankLined:"Yes",compartment:"No",manifoldedWith:"",pipingManifoldedWith:"",trackReleaseDetection:"Yes",tankMaterial:"",releaseDetection:"",stpSumps:"",pipingDetection:"",pipingMaterial:"",atgId:"",installed:"",pipingInstalled:""}),{hasPermission:H,user:V}=wt();x.useEffect(()=>{s&&W()},[s]);const W=async()=>{if(s?.id){T(!0),k(null);try{const U=await fe.getTanksByLocationid(s?.id),N=(Array.isArray(U)?U:[]).map(R=>({id:R.id,label:R.label||"",product:R.product||"",status:R.status?R.status.charAt(0).toUpperCase()+R.status.slice(1):"Active",size:R.size||"",tankLined:R.tank_lined||"No",compartment:R.compartment||"No",manifoldedWith:R.manifolded_with||"",pipingManifoldedWith:R.piping_manifolded_with||"",trackReleaseDetection:R.track_release_detection||"No",tankMaterial:R.tank_material||"",releaseDetection:R.release_detection||"",stpSumps:R.stp_sumps||"",pipingDetection:R.piping_detection||"",pipingMaterial:R.piping_material||"",atgId:R.atg_id||"",installed:R.installed||"",pipingInstalled:R.piping_installed||"",created_at:R.created_at,updated_at:R.updated_at}));o(N)}catch(U){console.error("Failed to load tanks:",U),k(U.message||"Failed to load tanks"),o([])}finally{T(!1)}}},F=async()=>{if(!P.label.trim()){k("Tank label is required");return}if(!s?.id){k("No facility selected");return}T(!0),k(null);try{const U={location:s.id,label:P.label,product:P.product,status:P.status.toLowerCase(),size:P.size,tank_lined:P.tankLined,compartment:P.compartment,manifolded_with:P.manifoldedWith,piping_manifolded_with:P.pipingManifoldedWith,track_release_detection:P.trackReleaseDetection,tank_material:P.tankMaterial,release_detection:P.releaseDetection,stp_sumps:P.stpSumps,piping_detection:P.pipingDetection,piping_material:P.pipingMaterial,atg_id:P.atgId,installed:P.installed,piping_installed:P.pipingInstalled};await fe.createTank(U),y(!1),B(),b(`Tank "${P.label}" created successfully`),setTimeout(()=>b(null),5e3),await W()}catch(U){console.error("Failed to create tank:",U),k(U.message||"Failed to create tank")}finally{T(!1)}},J=async U=>{T(!0),k(null);try{const Q={location:s.id,label:U.label,product:U.product,status:U.status.toLowerCase(),size:U.size,tank_lined:U.tankLined,compartment:U.compartment,manifolded_with:U.manifoldedWith,piping_manifolded_with:U.pipingManifoldedWith,track_release_detection:U.trackReleaseDetection,tank_material:U.tankMaterial,release_detection:U.releaseDetection,stp_sumps:U.stpSumps,piping_detection:U.pipingDetection,piping_material:U.pipingMaterial,atg_id:U.atgId,installed:U.installed,piping_installed:U.pipingInstalled};await fe.updateTank(U.id,Q),g(null),b(`Tank "${U.label}" updated successfully`),setTimeout(()=>b(null),5e3),await W()}catch(Q){console.error("Failed to update tank:",Q),k(Q.message||"Failed to update tank")}finally{T(!1)}},re=async U=>{const Q=l.find(N=>N.id===U);if(Q&&window.confirm(`Are you sure you want to delete "${Q.label}"?`)){T(!0),k(null);try{await fe.deleteTank(U),b(`Tank "${Q.label}" deleted successfully`),setTimeout(()=>b(null),5e3),await W()}catch(N){console.error("Failed to delete tank:",N),k(N.message||"Failed to delete tank")}finally{T(!1)}}},B=()=>{_({label:"",product:"",status:"Active",size:"",tankLined:"Yes",compartment:"No",manifoldedWith:"",pipingManifoldedWith:"",trackReleaseDetection:"Yes",tankMaterial:"",releaseDetection:"",stpSumps:"",pipingDetection:"",pipingMaterial:"",atgId:"",installed:"",pipingInstalled:""}),k(null)},ee=(U,Q)=>{_(N=>({...N,[U]:Q}))},ce=l.filter(U=>{const Q=m.toLowerCase();return U.label.toLowerCase().includes(Q)||U.product.toLowerCase().includes(Q)||U.tankMaterial.toLowerCase().includes(Q)||U.manifoldedWith.toLowerCase().includes(Q)||U.pipingManifoldedWith.toLowerCase().includes(Q)||U.status.toLowerCase().includes(Q)}),je=U=>{switch(U){case"Active":return"bg-green-100 text-green-800 border-green-200";case"Inactive":return"bg-gray-100 text-gray-800 border-gray-200";case"Maintenance":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"Out of Service":return"bg-red-100 text-red-800 border-red-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},Ee=["Regular Gasoline","Premium Gasoline","Diesel","Kerosene","Heating Oil","Motor Oil","Hydraulic Fluid","Other"],te=["Fiberglass","Steel","Concrete","Polyethylene","Aluminum","Other"],ye=["HDPE","Steel","PVC","Fiberglass","Copper","Other"],we=()=>r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:ce.map(U=>r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 hover:shadow-md transition-shadow",children:[r.jsxs("div",{className:"flex items-start justify-between mb-4",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:r.jsx(ar,{className:"h-5 w-5 text-blue-600"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:U.label}),r.jsx("p",{className:"text-sm text-gray-500",children:U.product})]})]}),r.jsxs("div",{className:"flex items-center space-x-1",children:[r.jsx("button",{onClick:()=>g(U),className:"p-1 text-blue-600 hover:bg-blue-50 rounded transition-colors",title:"Edit tank",children:r.jsx(En,{className:"h-4 w-4"})}),H("delete_tanks")&&r.jsx("button",{onClick:()=>re(U.id),className:"p-1 text-red-600 hover:bg-red-50 rounded transition-colors",title:"Delete tank",children:r.jsx(Ss,{className:"h-4 w-4"})})]})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm text-gray-600",children:"Status:"}),r.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full border ${je(U.status)}`,children:U.status})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm text-gray-600",children:"Size:"}),r.jsx("span",{className:"text-sm font-medium text-gray-900",children:U.size})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm text-gray-600",children:"Material:"}),r.jsx("span",{className:"text-sm font-medium text-gray-900",children:U.tankMaterial})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm text-gray-600",children:"Lined:"}),r.jsx("span",{className:`text-sm font-medium ${U.tankLined==="Yes"?"text-green-600":"text-red-600"}`,children:U.tankLined})]}),U.manifoldedWith&&r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm text-gray-600",children:"Manifolded With:"}),r.jsx("span",{className:"text-sm font-medium text-gray-900",children:U.manifoldedWith})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm text-gray-600",children:"Release Detection:"}),r.jsx("span",{className:`text-sm font-medium ${U.trackReleaseDetection==="Yes"?"text-green-600":"text-red-600"}`,children:U.trackReleaseDetection})]})]})]},U.id))}),X=()=>r.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tank Info"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Specifications"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Detection"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:ce.map(U=>r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"px-6 py-4",children:r.jsxs("div",{children:[r.jsx("div",{className:"text-sm font-medium text-gray-900",children:U.label}),r.jsx("div",{className:"text-sm text-gray-500",children:U.product}),U.atgId&&r.jsxs("div",{className:"text-xs text-gray-400",children:["ATG: ",U.atgId]})]})}),r.jsx("td",{className:"px-6 py-4",children:r.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-medium rounded-full border ${je(U.status)}`,children:U.status})}),r.jsx("td",{className:"px-6 py-4",children:r.jsxs("div",{className:"text-sm text-gray-900",children:[r.jsxs("div",{children:["Size: ",U.size]}),r.jsxs("div",{children:["Material: ",U.tankMaterial]}),r.jsxs("div",{children:["Lined: ",U.tankLined]}),U.compartment==="Yes"&&r.jsx("div",{className:"text-blue-600",children:"Compartmentalized"})]})}),r.jsx("td",{className:"px-6 py-4",children:r.jsxs("div",{className:"text-sm text-gray-900",children:[r.jsx("div",{className:U.trackReleaseDetection==="Yes"?"text-green-600":"text-red-600",children:U.trackReleaseDetection==="Yes"?"Enabled":"Disabled"}),U.releaseDetection&&r.jsx("div",{className:"text-xs text-gray-500",children:U.releaseDetection})]})}),r.jsx("td",{className:"px-6 py-4",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("button",{onClick:()=>g(U),className:"text-blue-600 hover:text-blue-800 p-1 rounded hover:bg-blue-50",title:"Edit tank",children:r.jsx(En,{className:"h-4 w-4"})}),H("delete_tanks")&&r.jsx("button",{onClick:()=>re(U.id),className:"text-red-600 hover:text-red-800 p-1 rounded hover:bg-red-50",title:"Delete tank",children:r.jsx(Ss,{className:"h-4 w-4"})})]})})]},U.id))})]})})}),q=U=>{const Q=!!U,N=Q?U:P,R=(M,ne)=>{Q?g(pe=>pe?{...pe,[M]:ne}:null):ee(M,ne)},E=()=>{Q&&v?J(v):F()};return r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white rounded-lg w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[r.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:r.jsx(ar,{className:"h-6 w-6 text-blue-600"})}),r.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:Q?"Edit Tank":"Add New Tank"})]}),r.jsx("button",{onClick:()=>{Q?g(null):(y(!1),B())},className:"text-gray-400 hover:text-gray-600",children:r.jsx(He,{className:"h-6 w-6"})})]}),r.jsxs("div",{className:"p-6 space-y-8",children:[D&&r.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(He,{className:"h-5 w-5 text-red-600 mr-2"}),r.jsx("span",{className:"text-red-800",children:D})]})}),r.jsxs("div",{children:[r.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-4",children:"Basic Information"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tank Label *"}),r.jsx("input",{type:"text",value:N.label,onChange:M=>R("label",M.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"e.g., Tank A1",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Product"}),r.jsxs("select",{value:N.product,onChange:M=>R("product",M.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[r.jsx("option",{value:"",children:"Select Product"}),Ee.map(M=>r.jsx("option",{value:M,children:M},M))]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),r.jsxs("select",{value:N.status,onChange:M=>R("status",M.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[r.jsx("option",{value:"Active",children:"Active"}),r.jsx("option",{value:"Inactive",children:"Inactive"}),r.jsx("option",{value:"Maintenance",children:"Maintenance"}),r.jsx("option",{value:"Out of Service",children:"Out of Service"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Size"}),r.jsx("input",{type:"text",value:N.size,onChange:M=>R("size",M.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"e.g., 10,000 gallons"})]})]})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-4",children:"Tank Configuration"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tank Material"}),r.jsxs("select",{value:N.tankMaterial,onChange:M=>R("tankMaterial",M.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[r.jsx("option",{value:"",children:"Select Material"}),te.map(M=>r.jsx("option",{value:M,children:M},M))]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tank Lined"}),r.jsxs("select",{value:N.tankLined,onChange:M=>R("tankLined",M.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[r.jsx("option",{value:"Yes",children:"Yes"}),r.jsx("option",{value:"No",children:"No"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Compartment"}),r.jsxs("select",{value:N.compartment,onChange:M=>R("compartment",M.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[r.jsx("option",{value:"No",children:"No"}),r.jsx("option",{value:"Yes",children:"Yes"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Installation Date"}),r.jsx("input",{type:"date",value:N.installed,onChange:M=>R("installed",M.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-4",children:"Manifold Configuration"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Manifolded With"}),r.jsx("input",{type:"text",value:N.manifoldedWith,onChange:M=>R("manifoldedWith",M.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"e.g., Tank A2, Tank B1"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Piping Manifolded With"}),r.jsx("input",{type:"text",value:N.pipingManifoldedWith,onChange:M=>R("pipingManifoldedWith",M.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"e.g., Line A, Line B"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Piping Material"}),r.jsxs("select",{value:N.pipingMaterial,onChange:M=>R("pipingMaterial",M.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[r.jsx("option",{value:"",children:"Select Material"}),ye.map(M=>r.jsx("option",{value:M,children:M},M))]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Piping Installed Date"}),r.jsx("input",{type:"date",value:N.pipingInstalled,onChange:M=>R("pipingInstalled",M.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-4",children:"Release Detection"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Track Release Detection"}),r.jsxs("select",{value:N.trackReleaseDetection,onChange:M=>R("trackReleaseDetection",M.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[r.jsx("option",{value:"Yes",children:"Yes"}),r.jsx("option",{value:"No",children:"No"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Release Detection Method"}),r.jsx("input",{type:"text",value:N.releaseDetection,onChange:M=>R("releaseDetection",M.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"e.g., Continuous ATG, Monthly Manual"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"STP Sumps"}),r.jsx("input",{type:"text",value:N.stpSumps,onChange:M=>R("stpSumps",M.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"e.g., Installed, Not Installed"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Piping Detection"}),r.jsx("input",{type:"text",value:N.pipingDetection,onChange:M=>R("pipingDetection",M.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"e.g., Line Leak Detector, Pressure Test"})]})]})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-4",children:"ATG Information"}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"ATG ID"}),r.jsx("input",{type:"text",value:N.atgId,onChange:M=>R("atgId",M.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"e.g., ATG-001"})]})})]})]}),r.jsxs("div",{className:"flex space-x-3 p-6 border-t border-gray-200",children:[r.jsx("button",{onClick:()=>{Q?g(null):(y(!1),B())},className:"flex-1 px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50",children:"Cancel"}),r.jsx("button",{onClick:E,disabled:!N.label.trim(),className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-md text-sm font-medium hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:r.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[r.jsx(at,{className:"h-4 w-4"}),r.jsx("span",{children:Q?"Update Tank":"Create Tank"})]})})]})]})})};return s?r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(ar,{className:"h-6 w-6 text-blue-600"}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Tank Management"}),r.jsx("p",{className:"text-sm text-gray-500",children:s.name})]})]}),H("create_tanks")&&r.jsxs("button",{onClick:()=>y(!0),className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[r.jsx(cr,{className:"h-4 w-4"}),r.jsx("span",{children:"Add New Tank"})]})]}),L&&r.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(ar,{className:"h-5 w-5 text-green-600 mr-2"}),r.jsx("span",{className:"text-green-800",children:L})]})}),r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[r.jsxs("div",{className:"relative flex-1 max-w-md",children:[r.jsx(Li,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),r.jsx("input",{type:"text",placeholder:"Search tanks by label, product, material, or manifold...",value:m,onChange:U=>f(U.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("button",{onClick:()=>d("cards"),className:`p-2 rounded-lg transition-colors ${c==="cards"?"bg-blue-100 text-blue-600":"text-gray-400 hover:text-gray-600 hover:bg-gray-100"}`,title:"Card view",children:r.jsx(bg,{className:"h-4 w-4"})}),r.jsx("button",{onClick:()=>d("table"),className:`p-2 rounded-lg transition-colors ${c==="table"?"bg-blue-100 text-blue-600":"text-gray-400 hover:text-gray-600 hover:bg-gray-100"}`,title:"Table view",children:r.jsx(Ng,{className:"h-4 w-4"})})]})]}),m&&r.jsxs("div",{className:"text-sm text-gray-600",children:["Showing ",ce.length," of ",l.length," tanks",r.jsxs("span",{className:"ml-1",children:['matching "',r.jsx("span",{className:"font-medium",children:m}),'"']})]}),j&&r.jsxs("div",{className:"flex items-center justify-center p-8",children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),r.jsx("span",{className:"ml-2",children:"Loading tanks..."})]}),!j&&r.jsx(r.Fragment,{children:ce.length>0?c==="cards"?we():X():r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-8 text-center",children:[r.jsx(ar,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:m?"No tanks found":"No tanks configured"}),r.jsx("p",{className:"text-gray-600 mb-4",children:m?`No tanks match your search for "${m}"`:"This facility doesn't have any tanks configured yet."}),!m&&H("create_tanks")&&r.jsxs("button",{onClick:()=>y(!0),className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors mx-auto",children:[r.jsx(cr,{className:"h-4 w-4"}),r.jsx("span",{children:"Add First Tank"})]})]})}),(h||v)&&q(v||void 0)]}):r.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6 text-center",children:[r.jsx(ar,{className:"h-12 w-12 text-blue-400 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-blue-900 mb-2",children:"No Facility Selected"}),r.jsx("p",{className:"text-blue-700",children:"Please select a facility to view and manage tanks."})]})}function Ai({tabs:s,activeTab:l,onTabChange:o}){return r.jsx("div",{className:"border-b border-gray-200",children:r.jsx("nav",{className:"flex space-x-8",children:s.map(c=>r.jsx("button",{onClick:()=>o(c.id),className:`py-2 px-1 border-b-2 font-medium text-sm transition-colors ${l===c.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:c.label},c.id))})})}function Mg({selectedFacility:s}){const[l,o]=x.useState("monitoring"),c=[{id:"monitoring",label:"Tank Testing"},{id:"alerts",label:"Alerts & Incidents"},{id:"reports",label:"Reports"}],[d,m]=x.useState([]),[f,h]=x.useState([]),[y,v]=x.useState(!1),[g,j]=x.useState(null),T=()=>{switch(l){case"monitoring":return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6",children:[r.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:r.jsx(vt,{className:"h-6 w-6 text-green-600"})}),r.jsxs("div",{className:"ml-4",children:[r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:"0"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Systems Normal"})]})]})}),r.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"p-2 bg-yellow-100 rounded-lg",children:r.jsx(pt,{className:"h-6 w-6 text-yellow-600"})}),r.jsxs("div",{className:"ml-4",children:[r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:"0"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Active Alerts"})]})]})}),r.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:r.jsx(Yr,{className:"h-6 w-6 text-blue-600"})}),r.jsxs("div",{className:"ml-4",children:[r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:"0"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Tests Due"})]})]})})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[r.jsx("div",{className:"p-6 border-b border-gray-200",children:r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Detection Systems Status"})}),r.jsx("div",{className:"p-6",children:r.jsxs("div",{className:"text-center py-8",children:[r.jsx(or,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-500",children:"No detection systems configured yet."}),r.jsx("p",{className:"text-sm text-gray-400 mt-2",children:"Detection systems will appear here when tanks are added to this facility."})]})})]})]});case"alerts":return r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[r.jsx("div",{className:"p-6 border-b border-gray-200",children:r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Recent Incidents & Alerts"})}),r.jsx("div",{className:"p-6",children:r.jsxs("div",{className:"text-center py-8",children:[r.jsx(pt,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-500",children:"No incidents or alerts to display."}),r.jsx("p",{className:"text-sm text-gray-400 mt-2",children:"Alerts and incidents will appear here when detected by the monitoring systems."})]})})]});case"reports":return r.jsx("div",{className:"space-y-6",children:r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Available Reports"}),r.jsxs("div",{className:"text-center py-8",children:[r.jsx(qt,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-500",children:"No reports available yet."}),r.jsx("p",{className:"text-sm text-gray-400 mt-2",children:"Reports will be generated based on detection system data and incidents."})]})]})});default:return null}};return r.jsxs("div",{className:"space-y-6",children:[r.jsx("div",{className:"flex items-center justify-between",children:r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:s?`${s.name} - Tank Testing`:"Tank Testing"}),s&&r.jsx("p",{className:"text-sm text-gray-500 mt-1",children:s.address})]})}),!s&&r.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6 text-center",children:[r.jsx(or,{className:"h-12 w-12 text-blue-400 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-blue-900 mb-2",children:"No Facility Selected"}),r.jsx("p",{className:"text-blue-700",children:"Please select a facility from the search bar above to view tank testing systems."})]}),r.jsx(Ai,{tabs:c,activeTab:l,onTabChange:o}),s&&T()]})}function Ag({selectedFacility:s}){const[l,o]=x.useState("all"),[c,d]=x.useState(null),[m,f]=x.useState({}),[h,y]=x.useState(!1),[v,g]=x.useState(!1),[j,T]=x.useState(null),[D,k]=x.useState({permit_type:"operating",permit_number:"",issuing_authority:"",issue_date:"",expiry_date:"",description:"",renewal_required:!0}),[L,b]=x.useState({}),[P,_]=x.useState(null),[H,V]=x.useState([]),[W,F]=x.useState(!1),[J,re]=x.useState(null),[B,ee]=x.useState(null);x.useEffect(()=>{s&&ce()},[s]);const ce=async()=>{if(s?.id){F(!0),re(null);try{const I=await fe.getPermits(s.id);console.log(" Loaded permits:",I),V(I)}catch(I){console.error("Failed to load permits:",I),re(I.message||"Failed to load permits"),V([])}finally{F(!1)}}},je=I=>{d(I.id),f(I)},Ee=async()=>{if(!(!c||!m)){F(!0),re(null);try{await fe.updatePermit(c,{location:s.id,permit_type:m.permit_type,permit_number:m.permit_number,issuing_authority:m.issuing_authority,issue_date:m.issue_date,expiry_date:m.expiry_date,description:m.description||"",renewal_required:m.renewal_required!==!1}),d(null),f({}),ee("Permit updated successfully"),setTimeout(()=>ee(null),5e3),await ce()}catch(I){console.error("Failed to update permit:",I),re(I.message||"Failed to update permit")}finally{F(!1)}}},te=async()=>{if(!D.permit_number.trim()){re("Permit number is required");return}if(!s?.id){re("No facility selected");return}F(!0),re(null);try{const I={location:s.id,permit_type:D.permit_type,permit_number:D.permit_number,issuing_authority:D.issuing_authority,issue_date:D.issue_date,expiry_date:D.expiry_date,description:D.description,renewal_required:D.renewal_required};console.log(" Creating permit:",I),await fe.createPermit(s.id,I),y(!1),k({permit_type:"operating",permit_number:"",issuing_authority:"",issue_date:"",expiry_date:"",description:"",renewal_required:!0}),ee(`Permit "${D.permit_number}" created successfully`),setTimeout(()=>ee(null),5e3),await ce()}catch(I){console.error("Failed to create permit:",I),re(I.message||"Failed to create permit")}finally{F(!1)}},ye=async(I,xe)=>{if(window.confirm(`Are you sure you want to delete permit "${xe}"?`)){F(!0),re(null);try{await fe.deletePermit(I),ee(`Permit "${xe}" deleted successfully`),setTimeout(()=>ee(null),5e3),await ce()}catch(_e){console.error("Failed to delete permit:",_e),re(_e.message||"Failed to delete permit")}finally{F(!1)}}},we=I=>{const xe=I.target.files;if(xe&&j){const _e=Array.from(xe).map(Re=>Re.name);b(Re=>({...Re,[j]:[...Re[j]||[],..._e]})),g(!1),T(null)}},X=async(I,xe)=>{_(I);try{await new Promise(Mn=>setTimeout(Mn,1e3));const _e=L[I];if(!_e||_e.length===0){alert("No documents available for download. Please upload permit documents first.");return}const Re=_e[0],Gt=Re.split(".").pop()?.toLowerCase()||"pdf";let bt="application/pdf",Gr=`Mock ${xe} permit document content`;switch(Gt){case"pdf":bt="application/pdf";break;case"png":case"jpg":case"jpeg":bt=`image/${Gt}`;break;case"doc":case"docx":bt="application/vnd.openxmlformats-officedocument.wordprocessingml.document";break;default:bt="application/octet-stream"}const Ls=new Blob([Gr],{type:bt}),Jr=window.URL.createObjectURL(Ls),ur=document.createElement("a");ur.href=Jr,ur.download=Re,document.body.appendChild(ur),ur.click(),document.body.removeChild(ur),window.URL.revokeObjectURL(Jr)}catch(_e){console.error("Download failed:",_e),alert("Download failed. Please try again or contact support if the problem persists.")}finally{_(null)}},q=I=>{T(I),g(!0)},U=()=>{window.open("https://google.com","_blank")},Q=()=>{d(null),f({})},N=(I,xe)=>{f(_e=>({..._e,[I]:xe}))},R=I=>{switch(I){case"active":return"bg-green-100 text-green-800 border border-green-200";case"expiring_soon":return"bg-yellow-100 text-yellow-800 border border-yellow-200";case"expired":return"bg-red-100 text-red-800 border border-red-200";case"pending":return"bg-blue-100 text-blue-800 border border-blue-200";default:return"bg-gray-100 text-gray-800 border border-gray-200"}},E=I=>{switch(I){case"active":return r.jsx(vt,{className:"h-4 w-4"});case"expiring_soon":return r.jsx(Yr,{className:"h-4 w-4"});case"expired":return r.jsx(pt,{className:"h-4 w-4"});case"pending":return r.jsx(Yr,{className:"h-4 w-4"});default:return r.jsx(qt,{className:"h-4 w-4"})}},M=I=>{switch(I){case"active":return"Active";case"expiring_soon":return"Expiring Soon";case"expired":return"Expired";case"pending":return"Pending";default:return"Unknown"}},ne=I=>{const xe=new Date(I),_e=new Date,Re=xe.getTime()-_e.getTime();return Math.ceil(Re/(1e3*60*60*24))},pe=H,Ce=pe.filter(I=>l==="all"?!0:l==="active"?I.calculated_status==="active":l==="expiring"?I.calculated_status==="expiring_soon":l==="expired"?I.calculated_status==="expired":!0),be=[{title:"Total Permits",value:pe.length.toString(),icon:qt,color:"blue"},{title:"Active Permits",value:pe.filter(I=>I.calculated_status==="active").length.toString(),icon:vt,color:"green"},{title:"Expiring Soon",value:pe.filter(I=>I.calculated_status==="expiring_soon").length.toString(),icon:Yr,color:"yellow"},{title:"Expired",value:pe.filter(I=>I.calculated_status==="expired").length.toString(),icon:pt,color:"red"}];return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:s?`${s.name} - Permits & Licenses`:"Permits & Licenses"}),s&&r.jsx("p",{className:"text-sm text-gray-500 mt-1",children:s.address})]}),r.jsx("div",{className:"flex space-x-3",children:s&&r.jsxs("button",{onClick:()=>y(!0),className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:[r.jsx(cr,{className:"h-4 w-4"}),r.jsx("span",{children:"Add Permit"})]})})]}),B&&r.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(vt,{className:"h-5 w-5 text-green-600 mr-2"}),r.jsx("span",{className:"text-green-800",children:B})]})}),J&&r.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(pt,{className:"h-5 w-5 text-red-600 mr-2"}),r.jsx("span",{className:"text-red-800",children:J})]})}),!s&&r.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6 text-center",children:[r.jsx(qt,{className:"h-12 w-12 text-blue-400 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-blue-900 mb-2",children:"No Facility Selected"}),r.jsx("p",{className:"text-blue-700",children:"Please select a facility from the search bar above to view permits and licenses."})]}),s&&r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:be.map((I,xe)=>{const _e=I.icon,Re={blue:"bg-blue-100 text-blue-600",green:"bg-green-100 text-green-600",yellow:"bg-yellow-100 text-yellow-600",red:"bg-red-100 text-red-600"},bt={"Total Permits":"all","Active Permits":"active","Expiring Soon":"expiring",Expired:"expired"}[I.title]||"all",Gr=l===bt;return r.jsx("button",{onClick:()=>o(bt),className:`bg-white rounded-lg p-6 shadow-sm border-2 transition-all text-left hover:shadow-md ${Gr?"border-blue-500 ring-2 ring-blue-200":"border-gray-200 hover:border-gray-300"}`,children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:I.title}),r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:I.value})]}),r.jsx("div",{className:`p-3 rounded-lg ${Re[I.color]}`,children:r.jsx(_e,{className:"h-6 w-6"})})]})},xe)})}),s&&r.jsx("div",{className:"border-b border-gray-200",children:r.jsx("nav",{className:"flex space-x-8",children:[{id:"all",label:"All Permits"},{id:"active",label:"Active"},{id:"expiring",label:"Expiring Soon"},{id:"expired",label:"Expired"}].map(I=>r.jsx("button",{onClick:()=>o(I.id),className:`py-2 px-1 border-b-2 font-medium text-sm transition-colors ${l===I.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:I.label},I.id))})}),s&&r.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:r.jsx("div",{className:"p-6",children:r.jsxs("div",{className:"space-y-4",children:[W&&r.jsxs("div",{className:"text-center py-8",children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),r.jsx("p",{className:"text-gray-500 mt-2",children:"Loading permits..."})]}),!W&&Ce.length===0&&r.jsxs("div",{className:"text-center py-8",children:[r.jsx(qt,{className:"h-12 w-12 text-gray-400 mx-auto mb-2"}),r.jsx("p",{className:"text-gray-500",children:"No permits found"})]}),!W&&Ce.map(I=>{const xe=ne(I.expiry_date),_e=c===I.id;return r.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow",children:[r.jsxs("div",{className:"flex items-start justify-between mb-3",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:r.jsx(qt,{className:"h-5 w-5 text-blue-600"})}),r.jsxs("div",{children:[_e?r.jsxs("select",{value:m.permit_type||I.permit_type,onChange:Re=>N("permit_type",Re.target.value),className:"font-semibold text-gray-900 border border-gray-300 rounded px-2 py-1 capitalize",children:[r.jsx("option",{value:"operating",children:"Operating Permit"}),r.jsx("option",{value:"environmental",children:"Environmental Permit"}),r.jsx("option",{value:"safety",children:"Safety Permit"}),r.jsx("option",{value:"construction",children:"Construction Permit"})]}):r.jsx("h3",{className:"font-semibold text-gray-900 capitalize",children:I.permit_type?.replace("_"," ")||"Unknown Type"}),r.jsx("p",{className:"text-sm text-gray-500",children:I.location_name||s?.name})]})]}),r.jsxs("span",{className:`flex items-center space-x-1 px-3 py-1.5 rounded-full text-xs font-semibold ${R(I.calculated_status)}`,children:[E(I.calculated_status),r.jsx("span",{children:M(I.calculated_status)})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 text-sm mb-4",children:[r.jsxs("div",{children:[r.jsx("span",{className:"font-medium text-gray-700",children:"Permit Number:"}),_e?r.jsx("input",{type:"text",value:m.permit_number||I.permit_number,onChange:Re=>N("permit_number",Re.target.value),className:"text-gray-900 mt-0.5 w-full px-2 py-1 border border-gray-300 rounded",placeholder:"e.g., OP-2024-001"}):r.jsx("p",{className:"text-gray-900 mt-0.5",children:I.permit_number||"N/A"})]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium text-gray-700",children:"Issue Date:"}),_e?r.jsx("input",{type:"date",value:m.issue_date||I.issue_date,onChange:Re=>N("issue_date",Re.target.value),className:"text-gray-900 mt-0.5 w-full px-2 py-1 border border-gray-300 rounded"}):r.jsx("p",{className:"text-gray-900 mt-0.5",children:I.issue_date?new Date(I.issue_date).toLocaleDateString():"N/A"})]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium text-gray-700",children:"Expiry Date:"}),r.jsx("div",{className:"mt-0.5",children:_e?r.jsx("input",{type:"date",value:m.expiry_date||I.expiry_date,onChange:Re=>N("expiry_date",Re.target.value),className:"text-gray-900 w-full px-2 py-1 border border-gray-300 rounded"}):r.jsxs(r.Fragment,{children:[r.jsx("p",{className:"text-gray-900",children:I.expiry_date?new Date(I.expiry_date).toLocaleDateString():"N/A"}),xe>0&&xe<=30&&r.jsxs("p",{className:"text-yellow-600 font-medium text-xs mt-1",children:[" ",xe," days remaining"]}),xe<=0&&r.jsxs("p",{className:"text-red-600 font-medium text-xs mt-1",children:[" Expired ",Math.abs(xe)," days ago"]})]})})]}),r.jsxs("div",{children:[r.jsx("span",{className:"font-medium text-gray-700",children:"Authority:"}),_e?r.jsx("input",{type:"text",value:m.issuing_authority||I.issuing_authority,onChange:Re=>N("issuing_authority",Re.target.value),className:"text-gray-900 mt-0.5 w-full px-2 py-1 border border-gray-300 rounded",placeholder:"e.g., State Environmental Agency"}):r.jsx("p",{className:"text-gray-900 mt-0.5",children:I.issuing_authority||"N/A"})]})]}),(I.description||_e)&&r.jsxs("div",{className:"text-sm mb-4",children:[r.jsx("span",{className:"font-medium text-gray-700",children:"Description:"}),_e?r.jsx("textarea",{value:m.description!==void 0?m.description:I.description||"",onChange:Re=>N("description",Re.target.value),className:"text-gray-600 mt-0.5 w-full px-2 py-1 border border-gray-300 rounded",placeholder:"Additional notes or details",rows:2}):r.jsx("p",{className:"text-gray-600 mt-0.5",children:I.description})]}),r.jsx("div",{className:"flex space-x-2",children:c===I.id?r.jsxs(r.Fragment,{children:[r.jsxs("button",{onClick:Ee,className:"flex items-center space-x-1 px-3 py-1 bg-green-600 text-white rounded text-sm hover:bg-green-700",children:[r.jsx(at,{className:"h-4 w-4"}),r.jsx("span",{children:"Save"})]}),r.jsxs("button",{onClick:Q,className:"flex items-center space-x-1 px-3 py-1 border border-gray-300 rounded text-sm hover:bg-gray-50",children:[r.jsx(He,{className:"h-4 w-4"}),r.jsx("span",{children:"Cancel"})]})]}):r.jsxs(r.Fragment,{children:[r.jsxs("button",{onClick:()=>{L[I.id]&&L[I.id].length>0?alert(`Opening: ${L[I.id][0]}

In production, this would open the actual file.`):alert("No files uploaded for this permit. Please upload a file first.")},className:"flex items-center space-x-1 px-3 py-1 border border-gray-300 rounded text-sm hover:bg-gray-50",children:[r.jsx(Ot,{className:"h-4 w-4"}),r.jsx("span",{children:"View"})]}),r.jsxs("button",{onClick:()=>je(I),className:"flex items-center space-x-1 px-3 py-1 border border-gray-300 rounded text-sm hover:bg-gray-50",children:[r.jsx(En,{className:"h-4 w-4"}),r.jsx("span",{children:"Edit"})]}),r.jsxs("button",{onClick:()=>X(I.id,I.permit_number),disabled:P===I.id,className:"flex items-center space-x-1 px-3 py-1 border border-gray-300 rounded text-sm hover:bg-gray-50 disabled:opacity-50",children:[r.jsx(Qm,{className:`h-4 w-4 ${P===I.id?"animate-spin":""}`}),r.jsx("span",{children:P===I.id?"Downloading...":"Download"})]}),r.jsxs("button",{onClick:()=>q(I.id),className:"flex items-center space-x-1 px-3 py-1 border border-gray-300 rounded text-sm hover:bg-gray-50",children:[r.jsx(sm,{className:"h-4 w-4"}),r.jsx("span",{children:"Upload"})]}),I.calculated_status==="expiring_soon"&&r.jsxs("button",{onClick:U,className:"flex items-center space-x-1 px-3 py-1 bg-yellow-600 text-white rounded text-sm hover:bg-yellow-700",children:[r.jsx(Ri,{className:"h-4 w-4"}),r.jsx("span",{children:"Renew"})]}),r.jsxs("button",{onClick:()=>ye(I.id,I.permit_number),disabled:W,className:"flex items-center space-x-1 px-3 py-1 text-red-600 hover:bg-red-50 rounded text-sm disabled:opacity-50",children:[r.jsx(He,{className:"h-4 w-4"}),r.jsx("span",{children:"Delete"})]}),L[I.id]&&L[I.id].length>0&&r.jsxs("div",{className:"flex items-center space-x-1 text-xs text-gray-500",children:[r.jsx(nm,{className:"h-3 w-3"}),r.jsxs("span",{children:[L[I.id].length," file(s)"]})]})]})})]},I.id)})]})})}),s&&pe.length===0&&r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-8 text-center",children:[r.jsx(qt,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Permits Found"}),r.jsx("p",{className:"text-gray-600 mb-4",children:"This facility doesn't have any permits or licenses on file."}),r.jsxs("button",{onClick:()=>y(!0),className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 mx-auto",children:[r.jsx(cr,{className:"h-4 w-4"}),r.jsx("span",{children:"Add First Permit"})]})]}),h&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md mx-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Add New Permit"}),r.jsx("button",{onClick:()=>y(!1),className:"text-gray-400 hover:text-gray-600",children:r.jsx(He,{className:"h-5 w-5"})})]}),r.jsxs("form",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Permit Type *"}),r.jsxs("select",{value:D.permit_type,onChange:I=>k(xe=>({...xe,permit_type:I.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,children:[r.jsx("option",{value:"operating",children:"Operating Permit"}),r.jsx("option",{value:"environmental",children:"Environmental Permit"}),r.jsx("option",{value:"safety",children:"Safety Permit"}),r.jsx("option",{value:"construction",children:"Construction Permit"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Permit Number *"}),r.jsx("input",{type:"text",value:D.permit_number,onChange:I=>k(xe=>({...xe,permit_number:I.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"e.g., OP-2024-001",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Issuing Authority"}),r.jsx("input",{type:"text",value:D.issuing_authority,onChange:I=>k(xe=>({...xe,issuing_authority:I.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"e.g., State Environmental Agency"})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Issue Date"}),r.jsx("input",{type:"date",value:D.issue_date,onChange:I=>k(xe=>({...xe,issue_date:I.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Expiry Date"}),r.jsx("input",{type:"date",value:D.expiry_date,onChange:I=>k(xe=>({...xe,expiry_date:I.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),r.jsx("textarea",{value:D.description,onChange:I=>k(xe=>({...xe,description:I.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Additional notes or details",rows:3})]})]}),r.jsxs("div",{className:"flex space-x-3 mt-6",children:[r.jsx("button",{onClick:()=>y(!1),className:"flex-1 px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50",children:"Cancel"}),r.jsx("button",{onClick:te,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-md text-sm font-medium hover:bg-blue-700",children:"Add Permit"})]})]})}),v&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md mx-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Upload Files"}),r.jsx("button",{onClick:()=>{g(!1),T(null)},className:"text-gray-400 hover:text-gray-600",children:r.jsx(He,{className:"h-5 w-5"})})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Upload supporting documents for this permit. Supported formats: PDF, DOC, DOCX, JPG, PNG (Max 10MB per file)"}),r.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center",children:[r.jsx(sm,{className:"h-8 w-8 text-gray-400 mx-auto mb-2"}),r.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Drag and drop files here, or click to browse"}),r.jsx("input",{type:"file",multiple:!0,accept:".pdf,.doc,.docx,.jpg,.jpeg,.png",onChange:we,className:"hidden",id:"file-upload"}),r.jsx("label",{htmlFor:"file-upload",className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 cursor-pointer",children:"Choose Files"})]}),j&&L[j]&&r.jsxs("div",{className:"space-y-2",children:[r.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Previously uploaded files:"}),L[j].map((I,xe)=>r.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[r.jsx(nm,{className:"h-4 w-4"}),r.jsx("span",{children:I})]},xe))]})]}),r.jsx("div",{className:"flex space-x-3 mt-6",children:r.jsx("button",{onClick:()=>{g(!1),T(null)},className:"flex-1 px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50",children:"Cancel"})})]})})]})}function Dg({isOpen:s,onClose:l,onSuccess:o}){const[c,d]=x.useState("setup"),[m,f]=x.useState(""),[h,y]=x.useState(""),[v,g]=x.useState([]),[j,T]=x.useState(""),[D,k]=x.useState(!1),[L,b]=x.useState(""),[P,_]=x.useState(!1);x.useEffect(()=>{s&&c==="setup"&&H()},[s]);const H=async()=>{try{k(!0);const re=await fe.setup2FA();f(re.qr_code),y(re.secret),g(re.backup_codes)}catch{b("Failed to setup 2FA")}finally{k(!1)}},V=async()=>{try{k(!0),await fe.enable2FA(j),d("complete")}catch{b("Invalid verification code")}finally{k(!1)}},W=()=>{navigator.clipboard.writeText(h),_(!0),setTimeout(()=>_(!1),2e3)},F=()=>{const re=`Facility Management System - Backup Codes

Generated: ${new Date().toLocaleString()}

${v.join(`
`)}

Keep these codes safe and secure. Each code can only be used once.`,B=new Blob([re],{type:"text/plain"}),ee=URL.createObjectURL(B),ce=document.createElement("a");ce.href=ee,ce.download="facility-management-backup-codes.txt",ce.click(),URL.revokeObjectURL(ee)},J=()=>{o(),l(),d("setup"),T(""),b("")};return s?r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:r.jsx("div",{className:"bg-white rounded-lg w-full max-w-md",children:r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:r.jsx(or,{className:"h-5 w-5 text-blue-600"})}),r.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Two-Factor Authentication"})]}),r.jsx("button",{onClick:l,className:"text-gray-400 hover:text-gray-600",children:r.jsx(He,{className:"h-5 w-5"})})]}),c==="setup"&&r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"text-center",children:[r.jsx(Xm,{className:"h-12 w-12 text-blue-600 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Setup Authenticator App"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Scan the QR code with your authenticator app (Google Authenticator, Authy, etc.)"})]}),D?r.jsx("div",{className:"flex justify-center",children:r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"text-center",children:r.jsx("img",{src:m,alt:"QR Code",className:"mx-auto border border-gray-200 rounded-lg"})}),r.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[r.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Manual entry key:"}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("code",{className:"flex-1 text-sm bg-white p-2 rounded border font-mono",children:h}),r.jsx("button",{onClick:W,className:"p-2 text-gray-600 hover:text-gray-800",children:P?r.jsx(rl,{className:"h-4 w-4 text-green-600"}):r.jsx(gg,{className:"h-4 w-4"})})]})]}),r.jsx("button",{onClick:()=>d("verify"),className:"w-full px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Continue to Verification"})]})]}),c==="verify"&&r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"text-center",children:[r.jsx(Gm,{className:"h-12 w-12 text-blue-600 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Verify Setup"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Enter the 6-digit code from your authenticator app"})]}),r.jsx("div",{children:r.jsx("input",{type:"text",value:j,onChange:re=>T(re.target.value.replace(/\D/g,"").slice(0,6)),className:"w-full px-4 py-3 text-center text-2xl font-mono border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"000000",maxLength:6})}),L&&r.jsx("div",{className:"text-red-600 text-sm text-center bg-red-50 py-2 px-3 rounded-md",children:L}),r.jsxs("div",{className:"flex space-x-3",children:[r.jsx("button",{onClick:()=>d("setup"),className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Back"}),r.jsx("button",{onClick:V,disabled:j.length!==6||D,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50",children:D?"Verifying...":"Verify & Enable"})]})]}),c==="complete"&&r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"p-3 bg-green-100 rounded-full w-16 h-16 mx-auto mb-4 flex items-center justify-center",children:r.jsx(rl,{className:"h-8 w-8 text-green-600"})}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"2FA Enabled Successfully!"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Your account is now protected with two-factor authentication"})]}),r.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:r.jsxs("div",{className:"flex items-start space-x-3",children:[r.jsx(pt,{className:"h-5 w-5 text-yellow-600 mt-0.5"}),r.jsxs("div",{children:[r.jsx("h4",{className:"text-sm font-medium text-yellow-800 mb-2",children:"Save Your Backup Codes"}),r.jsx("p",{className:"text-sm text-yellow-700 mb-3",children:"Store these backup codes in a safe place. You can use them to access your account if you lose your authenticator device."}),r.jsx("div",{className:"bg-white p-3 rounded border",children:r.jsx("div",{className:"grid grid-cols-2 gap-2 text-sm font-mono",children:v.map((re,B)=>r.jsx("div",{className:"text-center",children:re},B))})}),r.jsxs("button",{onClick:F,className:"flex items-center space-x-2 mt-3 text-sm text-yellow-700 hover:text-yellow-800",children:[r.jsx(Qm,{className:"h-4 w-4"}),r.jsx("span",{children:"Download Backup Codes"})]})]})]})}),r.jsx("button",{onClick:J,className:"w-full px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700",children:"Complete Setup"})]})]})})}):null}function Og(){const[s,l]=x.useState(!1),[o,c]=x.useState(!1),[d,m]=x.useState(!1),[f,h]=x.useState(!1),[y,v]=x.useState(!1),[g,j]=x.useState(!1),[T,D]=x.useState(""),[k,L]=x.useState(""),[b,P]=x.useState({current_password:"",new_password:"",confirm_password:""}),{user:_,refreshUser:H}=wt(),V=async()=>{try{if(j(!0),D(""),b.new_password!==b.confirm_password){D("New passwords do not match");return}await fe.changePassword(b),L("Password changed successfully"),l(!1),P({current_password:"",new_password:"",confirm_password:""})}catch(ee){D(ee instanceof Error?ee.message:"Failed to change password")}finally{j(!1)}},W=async()=>{if(window.confirm("Are you sure you want to disable two-factor authentication? This will make your account less secure."))try{await fe.disable2FA(),await H(),L("Two-factor authentication disabled")}catch{D("Failed to disable 2FA")}},F=async()=>{await H(),L("Two-factor authentication enabled successfully")},J=(ee,ce)=>{P(je=>({...je,[ee]:ce}))},B=(ee=>{let ce=0;const je={length:ee.length>=12,uppercase:/[A-Z]/.test(ee),lowercase:/[a-z]/.test(ee),numbers:/\d/.test(ee),symbols:/[!@#$%^&*(),.?":{}|<>]/.test(ee)};return ce=Object.values(je).filter(Boolean).length,ce<3?{strength:"Weak",color:"text-red-600",bg:"bg-red-100"}:ce<4?{strength:"Fair",color:"text-yellow-600",bg:"bg-yellow-100"}:ce<5?{strength:"Good",color:"text-blue-600",bg:"bg-blue-100"}:{strength:"Strong",color:"text-green-600",bg:"bg-green-100"}})(b.new_password);return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(or,{className:"h-6 w-6 text-blue-600"}),r.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Security Settings"})]}),k&&r.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(vt,{className:"h-5 w-5 text-green-600 mr-2"}),r.jsx("span",{className:"text-green-800",children:k})]})}),T&&r.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(pt,{className:"h-5 w-5 text-red-600 mr-2"}),r.jsx("span",{className:"text-red-800",children:T})]})}),r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(kn,{className:"h-5 w-5 text-gray-600"}),r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Password Security"})]}),!s&&r.jsx("button",{onClick:()=>l(!0),className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Change Password"})]}),s?r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Current Password"}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:d?"text":"password",value:b.current_password,onChange:ee=>J("current_password",ee.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 pr-10"}),r.jsx("button",{type:"button",onClick:()=>m(!d),className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:d?r.jsx(Kt,{className:"h-4 w-4 text-gray-400"}):r.jsx(Ot,{className:"h-4 w-4 text-gray-400"})})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"New Password"}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:f?"text":"password",value:b.new_password,onChange:ee=>J("new_password",ee.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 pr-10"}),r.jsx("button",{type:"button",onClick:()=>h(!f),className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:f?r.jsx(Kt,{className:"h-4 w-4 text-gray-400"}):r.jsx(Ot,{className:"h-4 w-4 text-gray-400"})})]}),b.new_password&&r.jsxs("div",{className:"mt-2",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("span",{className:"text-sm text-gray-600",children:"Strength:"}),r.jsx("span",{className:`text-sm font-medium px-2 py-1 rounded ${B.bg} ${B.color}`,children:B.strength})]}),r.jsxs("div",{className:"mt-2 text-xs text-gray-500",children:[r.jsx("p",{children:"Password must contain:"}),r.jsxs("ul",{className:"list-disc list-inside mt-1 space-y-1",children:[r.jsx("li",{className:b.new_password.length>=12?"text-green-600":"text-red-600",children:"At least 12 characters"}),r.jsx("li",{className:/[A-Z]/.test(b.new_password)?"text-green-600":"text-red-600",children:"Uppercase letter"}),r.jsx("li",{className:/[a-z]/.test(b.new_password)?"text-green-600":"text-red-600",children:"Lowercase letter"}),r.jsx("li",{className:/\d/.test(b.new_password)?"text-green-600":"text-red-600",children:"Number"}),r.jsx("li",{className:/[!@#$%^&*(),.?":{}|<>]/.test(b.new_password)?"text-green-600":"text-red-600",children:"Special character"})]})]})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirm New Password"}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:y?"text":"password",value:b.confirm_password,onChange:ee=>J("confirm_password",ee.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 pr-10"}),r.jsx("button",{type:"button",onClick:()=>v(!y),className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:y?r.jsx(Kt,{className:"h-4 w-4 text-gray-400"}):r.jsx(Ot,{className:"h-4 w-4 text-gray-400"})})]})]}),r.jsxs("div",{className:"flex space-x-3",children:[r.jsx("button",{onClick:()=>{l(!1),P({current_password:"",new_password:"",confirm_password:""}),D("")},className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Cancel"}),r.jsx("button",{onClick:V,disabled:g||B.strength==="Weak",className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50",children:g?"Updating...":"Update Password"})]})]}):r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm text-gray-600",children:"Password"}),r.jsx("span",{className:"text-sm text-gray-400",children:""})]}),r.jsxs("div",{className:"text-xs text-gray-500",children:[r.jsx("p",{children:"Password requirements:"}),r.jsxs("ul",{className:"list-disc list-inside mt-1 space-y-1",children:[r.jsx("li",{children:"Minimum 12 characters"}),r.jsx("li",{children:"Uppercase and lowercase letters"}),r.jsx("li",{children:"Numbers and special characters"}),r.jsx("li",{children:"No personal information"})]})]})]})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(Xm,{className:"h-5 w-5 text-gray-600"}),r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Two-Factor Authentication"})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("span",{className:`text-sm font-medium ${_?.two_factor_enabled?"text-green-600":"text-red-600"}`,children:_?.two_factor_enabled?"Enabled":"Disabled"}),_?.two_factor_enabled?r.jsx("button",{onClick:W,className:"px-4 py-2 border border-red-300 text-red-600 rounded-lg hover:bg-red-50",children:"Disable 2FA"}):r.jsx("button",{onClick:()=>c(!0),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Enable 2FA"})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Two-factor authentication adds an extra layer of security to your account by requiring a code from your mobile device in addition to your password."}),_?.role==="admin"&&r.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(pt,{className:"h-4 w-4 text-yellow-600"}),r.jsx("span",{className:"text-sm font-medium text-yellow-800",children:"Two-factor authentication is strongly recommended for administrator accounts"})]})}),_?.two_factor_enabled&&r.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(vt,{className:"h-4 w-4 text-green-600"}),r.jsx("span",{className:"text-sm font-medium text-green-800",children:"Your account is protected with two-factor authentication"})]})})]})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[r.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[r.jsx(Gm,{className:"h-5 w-5 text-gray-600"}),r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Account Security Status"})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm text-gray-600",children:"Account Status"}),r.jsx("span",{className:`text-sm font-medium ${_?.is_account_locked?"text-red-600":"text-green-600"}`,children:_?.is_account_locked?"Locked":"Active"})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm text-gray-600",children:"Two-Factor Authentication"}),r.jsx("span",{className:`text-sm font-medium ${_?.two_factor_enabled?"text-green-600":"text-red-600"}`,children:_?.two_factor_enabled?"Enabled":"Disabled"})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm text-gray-600",children:"Last Login"}),r.jsx("span",{className:"text-sm text-gray-600",children:_?.last_login?new Date(_.last_login).toLocaleString():"Never"})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm text-gray-600",children:"Failed Login Attempts"}),r.jsx("span",{className:`text-sm font-medium ${_?.failed_login_attempts>0?"text-yellow-600":"text-green-600"}`,children:_?.failed_login_attempts||0})]})]})]}),r.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-blue-900 mb-4",children:"Security Best Practices"}),r.jsxs("ul",{className:"space-y-2 text-sm text-blue-800",children:[r.jsxs("li",{className:"flex items-center space-x-2",children:[r.jsx(vt,{className:"h-4 w-4 text-blue-600"}),r.jsx("span",{children:"Use a unique, strong password for this account"})]}),r.jsxs("li",{className:"flex items-center space-x-2",children:[r.jsx(vt,{className:"h-4 w-4 text-blue-600"}),r.jsx("span",{children:"Enable two-factor authentication for enhanced security"})]}),r.jsxs("li",{className:"flex items-center space-x-2",children:[r.jsx(vt,{className:"h-4 w-4 text-blue-600"}),r.jsx("span",{children:"Log out when using shared or public computers"})]}),r.jsxs("li",{className:"flex items-center space-x-2",children:[r.jsx(vt,{className:"h-4 w-4 text-blue-600"}),r.jsx("span",{children:"Keep your backup codes in a secure location"})]})]})]}),r.jsx(Dg,{isOpen:o,onClose:()=>c(!1),onSuccess:F})]})}function Fg(){const[s,l]=x.useState("profile"),[o,c]=x.useState(!1),d=[{id:"profile",label:"Profile Settings"},{id:"security",label:"Security"},{id:"notifications",label:"Notifications"},{id:"system",label:"System Settings"}],m=()=>{switch(s){case"profile":return r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Profile Information"}),r.jsxs("form",{className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"First Name"}),r.jsx("input",{type:"text",defaultValue:"",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Last Name"}),r.jsx("input",{type:"text",defaultValue:"",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),r.jsx("input",{type:"email",defaultValue:"",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Organization"}),r.jsx("input",{type:"text",defaultValue:"",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number"}),r.jsx("input",{type:"tel",defaultValue:"",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),r.jsx("div",{className:"flex justify-end",children:r.jsxs("button",{type:"submit",className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:[r.jsx(at,{className:"h-4 w-4"}),r.jsx("span",{children:"Save Changes"})]})})]})]});case"security":return r.jsx(Og,{});case"notifications":return r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Notification Preferences"}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"border-b border-gray-200 pb-4",children:[r.jsx("h4",{className:"text-md font-medium text-gray-900 mb-3",children:"Email Notifications"}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("label",{className:"flex items-center",children:[r.jsx("input",{type:"checkbox",defaultChecked:!0,className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),r.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"System alerts and warnings"})]}),r.jsxs("label",{className:"flex items-center",children:[r.jsx("input",{type:"checkbox",defaultChecked:!0,className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),r.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Permit expiration reminders"})]}),r.jsxs("label",{className:"flex items-center",children:[r.jsx("input",{type:"checkbox",className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),r.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Weekly reports"})]})]})]}),r.jsxs("div",{className:"border-b border-gray-200 pb-4",children:[r.jsx("h4",{className:"text-md font-medium text-gray-900 mb-3",children:"SMS Notifications"}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("label",{className:"flex items-center",children:[r.jsx("input",{type:"checkbox",defaultChecked:!0,className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),r.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Critical alerts only"})]}),r.jsxs("label",{className:"flex items-center",children:[r.jsx("input",{type:"checkbox",className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),r.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"All system notifications"})]})]})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"text-md font-medium text-gray-900 mb-3",children:"In-App Notifications"}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("label",{className:"flex items-center",children:[r.jsx("input",{type:"checkbox",defaultChecked:!0,className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),r.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Real-time alerts"})]}),r.jsxs("label",{className:"flex items-center",children:[r.jsx("input",{type:"checkbox",defaultChecked:!0,className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),r.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Task reminders"})]})]})]}),r.jsx("div",{className:"flex justify-end",children:r.jsxs("button",{className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:[r.jsx(at,{className:"h-4 w-4"}),r.jsx("span",{children:"Save Preferences"})]})})]})]});case"system":return r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:"System Configuration"}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Time Zone"}),r.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[r.jsx("option",{children:"Pacific Standard Time (PST)"}),r.jsx("option",{children:"Mountain Standard Time (MST)"}),r.jsx("option",{children:"Central Standard Time (CST)"}),r.jsx("option",{children:"Eastern Standard Time (EST)"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Date Format"}),r.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[r.jsx("option",{children:"MM/DD/YYYY"}),r.jsx("option",{children:"DD/MM/YYYY"}),r.jsx("option",{children:"YYYY-MM-DD"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Language"}),r.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[r.jsx("option",{children:"English (US)"}),r.jsx("option",{children:"English (UK)"}),r.jsx("option",{children:"Spanish"}),r.jsx("option",{children:"French"})]})]}),r.jsxs("div",{className:"border-t border-gray-200 pt-4",children:[r.jsx("h4",{className:"text-md font-medium text-gray-900 mb-3",children:"Data Management"}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("label",{className:"flex items-center",children:[r.jsx("input",{type:"checkbox",defaultChecked:!0,className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),r.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Automatic data backup"})]}),r.jsxs("label",{className:"flex items-center",children:[r.jsx("input",{type:"checkbox",defaultChecked:!0,className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),r.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Data retention (7 years)"})]})]})]}),r.jsx("div",{className:"flex justify-end",children:r.jsxs("button",{className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:[r.jsx(at,{className:"h-4 w-4"}),r.jsx("span",{children:"Save Settings"})]})})]})]});default:return null}};return r.jsxs("div",{className:"space-y-6",children:[r.jsx("div",{className:"flex items-center justify-between",children:r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Settings"})}),r.jsx(Ai,{tabs:d,activeTab:s,onTabChange:l}),m()]})}function Ig(){const{user:s}=wt(),[l,o]=x.useState(!1),[c,d]=x.useState(!1),[m,f]=x.useState(!1),[h,y]=x.useState(!1),[v,g]=x.useState(!1),[j,T]=x.useState({firstName:s?.first_name||"",lastName:s?.last_name||"",email:s?.email||"",phone:"",organization:s?.organization||"",role:s?.role||"",joinDate:s?.created_at||""}),[D,k]=x.useState({currentPassword:"",newPassword:"",confirmPassword:""}),L=()=>{console.log("Saving profile data:",j),o(!1)},b=()=>{if(D.newPassword!==D.confirmPassword){alert("New passwords do not match");return}if(D.newPassword.length<6){alert("Password must be at least 6 characters long");return}console.log("Changing password"),d(!1),k({currentPassword:"",newPassword:"",confirmPassword:""}),alert("Password changed successfully")},P=(H,V)=>{T(W=>({...W,[H]:V}))},_=(H,V)=>{k(W=>({...W,[H]:V}))};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Profile"}),!l&&r.jsxs("button",{onClick:()=>o(!0),className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:[r.jsx(En,{className:"h-4 w-4"}),r.jsx("span",{children:"Edit Profile"})]})]}),r.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:r.jsxs("div",{className:"flex items-center space-x-6",children:[r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"h-24 w-24 bg-blue-100 rounded-full flex items-center justify-center",children:r.jsx(Sn,{className:"h-12 w-12 text-blue-600"})}),l&&r.jsx("button",{className:"absolute bottom-0 right-0 p-2 bg-blue-600 text-white rounded-full hover:bg-blue-700",children:r.jsx(hg,{className:"h-4 w-4"})})]}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:s?.name}),r.jsx("p",{className:"text-gray-600 capitalize",children:s?.role}),r.jsx("p",{className:"text-sm text-gray-500",children:s?.organization})]})]})}),r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Personal Information"}),l&&r.jsxs("div",{className:"flex space-x-3",children:[r.jsx("button",{onClick:()=>o(!1),className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Cancel"}),r.jsxs("button",{onClick:L,className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:[r.jsx(at,{className:"h-4 w-4"}),r.jsx("span",{children:"Save Changes"})]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[r.jsx(Sn,{className:"h-4 w-4 inline mr-2"}),"First Name"]}),l?r.jsx("input",{type:"text",value:j.firstName,onChange:H=>P("firstName",H.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}):r.jsx("p",{className:"text-gray-900 bg-gray-50 px-3 py-2 rounded-md",children:j.firstName})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[r.jsx(Sn,{className:"h-4 w-4 inline mr-2"}),"Last Name"]}),l?r.jsx("input",{type:"text",value:j.lastName,onChange:H=>P("lastName",H.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}):r.jsx("p",{className:"text-gray-900 bg-gray-50 px-3 py-2 rounded-md",children:j.lastName})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[r.jsx(Ti,{className:"h-4 w-4 inline mr-2"}),"Email Address"]}),l?r.jsx("input",{type:"email",value:j.email,onChange:H=>P("email",H.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}):r.jsx("p",{className:"text-gray-900 bg-gray-50 px-3 py-2 rounded-md",children:j.email})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[r.jsx(Cg,{className:"h-4 w-4 inline mr-2"}),"Phone Number"]}),l?r.jsx("input",{type:"tel",value:j.phone,onChange:H=>P("phone",H.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}):r.jsx("p",{className:"text-gray-900 bg-gray-50 px-3 py-2 rounded-md",children:j.phone})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[r.jsx(Yt,{className:"h-4 w-4 inline mr-2"}),"Organization"]}),l?r.jsx("input",{type:"text",value:j.organization,onChange:H=>P("organization",H.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}):r.jsx("p",{className:"text-gray-900 bg-gray-50 px-3 py-2 rounded-md",children:j.organization})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[r.jsx(Ri,{className:"h-4 w-4 inline mr-2"}),"Member Since"]}),r.jsx("p",{className:"text-gray-900 bg-gray-50 px-3 py-2 rounded-md",children:new Date(j.joinDate).toLocaleDateString()})]})]})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Security Settings"}),!c&&r.jsx("button",{onClick:()=>d(!0),className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Change Password"})]}),c&&r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Current Password"}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:m?"text":"password",value:D.currentPassword,onChange:H=>_("currentPassword",H.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 pr-10"}),r.jsx("button",{type:"button",onClick:()=>f(!m),className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:m?r.jsx(Kt,{className:"h-4 w-4 text-gray-400"}):r.jsx(Ot,{className:"h-4 w-4 text-gray-400"})})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"New Password"}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:h?"text":"password",value:D.newPassword,onChange:H=>_("newPassword",H.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 pr-10"}),r.jsx("button",{type:"button",onClick:()=>y(!h),className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:h?r.jsx(Kt,{className:"h-4 w-4 text-gray-400"}):r.jsx(Ot,{className:"h-4 w-4 text-gray-400"})})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirm New Password"}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{type:v?"text":"password",value:D.confirmPassword,onChange:H=>_("confirmPassword",H.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 pr-10"}),r.jsx("button",{type:"button",onClick:()=>g(!v),className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:v?r.jsx(Kt,{className:"h-4 w-4 text-gray-400"}):r.jsx(Ot,{className:"h-4 w-4 text-gray-400"})})]})]}),r.jsxs("div",{className:"flex space-x-3",children:[r.jsx("button",{onClick:()=>{d(!1),k({currentPassword:"",newPassword:"",confirmPassword:""})},className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Cancel"}),r.jsx("button",{onClick:b,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Update Password"})]})]}),!c&&r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm text-gray-600",children:"Password"}),r.jsx("span",{className:"text-sm text-gray-400",children:""})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm text-gray-600",children:"Two-Factor Authentication"}),r.jsx("span",{className:"text-sm text-red-600",children:"Disabled"})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm text-gray-600",children:"Last Login"}),r.jsx("span",{className:"text-sm text-gray-600",children:"Today at 2:30 PM"})]})]})]})]})}function zg({selectedFacility:s}){const[l,o]=x.useState({facilityName:"",internalId:"",stateIdNumber:"",address:"",city:"",county:"",state:"",zip:"",country:"United States",phone:"",email:"",storeOpenDate:"",operationalRegion:"",tosPosDate:"",gasBrand:"Phillips",storeOperatorType:"",category:"",operationalDistrict:"",facilityType:"",leaseOwn:"",ownerId:"",tankOwner:"",tankOperator:"",numAST:0,numUSTRegistered:0,numMPDs:0,insured:!1,remodelCloseDate:"",remodelOpenDate:"",reasonForRemodel:"",channelOfTrade:"",carServiceCenter:"",truckServiceCenter:"",busMaintenance:"",defuelingSite:"",defuelingMethod:"",complianceManagerName:"",complianceManagerPhone:"",complianceManagerEmail:"",storeManagerName:"",storeManagerPhone:"",storeManagerEmail:"",testingVendorName:"",testingVendorPhone:"",testingVendorEmail:"",operatingHours:{monday:{closed:!1,open:"08:00",close:"18:00"},tuesday:{closed:!1,open:"08:00",close:"18:00"},wednesday:{closed:!1,open:"08:00",close:"18:00"},thursday:{closed:!1,open:"08:00",close:"18:00"},friday:{closed:!1,open:"08:00",close:"18:00"},saturday:{closed:!1,open:"09:00",close:"17:00"},sunday:{closed:!0,open:"09:00",close:"17:00"}}}),[c,d]=x.useState({general:!0,operational:!0,contacts:!0,hours:!0}),[m,f]=x.useState({general:!1,operational:!1,contacts:!1,hours:!1}),[h,y]=x.useState(!1),[v,g]=x.useState(null),[j,T]=x.useState(null),[D,k]=x.useState({general:!1,operational:!1,contacts:!1,hours:!1}),[L,b]=x.useState({general:null,operational:null,contacts:null,hours:null}),[P,_]=x.useState({general:null,operational:null,contacts:null,hours:null}),{hasPermission:H,user:V}=wt();x.useEffect(()=>{s&&F()},[s]);const W=E=>({facilityName:E.facilityName||"",internalId:E.internalId||"",stateIdNumber:E.stateIdNumber||"",address:E.address||"",city:E.city||"",county:E.county||"",state:E.state||"",zip:E.zip||"",country:E.country||"United States",storeOpenDate:E.storeOpenDate||"",operationalRegion:E.operationalRegion||"",tosPosDate:E.tosPosDate||"",gasBrand:E.gasBrand||"Phillips",storeOperatorType:E.storeOperatorType||"",category:E.category||"",operationalDistrict:E.operationalDistrict||"",facilityType:E.facilityType||"",leaseOwn:E.leaseOwn||"",ownerId:E.ownerId||"",tankOwner:E.tankOwner||"",tankOperator:E.tankOperator||"",numAST:E.numAST||0,numUSTRegistered:E.numUSTRegistered||0,numMPDs:E.numMPDs||0,insured:E.insured||!1,remodelCloseDate:E.remodelCloseDate||"",remodelOpenDate:E.remodelOpenDate||"",reasonForRemodel:E.reasonForRemodel||"",channelOfTrade:E.channelOfTrade||"",carServiceCenter:E.carServiceCenter||"",truckServiceCenter:E.truckServiceCenter||"",busMaintenance:E.busMaintenance||"",defuelingSite:E.defuelingSite||"",defuelingMethod:E.defuelingMethod||"",complianceManagerName:E.complianceManagerName||"",complianceManagerPhone:E.complianceManagerPhone||"",complianceManagerEmail:E.complianceManagerEmail||"",storeManagerName:E.storeManagerName||"",storeManagerPhone:E.storeManagerPhone||"",storeManagerEmail:E.storeManagerEmail||"",testingVendorName:E.testingVendorName||"",testingVendorPhone:E.testingVendorPhone||"",testingVendorEmail:E.testingVendorEmail||"",operatingHours:E.operatingHours||{monday:{closed:!1,open:"08:00",close:"18:00"},tuesday:{closed:!1,open:"08:00",close:"18:00"},wednesday:{closed:!1,open:"08:00",close:"18:00"},thursday:{closed:!1,open:"08:00",close:"18:00"},friday:{closed:!1,open:"08:00",close:"18:00"},saturday:{closed:!1,open:"09:00",close:"17:00"},sunday:{closed:!0,open:"09:00",close:"17:00"}}}),F=async()=>{try{y(!0);const E=await fe.getFacilityProfile(s.id);o(W(E))}catch{o(M=>({...M,facilityName:s.name||"",address:s.street_address||"",city:s.city||"",state:s.state||"",zip:s.zip_code||"",country:s.country||"United States"}))}finally{y(!1)}},J=E=>{d(M=>({...M,[E]:!M[E]}))},re=E=>{f(M=>({...M,[E]:!M[E]})),g(null),T(null)},B=async()=>{k(E=>({...E,general:!0})),b(E=>({...E,general:null}));try{const E={facilityName:l.facilityName,internalId:l.internalId,stateIdNumber:l.stateIdNumber,address:l.address,city:l.city,county:l.county,state:l.state,zip:l.zip,country:l.country};await fe.updateProfileGeneralInfo(s.id,E),f(M=>({...M,general:!1})),_(M=>({...M,general:"General Information saved successfully"})),setTimeout(()=>_(M=>({...M,general:null})),3e3)}catch(E){b(M=>({...M,general:E.message||"Failed to save general information"}))}finally{k(E=>({...E,general:!1}))}},ee=async()=>{k(E=>({...E,operational:!0})),b(E=>({...E,operational:null}));try{const E={storeOpenDate:l.storeOpenDate,operationalRegion:l.operationalRegion,tosPosDate:l.tosPosDate,gasBrand:l.gasBrand,storeOperatorType:l.storeOperatorType,category:l.category,operationalDistrict:l.operationalDistrict,facilityType:l.facilityType,leaseOwn:l.leaseOwn,ownerId:l.ownerId,tankOwner:l.tankOwner,tankOperator:l.tankOperator,numAST:l.numAST,numUSTRegistered:l.numUSTRegistered,numMPDs:l.numMPDs,insured:l.insured,remodelCloseDate:l.remodelCloseDate,remodelOpenDate:l.remodelOpenDate,reasonForRemodel:l.reasonForRemodel,channelOfTrade:l.channelOfTrade,carServiceCenter:l.carServiceCenter,truckServiceCenter:l.truckServiceCenter,busMaintenance:l.busMaintenance,defuelingSite:l.defuelingSite,defuelingMethod:l.defuelingMethod};await fe.updateProfileOperationalInfo(s.id,E),f(M=>({...M,operational:!1})),_(M=>({...M,operational:"Operational Information saved successfully"})),setTimeout(()=>_(M=>({...M,operational:null})),3e3)}catch(E){b(M=>({...M,operational:E.message||"Failed to save operational information"}))}finally{k(E=>({...E,operational:!1}))}},ce=async()=>{k(E=>({...E,contacts:!0})),b(E=>({...E,contacts:null}));try{const E={complianceManagerName:l.complianceManagerName,complianceManagerPhone:l.complianceManagerPhone,complianceManagerEmail:l.complianceManagerEmail,storeManagerName:l.storeManagerName,storeManagerPhone:l.storeManagerPhone,storeManagerEmail:l.storeManagerEmail,testingVendorName:l.testingVendorName,testingVendorPhone:l.testingVendorPhone,testingVendorEmail:l.testingVendorEmail};await fe.updateProfileContacts(s.id,E),f(M=>({...M,contacts:!1})),_(M=>({...M,contacts:"Facility Contacts saved successfully"})),setTimeout(()=>_(M=>({...M,contacts:null})),3e3)}catch(E){b(M=>({...M,contacts:E.message||"Failed to save facility contacts"}))}finally{k(E=>({...E,contacts:!1}))}},je=async()=>{k(E=>({...E,hours:!0})),b(E=>({...E,hours:null}));try{const E={operatingHours:l.operatingHours};await fe.updateProfileOperationHours(s.id,E),f(M=>({...M,hours:!1})),_(M=>({...M,hours:"Operation Hours saved successfully"})),setTimeout(()=>_(M=>({...M,hours:null})),3e3)}catch(E){b(M=>({...M,hours:E.message||"Failed to save operation hours"}))}finally{k(E=>({...E,hours:!1}))}},Ee=E=>{f(M=>({...M,[E]:!1})),F()},te=(E,M)=>{o(ne=>({...ne,[E]:M}))},ye=(E,M,ne)=>{o(pe=>({...pe,operatingHours:{...pe.operatingHours,[E]:{...pe.operatingHours[E],[M]:ne}}}))},we=()=>{const E={...l.operatingHours};Object.keys(E).forEach(M=>{E[M]={closed:!1,open:"00:00",close:"23:59"}}),o(M=>({...M,operatingHours:E}))},X=()=>{const E=l.operatingHours.monday,M={...l.operatingHours};["tuesday","wednesday","thursday","friday"].forEach(ne=>{M[ne]={...E}}),o(ne=>({...ne,operatingHours:M}))},q=()=>{const E={...l.operatingHours};E.saturday={...E.saturday,closed:!0},E.sunday={...E.sunday,closed:!0},o(M=>({...M,operatingHours:E}))},U=["Alabama","Alaska","Arizona","Arkansas","California","Colorado","Connecticut","Delaware","Florida","Georgia","Hawaii","Idaho","Illinois","Indiana","Iowa","Kansas","Kentucky","Louisiana","Maine","Maryland","Massachusetts","Michigan","Minnesota","Mississippi","Missouri","Montana","Nebraska","Nevada","New Hampshire","New Jersey","New Mexico","New York","North Carolina","North Dakota","Ohio","Oklahoma","Oregon","Pennsylvania","Rhode Island","South Carolina","South Dakota","Tennessee","Texas","Utah","Vermont","Virginia","Washington","West Virginia","Wisconsin","Wyoming"],Q=["Gas Station","Truck Stop","Storage Facility","Distribution Center","Terminal","Convenience Store"],N=(E,M,ne)=>r.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("button",{onClick:()=>J(ne),className:"p-1 hover:bg-gray-100 rounded transition-colors",children:c[ne]?r.jsx(Ym,{className:"h-4 w-4 text-gray-600"}):r.jsx(xg,{className:"h-4 w-4 text-gray-600"})}),r.jsxs("div",{className:"flex items-center space-x-2",children:[M,r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:E})]})]}),H("edit_facility_profile")&&r.jsx("div",{className:"flex items-center space-x-2",children:m[ne]?r.jsxs(r.Fragment,{children:[r.jsxs("button",{onClick:()=>{ne==="general"?B():ne==="operational"?ee():ne==="contacts"?ce():ne==="hours"&&je()},disabled:D[ne],className:"flex items-center space-x-1 px-3 py-1 bg-green-600 text-white rounded-md hover:bg-green-700 disabled:opacity-50 text-sm",children:[r.jsx(at,{className:"h-4 w-4"}),r.jsx("span",{children:D[ne]?"Saving...":"Save"})]}),r.jsxs("button",{onClick:()=>Ee(ne),disabled:D[ne],className:"flex items-center space-x-1 px-3 py-1 border border-gray-300 rounded-md hover:bg-gray-50 text-sm disabled:opacity-50",children:[r.jsx(He,{className:"h-4 w-4"}),r.jsx("span",{children:"Cancel"})]})]}):r.jsxs("button",{onClick:()=>re(ne),className:"flex items-center space-x-1 px-3 py-1 border border-gray-300 rounded-md hover:bg-gray-50 text-sm",children:[r.jsx(yg,{className:"h-4 w-4"}),r.jsx("span",{children:"Edit"})]})})]}),R=(E,M,ne="text",pe,Ce=!1)=>{const be=l[E];return Ce?ne==="select"&&pe?r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:M}),r.jsxs("select",{value:be,onChange:I=>te(E,I.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[r.jsxs("option",{value:"",children:["Select ",M]}),pe.map(I=>r.jsx("option",{value:I,children:I},I))]})]}):ne==="number"?r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:M}),r.jsx("input",{type:"number",value:be,onChange:I=>te(E,parseInt(I.target.value)||0),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",min:"0"})]}):ne==="toggle"?r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:M}),r.jsxs("div",{className:"flex items-center",children:[r.jsx("button",{onClick:()=>te(E,!be),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${be?"bg-blue-600":"bg-gray-200"}`,children:r.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${be?"translate-x-6":"translate-x-1"}`})}),r.jsx("span",{className:"ml-2 text-sm text-gray-600",children:be?"Yes":"No"})]})]}):r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:M}),r.jsx("input",{type:ne,value:be,onChange:I=>te(E,I.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:`Enter ${M.toLowerCase()}`})]}):r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:M}),r.jsx("div",{className:"px-3 py-2 bg-gray-50 border border-gray-200 rounded-md text-sm text-gray-900",children:be||r.jsx("span",{className:"text-gray-400 italic",children:"Not set"})})]})};return s?r.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:r.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[r.jsx("div",{className:"flex items-center justify-between",children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(Yt,{className:"h-6 w-6 text-blue-600"}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Facility Profile"}),r.jsx("p",{className:"text-sm text-gray-500",children:s.name})]})]})}),j&&r.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(at,{className:"h-5 w-5 text-green-600 mr-2"}),r.jsx("span",{className:"text-green-800",children:j})]})}),v&&r.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(He,{className:"h-5 w-5 text-red-600 mr-2"}),r.jsx("span",{className:"text-red-800",children:v})]})}),r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[N("General Information",r.jsx(qr,{className:"h-5 w-5 text-blue-600"}),"general"),P.general&&r.jsx("div",{className:"mx-6 mt-4 bg-green-50 border border-green-200 rounded-lg p-3",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(at,{className:"h-4 w-4 text-green-600 mr-2"}),r.jsx("span",{className:"text-sm text-green-800",children:P.general})]})}),L.general&&r.jsx("div",{className:"mx-6 mt-4 bg-red-50 border border-red-200 rounded-lg p-3",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(He,{className:"h-4 w-4 text-red-600 mr-2"}),r.jsx("span",{className:"text-sm text-red-800",children:L.general})]})}),c.general&&r.jsx("div",{className:"p-6",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:[R("facilityName","Facility Name","text",void 0,m.general),R("internalId","Internal ID","text",void 0,m.general),R("stateIdNumber","State ID Number","text",void 0,m.general),R("address","Address 1","text",void 0,m.general),R("city","City","text",void 0,m.general),R("county","County","text",void 0,m.general),R("state","State","select",U,m.general),R("zip","ZIP Code","text",void 0,m.general),R("country","Country","text",void 0,m.general)]})})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[N("Operational Information",r.jsx(Mi,{className:"h-5 w-5 text-green-600"}),"operational"),P.operational&&r.jsx("div",{className:"mx-6 mt-4 bg-green-50 border border-green-200 rounded-lg p-3",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(at,{className:"h-4 w-4 text-green-600 mr-2"}),r.jsx("span",{className:"text-sm text-green-800",children:P.operational})]})}),L.operational&&r.jsx("div",{className:"mx-6 mt-4 bg-red-50 border border-red-200 rounded-lg p-3",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(He,{className:"h-4 w-4 text-red-600 mr-2"}),r.jsx("span",{className:"text-sm text-red-800",children:L.operational})]})}),c.operational&&r.jsx("div",{className:"p-6",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[R("storeOpenDate","Store Open Date","date",void 0,m.operational),R("operationalRegion","Operational Region","text",void 0,m.operational),R("tosPosDate","TOS POS Date","date",void 0,m.operational),R("gasBrand","Gas Brand","text",void 0,m.operational),R("storeOperatorType","Store Operator Type","text",void 0,m.operational),R("category","Category","text",void 0,m.operational),R("operationalDistrict","Operational District","text",void 0,m.operational),R("facilityType","Facility Type","select",Q,m.operational),R("leaseOwn","Lease/Own","text",void 0,m.operational),R("ownerId","Owner ID","text",void 0,m.operational),R("tankOwner","Tank Owner","text",void 0,m.operational),R("tankOperator","Tank Operator","text",void 0,m.operational),R("numAST","Number of AST","number",void 0,m.operational),R("numUSTRegistered","Number of UST Registered","number",void 0,m.operational),R("numMPDs","Number of MPDs","number",void 0,m.operational),R("insured","Insured","toggle",void 0,m.operational),R("remodelCloseDate","Remodel Close Date","date",void 0,m.operational),R("remodelOpenDate","Remodel Open Date","date",void 0,m.operational),R("reasonForRemodel","Reason for Remodel","text",void 0,m.operational),R("channelOfTrade","Channel of Trade","text",void 0,m.operational),R("carServiceCenter","Car Service Center","text",void 0,m.operational),R("truckServiceCenter","Truck Service Center","text",void 0,m.operational),R("busMaintenance","Bus Maintenance","text",void 0,m.operational),R("defuelingSite","Defueling Site","text",void 0,m.operational),R("defuelingMethod","Defueling Method","text",void 0,m.operational)]})})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[N("Facility Contacts",r.jsx(Ns,{className:"h-5 w-5 text-purple-600"}),"contacts"),P.contacts&&r.jsx("div",{className:"mx-6 mt-4 bg-green-50 border border-green-200 rounded-lg p-3",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(at,{className:"h-4 w-4 text-green-600 mr-2"}),r.jsx("span",{className:"text-sm text-green-800",children:P.contacts})]})}),L.contacts&&r.jsx("div",{className:"mx-6 mt-4 bg-red-50 border border-red-200 rounded-lg p-3",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(He,{className:"h-4 w-4 text-red-600 mr-2"}),r.jsx("span",{className:"text-sm text-red-800",children:L.contacts})]})}),c.contacts&&r.jsx("div",{className:"p-6",children:r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"border-b border-gray-200",children:[r.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-700",children:"Contact Type"}),r.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-700",children:"Name"}),r.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-700",children:"Phone"}),r.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-700",children:"Email"})]})}),r.jsxs("tbody",{className:"divide-y divide-gray-200",children:[r.jsxs("tr",{children:[r.jsx("td",{className:"py-3 px-4 font-medium text-gray-900",children:"Compliance Manager"}),r.jsx("td",{className:"py-3 px-4",children:m.contacts?r.jsx("input",{type:"text",value:l.complianceManagerName,onChange:E=>te("complianceManagerName",E.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter name"}):r.jsx("span",{className:"text-gray-900",children:l.complianceManagerName||r.jsx("span",{className:"text-gray-400 italic",children:"Not set"})})}),r.jsx("td",{className:"py-3 px-4",children:m.contacts?r.jsx("input",{type:"tel",value:l.complianceManagerPhone,onChange:E=>te("complianceManagerPhone",E.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter phone"}):r.jsx("span",{className:"text-gray-900",children:l.complianceManagerPhone||r.jsx("span",{className:"text-gray-400 italic",children:"Not set"})})}),r.jsx("td",{className:"py-3 px-4",children:m.contacts?r.jsx("input",{type:"email",value:l.complianceManagerEmail,onChange:E=>te("complianceManagerEmail",E.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter email"}):r.jsx("span",{className:"text-gray-900",children:l.complianceManagerEmail||r.jsx("span",{className:"text-gray-400 italic",children:"Not set"})})})]}),r.jsxs("tr",{children:[r.jsx("td",{className:"py-3 px-4 font-medium text-gray-900",children:"Store Manager"}),r.jsx("td",{className:"py-3 px-4",children:m.contacts?r.jsx("input",{type:"text",value:l.storeManagerName,onChange:E=>te("storeManagerName",E.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter name"}):r.jsx("span",{className:"text-gray-900",children:l.storeManagerName||r.jsx("span",{className:"text-gray-400 italic",children:"Not set"})})}),r.jsx("td",{className:"py-3 px-4",children:m.contacts?r.jsx("input",{type:"tel",value:l.storeManagerPhone,onChange:E=>te("storeManagerPhone",E.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter phone"}):r.jsx("span",{className:"text-gray-900",children:l.storeManagerPhone||r.jsx("span",{className:"text-gray-400 italic",children:"Not set"})})}),r.jsx("td",{className:"py-3 px-4",children:m.contacts?r.jsx("input",{type:"email",value:l.storeManagerEmail,onChange:E=>te("storeManagerEmail",E.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter email"}):r.jsx("span",{className:"text-gray-900",children:l.storeManagerEmail||r.jsx("span",{className:"text-gray-400 italic",children:"Not set"})})})]}),r.jsxs("tr",{children:[r.jsx("td",{className:"py-3 px-4 font-medium text-gray-900",children:"Testing Vendor"}),r.jsx("td",{className:"py-3 px-4",children:m.contacts?r.jsx("input",{type:"text",value:l.testingVendorName,onChange:E=>te("testingVendorName",E.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter name"}):r.jsx("span",{className:"text-gray-900",children:l.testingVendorName||r.jsx("span",{className:"text-gray-400 italic",children:"Not set"})})}),r.jsx("td",{className:"py-3 px-4",children:m.contacts?r.jsx("input",{type:"tel",value:l.testingVendorPhone,onChange:E=>te("testingVendorPhone",E.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter phone"}):r.jsx("span",{className:"text-gray-900",children:l.testingVendorPhone||r.jsx("span",{className:"text-gray-400 italic",children:"Not set"})})}),r.jsx("td",{className:"py-3 px-4",children:m.contacts?r.jsx("input",{type:"email",value:l.testingVendorEmail,onChange:E=>te("testingVendorEmail",E.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter email"}):r.jsx("span",{className:"text-gray-900",children:l.testingVendorEmail||r.jsx("span",{className:"text-gray-400 italic",children:"Not set"})})})]})]})]})})})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[N("Operating Hours",r.jsx(Yr,{className:"h-5 w-5 text-orange-600"}),"hours"),P.hours&&r.jsx("div",{className:"mx-6 mt-4 bg-green-50 border border-green-200 rounded-lg p-3",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(at,{className:"h-4 w-4 text-green-600 mr-2"}),r.jsx("span",{className:"text-sm text-green-800",children:P.hours})]})}),L.hours&&r.jsx("div",{className:"mx-6 mt-4 bg-red-50 border border-red-200 rounded-lg p-3",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(He,{className:"h-4 w-4 text-red-600 mr-2"}),r.jsx("span",{className:"text-sm text-red-800",children:L.hours})]})}),c.hours&&r.jsxs("div",{className:"p-6",children:[m.hours&&r.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[r.jsx("button",{onClick:we,className:"px-3 py-1 bg-gray-100 text-gray-700 rounded-md hover:bg-gray-200 text-sm",children:"Set 24/7"}),r.jsx("button",{onClick:X,className:"px-3 py-1 bg-gray-100 text-gray-700 rounded-md hover:bg-gray-200 text-sm",children:"Copy Mon  Fri"}),r.jsx("button",{onClick:q,className:"px-3 py-1 bg-gray-100 text-gray-700 rounded-md hover:bg-gray-200 text-sm",children:"Close Weekends"})]}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"border-b border-gray-200",children:[r.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-700",children:"Day"}),r.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-700",children:"Closed"}),r.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-700",children:"Open"}),r.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-700",children:"Close"})]})}),r.jsx("tbody",{className:"divide-y divide-gray-200",children:Object.entries(l.operatingHours).map(([E,M])=>r.jsxs("tr",{children:[r.jsx("td",{className:"py-3 px-4 font-medium text-gray-900 capitalize",children:E.substring(0,3)}),r.jsx("td",{className:"py-3 px-4",children:m.hours?r.jsx("button",{onClick:()=>ye(E,"closed",!M.closed),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${M.closed?"bg-red-600":"bg-gray-200"}`,children:r.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${M.closed?"translate-x-6":"translate-x-1"}`})}):r.jsx("span",{className:`text-sm font-medium ${M.closed?"text-red-600":"text-green-600"}`,children:M.closed?"Closed":"Open"})}),r.jsx("td",{className:"py-3 px-4",children:m.hours?r.jsx("input",{type:"time",value:M.open,onChange:ne=>ye(E,"open",ne.target.value),disabled:M.closed,className:"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-100 disabled:text-gray-400"}):r.jsx("span",{className:"text-gray-900",children:M.closed?"":new Date(`2000-01-01T${M.open}`).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})}),r.jsx("td",{className:"py-3 px-4",children:m.hours?r.jsx("input",{type:"time",value:M.close,onChange:ne=>ye(E,"close",ne.target.value),disabled:M.closed,className:"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-100 disabled:text-gray-400"}):r.jsx("span",{className:"text-gray-900",children:M.closed?"":new Date(`2000-01-01T${M.close}`).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})})]},E))})]})})]})]})]})}):r.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6 text-center",children:[r.jsx(Yt,{className:"h-12 w-12 text-blue-400 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-blue-900 mb-2",children:"No Facility Selected"}),r.jsx("p",{className:"text-blue-700",children:"Please select a facility to view and edit its profile."})]})}const Ug=({selectedFacility:s})=>{const[l,o]=x.useState([]),[c,d]=x.useState(!1),[m,f]=x.useState(null),[h,y]=x.useState(null),[v,g]=x.useState(null),[j,T]=x.useState(!1),[D,k]=x.useState({commander_type:"",serial_number:"",service_id:"",asm_subscription:"Own",base_software_version:"",tunnel_ip:"",payment_processor:"",user_id:"",password:"",issue_date:"",expiry_date:""});x.useEffect(()=>{s&&L()},[s]);const L=async()=>{if(!s){console.log(" No facility selected, skipping commander load");return}try{d(!0),f(null),console.log(` Loading commanders for facility: ${s.name} (ID: ${s.id})`);const F=await fe.getCommandersByLocation(s.id);console.log(" Commanders loaded:",F),console.log(" Number of commanders:",F?.length||0),o(Array.isArray(F)?F:[])}catch(F){console.error(" Error loading commanders:",F),f(F.message||"Failed to load commanders"),o([])}finally{d(!1)}},b=()=>{T(!0),g(null),k({commander_type:"",serial_number:"",service_id:"",asm_subscription:"Own",base_software_version:"",tunnel_ip:"",payment_processor:"",user_id:"",password:"",issue_date:"",expiry_date:""})},P=F=>{g(F.id||null),T(!1),k({commander_type:F.commander_type||"",serial_number:F.serial_number||"",service_id:F.service_id||"",asm_subscription:F.asm_subscription||"Own",base_software_version:F.base_software_version||"",tunnel_ip:F.tunnel_ip||"",payment_processor:F.payment_processor||"",user_id:F.user_id||"",password:F.password||"",issue_date:F.issue_date||"",expiry_date:F.expiry_date||""})},_=()=>{T(!1),g(null),k({commander_type:"",serial_number:"",service_id:"",asm_subscription:"Own",base_software_version:"",tunnel_ip:"",payment_processor:"",user_id:"",password:"",issue_date:"",expiry_date:""})},H=async()=>{try{d(!0),f(null),j?(await fe.createCommander(s.id,D),y("Commander created successfully")):v&&(await fe.updateCommander(v,D),y("Commander updated successfully")),await L(),_(),setTimeout(()=>y(null),3e3)}catch(F){f(F.message||"Failed to save commander")}finally{d(!1)}},V=async F=>{if(window.confirm("Are you sure you want to delete this commander?"))try{d(!0),f(null),await fe.deleteCommander(F),y("Commander deleted successfully"),await L(),setTimeout(()=>y(null),3e3)}catch(J){f(J.message||"Failed to delete commander")}finally{d(!1)}},W=(F,J)=>{k(re=>({...re,[F]:J}))};return s?r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(Za,{className:"h-6 w-6 text-blue-600"}),r.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Commander Info"})]}),!j&&!v&&s&&r.jsxs("button",{onClick:b,className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:[r.jsx(cr,{className:"h-5 w-5"}),r.jsx("span",{children:"Add Commander"})]})]}),h&&r.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(at,{className:"h-5 w-5 text-green-600 mr-2"}),r.jsx("span",{className:"text-green-800",children:h})]})}),m&&r.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(He,{className:"h-5 w-5 text-red-600 mr-2"}),r.jsx("span",{className:"text-red-800",children:m})]})}),(j||v)&&r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:j?"New Commander":"Edit Commander"}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"text-sm font-semibold text-gray-700 mb-3 pb-2 border-b border-gray-200",children:"Basic Information"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Commander Type"}),r.jsx("input",{type:"text",value:D.commander_type,onChange:F=>W("commander_type",F.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Serial Number"}),r.jsx("input",{type:"text",value:D.serial_number,onChange:F=>W("serial_number",F.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Service ID"}),r.jsx("input",{type:"text",value:D.service_id,onChange:F=>W("service_id",F.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Base Software Version"}),r.jsx("input",{type:"text",value:D.base_software_version,onChange:F=>W("base_software_version",F.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Payment Processor"}),r.jsx("input",{type:"text",value:D.payment_processor,onChange:F=>W("payment_processor",F.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tunnel IP"}),r.jsx("input",{type:"text",value:D.tunnel_ip,onChange:F=>W("tunnel_ip",F.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"C-Store User ID"}),r.jsx("input",{type:"text",value:D.user_id,onChange:F=>W("user_id",F.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),r.jsx("input",{type:"password",value:D.password,onChange:F=>W("password",F.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"text-sm font-semibold text-gray-700 mb-3 pb-2 border-b border-gray-200",children:"Subscription & Dates"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"ASM Subscription"}),r.jsxs("select",{value:D.asm_subscription,onChange:F=>W("asm_subscription",F.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[r.jsx("option",{value:"Own",children:"Own"}),r.jsx("option",{value:"Brand Operated",children:"Brand Operated"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Issue Date"}),r.jsx("input",{type:"date",value:D.issue_date,onChange:F=>W("issue_date",F.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Expiry Date"}),r.jsx("input",{type:"date",value:D.expiry_date,onChange:F=>W("expiry_date",F.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]})]})]}),r.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[r.jsx("button",{onClick:_,disabled:c,className:"px-4 py-2 border border-gray-300 rounded-md hover:bg-gray-50 disabled:opacity-50",children:"Cancel"}),r.jsx("button",{onClick:H,disabled:c,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50",children:c?"Saving...":"Save"})]})]}),!j&&!v&&r.jsx("div",{children:c&&l.length===0?r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-8 text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),r.jsx("p",{className:"mt-4 text-gray-600",children:"Loading commanders..."})]}):l.length===0?r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-12 text-center",children:[r.jsx(Za,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),r.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No commanders found"}),r.jsx("p",{className:"text-gray-600 mb-6",children:'Click "Add Commander" to create one'})]}):r.jsx("div",{className:"space-y-4",children:l.map(F=>r.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-6",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(Za,{className:"h-6 w-6 text-blue-600"}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:F.commander_type||"Commander"}),r.jsxs("p",{className:"text-sm text-gray-500",children:["Serial: ",F.serial_number||"N/A"]})]})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsxs("button",{onClick:()=>P(F),className:"flex items-center space-x-1 px-3 py-1 border border-gray-300 rounded-md hover:bg-gray-50 text-sm",children:[r.jsx(pg,{className:"h-4 w-4"}),r.jsx("span",{children:"Edit"})]}),r.jsxs("button",{onClick:()=>F.id&&V(F.id),className:"flex items-center space-x-1 px-3 py-1 border border-gray-300 rounded-md hover:bg-gray-50 text-sm text-red-600",children:[r.jsx(Ss,{className:"h-4 w-4"}),r.jsx("span",{children:"Delete"})]})]})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"text-sm font-semibold text-gray-700 mb-3 pb-2 border-b border-gray-200",children:"Basic Information"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Commander Type"}),r.jsx("div",{className:"px-3 py-2 bg-gray-50 border border-gray-200 rounded-md text-sm text-gray-900",children:F.commander_type||r.jsx("span",{className:"text-gray-400 italic",children:"Not set"})})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Serial Number"}),r.jsx("div",{className:"px-3 py-2 bg-gray-50 border border-gray-200 rounded-md text-sm text-gray-900",children:F.serial_number||r.jsx("span",{className:"text-gray-400 italic",children:"Not set"})})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Service ID"}),r.jsx("div",{className:"px-3 py-2 bg-gray-50 border border-gray-200 rounded-md text-sm text-gray-900",children:F.service_id||r.jsx("span",{className:"text-gray-400 italic",children:"Not set"})})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Base Software Version"}),r.jsx("div",{className:"px-3 py-2 bg-gray-50 border border-gray-200 rounded-md text-sm text-gray-900",children:F.base_software_version||r.jsx("span",{className:"text-gray-400 italic",children:"Not set"})})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Payment Processor"}),r.jsx("div",{className:"px-3 py-2 bg-gray-50 border border-gray-200 rounded-md text-sm text-gray-900",children:F.payment_processor||r.jsx("span",{className:"text-gray-400 italic",children:"Not set"})})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tunnel IP"}),r.jsx("div",{className:"px-3 py-2 bg-gray-50 border border-gray-200 rounded-md text-sm text-gray-900",children:F.tunnel_ip||r.jsx("span",{className:"text-gray-400 italic",children:"Not set"})})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"C-Store User ID"}),r.jsx("div",{className:"px-3 py-2 bg-gray-50 border border-gray-200 rounded-md text-sm text-gray-900",children:F.user_id||r.jsx("span",{className:"text-gray-400 italic",children:"Not set"})})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),r.jsx("div",{className:"px-3 py-2 bg-gray-50 border border-gray-200 rounded-md text-sm text-gray-900",children:F.password?"":r.jsx("span",{className:"text-gray-400 italic",children:"Not set"})})]})]})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"text-sm font-semibold text-gray-700 mb-3 pb-2 border-b border-gray-200",children:"Subscription & Dates"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"ASM Subscription"}),r.jsx("div",{className:"px-3 py-2 bg-gray-50 border border-gray-200 rounded-md text-sm text-gray-900",children:F.asm_subscription||r.jsx("span",{className:"text-gray-400 italic",children:"Not set"})})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Issue Date"}),r.jsx("div",{className:"px-3 py-2 bg-gray-50 border border-gray-200 rounded-md text-sm text-gray-900",children:F.issue_date||r.jsx("span",{className:"text-gray-400 italic",children:"Not set"})})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Expiry Date"}),r.jsx("div",{className:"px-3 py-2 bg-gray-50 border border-gray-200 rounded-md text-sm text-gray-900",children:F.expiry_date||r.jsx("span",{className:"text-gray-400 italic",children:"Not set"})})]})]})]})]})]})},F.id))})})]}):r.jsx("div",{className:"flex items-center justify-center min-h-[600px]",children:r.jsxs("div",{className:"text-center",children:[r.jsx(dg,{className:"h-24 w-24 text-gray-400 mx-auto mb-6"}),r.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"No Facility Selected"}),r.jsx("p",{className:"text-gray-600 text-lg",children:"Please select a facility to view commander information"})]})})};function $g({activeView:s,selectedFacility:l,refreshKey:o,onViewChange:c}){const d=()=>{switch(s){case"dashboard":return r.jsx(am,{selectedFacility:l,onViewChange:c});case"locations":return r.jsx(Tg,{},o);case"facilities":return r.jsx(zg,{selectedFacility:l});case"tanks":return r.jsx(Lg,{selectedFacility:l});case"commanders":return r.jsx(Ug,{selectedFacility:l});case"releases":return r.jsx(Mg,{selectedFacility:l});case"permits":return r.jsx(Ag,{selectedFacility:l});case"settings":return r.jsx(Fg,{});case"profile":return r.jsx(Ig,{});default:return r.jsx(am,{selectedFacility:l,onViewChange:c})}};return r.jsx("div",{className:"flex-1 p-6",children:d()})}function Bg({locations:s,onSubmit:l,onClose:o}){const[c,d]=x.useState("permanent"),[m,f]=x.useState(""),[h,y]=x.useState(""),[v,g]=x.useState(""),[j,T]=x.useState(!1),[D,k]=x.useState("viewer"),[L,b]=x.useState([]),[P,_]=x.useState(""),[H,V]=x.useState(""),[W,F]=x.useState(""),J=[{value:"viewer",title:"Viewer",description:"Can view data and reports but cannot make changes"},{value:"contributor",title:"Contributor",description:"Can view and edit facility data and records"},{value:"admin",title:"Admin",description:"Full access to all features and user management"}],re=x.useMemo(()=>s.filter(te=>te.name.toLowerCase().includes(P.toLowerCase())),[s,P]),B=x.useMemo(()=>re.length===0?!1:re.every(te=>L.includes(te.id)),[re,L]),ee=te=>{b(ye=>ye.includes(te)?ye.filter(we=>we!==te):[...ye,te])},ce=()=>{if(B){const te=re.map(ye=>ye.id);b(ye=>ye.filter(we=>!te.includes(we)))}else{const te=re.map(ye=>ye.id);b(ye=>[...new Set([...ye,...te])])}},je=te=>{const ye=new Date;ye.setHours(ye.getHours()+te);const we=ye.getFullYear(),X=String(ye.getMonth()+1).padStart(2,"0"),q=String(ye.getDate()).padStart(2,"0"),U=String(ye.getHours()).padStart(2,"0"),Q=String(ye.getMinutes()).padStart(2,"0");V(`${we}-${X}-${q}`),F(`${U}:${Q}`)},Ee=te=>{te.preventDefault();const ye={userType:c,username:m,email:h,password:v,selectedLocationIds:L,role:D};c==="temporary"&&H&&W&&(ye.expirationDateTime=`${H}T${W}`),console.log("User Creation Data:",ye),l&&l(ye),o&&o()};return r.jsxs("div",{className:"w-full",children:[r.jsxs("div",{className:"bg-white rounded-lg",children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Create New User"}),r.jsxs("form",{onSubmit:Ee,className:"space-y-8",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:"User Type"}),r.jsxs("div",{className:"relative inline-flex items-center bg-gray-100 rounded-full p-1",children:[r.jsx("button",{type:"button",onClick:()=>d("permanent"),className:`px-6 py-2 rounded-full text-sm font-medium transition-all duration-200 ${c==="permanent"?"bg-blue-600 text-white shadow-md":"text-gray-600 hover:text-gray-900"}`,children:"Permanent"}),r.jsx("button",{type:"button",onClick:()=>d("temporary"),className:`px-6 py-2 rounded-full text-sm font-medium transition-all duration-200 ${c==="temporary"?"bg-blue-600 text-white shadow-md":"text-gray-600 hover:text-gray-900"}`,children:"Temporary"})]})]}),c==="temporary"&&r.jsxs("div",{className:"animate-fadeIn bg-amber-50 border border-amber-200 rounded-lg p-6 space-y-4",children:[r.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[r.jsx(Yr,{className:"h-5 w-5 text-amber-600"}),r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Access Expiration"})]}),r.jsxs("div",{className:"flex flex-wrap gap-2",children:[r.jsx("button",{type:"button",onClick:()=>je(1),className:"px-4 py-2 bg-white border border-amber-300 rounded-lg text-sm font-medium text-amber-700 hover:bg-amber-100 transition-colors",children:"1 Hour"}),r.jsx("button",{type:"button",onClick:()=>je(24),className:"px-4 py-2 bg-white border border-amber-300 rounded-lg text-sm font-medium text-amber-700 hover:bg-amber-100 transition-colors",children:"24 Hours"}),r.jsx("button",{type:"button",onClick:()=>je(168),className:"px-4 py-2 bg-white border border-amber-300 rounded-lg text-sm font-medium text-amber-700 hover:bg-amber-100 transition-colors",children:"7 Days"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Expiration Date"}),r.jsxs("div",{className:"relative",children:[r.jsx(Ri,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),r.jsx("input",{type:"date",value:H,onChange:te=>V(te.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:c==="temporary"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Expiration Time"}),r.jsxs("div",{className:"relative",children:[r.jsx(Yr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),r.jsx("input",{type:"time",value:W,onChange:te=>F(te.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:c==="temporary"})]})]})]})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Basic Information"}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Username *"}),r.jsxs("div",{className:"relative",children:[r.jsx(Sn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),r.jsx("input",{type:"text",value:m,onChange:te=>f(te.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter username",required:!0})]})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Email ",c==="permanent"&&"*"]}),r.jsxs("div",{className:"relative",children:[r.jsx(Ti,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),r.jsx("input",{type:"email",value:h,onChange:te=>y(te.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter email address",required:c==="permanent"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password *"}),r.jsxs("div",{className:"relative",children:[r.jsx(kn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),r.jsx("input",{type:j?"text":"password",value:v,onChange:te=>g(te.target.value),className:"w-full pl-10 pr-12 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter password",required:!0}),r.jsx("button",{type:"button",onClick:()=>T(!j),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:j?r.jsx(Kt,{className:"h-5 w-5"}):r.jsx(Ot,{className:"h-5 w-5"})})]})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("div",{className:"flex items-center justify-between",children:r.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Locations (",L.length," selected)"]})}),r.jsxs("div",{className:"relative",children:[r.jsx(Li,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),r.jsx("input",{type:"text",value:P,onChange:te=>_(te.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Search locations..."})]}),r.jsxs("div",{className:"flex items-center space-x-2 p-3 bg-gray-50 rounded-lg",children:[r.jsx("input",{type:"checkbox",id:"select-all",checked:B,onChange:ce,className:"h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),r.jsxs("label",{htmlFor:"select-all",className:"text-sm font-medium text-gray-700 cursor-pointer",children:["Select All (",re.length," locations)"]})]}),r.jsx("div",{className:"border border-gray-300 rounded-lg max-h-60 overflow-y-auto",children:re.length===0?r.jsx("div",{className:"p-8 text-center text-gray-500",children:"No locations found"}):r.jsx("div",{className:"divide-y divide-gray-200",children:re.map(te=>r.jsxs("label",{className:"flex items-center space-x-3 p-3 hover:bg-gray-50 cursor-pointer transition-colors",children:[r.jsx("input",{type:"checkbox",checked:L.includes(te.id),onChange:()=>ee(te.id),className:"h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),r.jsx("span",{className:"text-sm text-gray-900",children:te.name}),L.includes(te.id)&&r.jsx(rl,{className:"h-4 w-4 text-blue-600 ml-auto"})]},te.id))})})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"User Role"}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:J.map(te=>r.jsxs("button",{type:"button",onClick:()=>k(te.value),className:`p-4 border-2 rounded-lg text-left transition-all duration-200 ${D===te.value?"border-blue-500 bg-blue-50 shadow-md scale-105":"border-gray-300 hover:border-gray-400 hover:shadow"}`,children:[r.jsxs("div",{className:"flex items-start justify-between mb-2",children:[r.jsx("h4",{className:`font-semibold ${D===te.value?"text-blue-700":"text-gray-900"}`,children:te.title}),D===te.value&&r.jsx(rl,{className:"h-5 w-5 text-blue-600"})]}),r.jsx("p",{className:"text-sm text-gray-600",children:te.description})]},te.value))})]}),r.jsxs("div",{className:"flex items-center justify-end space-x-4 pt-6 border-t border-gray-200",children:[r.jsx("button",{type:"button",onClick:()=>{f(""),y(""),g(""),b([]),k("viewer"),V(""),F("")},className:"px-6 py-3 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 hover:bg-gray-50 transition-colors",children:"Reset Form"}),r.jsx("button",{type:"submit",className:"px-6 py-3 bg-blue-600 text-white rounded-lg text-sm font-medium hover:bg-blue-700 transition-colors shadow-md hover:shadow-lg",children:"Create User"})]})]})]}),r.jsx("style",{children:`
        @keyframes fadeIn {
          from {
            opacity: 0;
            transform: translateY(-10px);
          }
          to {
            opacity: 1;
            transform: translateY(0);
          }
        }
        .animate-fadeIn {
          animation: fadeIn 0.3s ease-out;
        }
      `})]})}function Hg(){const[s,l]=x.useState([]),[o,c]=x.useState(!0),[d,m]=x.useState(null),[f,h]=x.useState(null),[y,v]=x.useState(!1),[g,j]=x.useState(!1),[T,D]=x.useState([]),[k,L]=x.useState({isOpen:!1}),[b,P]=x.useState(!1),[_,H]=x.useState({username:"",email:"",password:"",role:"viewer",first_name:"",last_name:""}),{hasPermission:V,user:W}=wt();x.useEffect(()=>{W&&(F(),J())},[W]);const F=async()=>{try{c(!0),m(null);const X=await fe.getUsers();l(X.results||[])}catch{m("Failed to load users"),l([])}finally{c(!1)}},J=async()=>{try{const X=await fe.getLocations(),q=X.results||X;D(Array.isArray(q)?q:[])}catch(X){console.error("Failed to load locations:",X),D([])}},re=async()=>{try{if(P(!0),m(null),h(null),!_.username.trim()){m("Username is required");return}if(!_.email.trim()){m("Email is required");return}if(!_.password.trim()){m("Password is required");return}if(_.password.length<12){m("Password must be at least 12 characters long");return}const X=await fe.createUser(_);await F(),v(!1),H({username:"",email:"",password:"",role:"viewer",first_name:"",last_name:""}),h(`User "${_.username}" created successfully!`),setTimeout(()=>h(null),3e3)}catch(X){const q=X instanceof Error?X.message:"Failed to create user";m(q)}finally{P(!1)}},B=async X=>{try{m(null),console.log("Deleting user:",X),await fe.deleteUser(X),console.log("User deleted successfully"),await F(),L({isOpen:!1}),h("User deleted successfully!"),setTimeout(()=>h(null),3e3)}catch(q){console.error("Delete user error:",q),m("Failed to delete user"),L({isOpen:!1})}},ee=X=>{L({isOpen:!0,user:X})},ce=async X=>{try{P(!0),m(null),h(null);const q={username:X.username,email:X.email,password:X.password,role:X.role,first_name:"",last_name:"",is_temporary:X.userType==="temporary",expiration_datetime:X.expirationDateTime,location_ids:X.selectedLocationIds};await fe.createUser(q),await F(),h("User created successfully!"),setTimeout(()=>h(null),3e3),j(!1)}catch(q){m(q.response?.data?.detail||"Failed to create user")}finally{P(!1)}},je=()=>{L({isOpen:!1})},Ee=X=>{switch(X){case"admin":return"Administrator";case"contributor":return"Contributor";case"viewer":return"Viewer";default:return X}},te=X=>{switch(X){case"admin":return"bg-purple-100 text-purple-800";case"contributor":return"bg-blue-100 text-blue-800";case"viewer":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},we=(X=>{let q=0;return X.length>=12&&q++,/[A-Z]/.test(X)&&q++,/[a-z]/.test(X)&&q++,/\d/.test(X)&&q++,/[!@#$%^&*(),.?":{}|<>]/.test(X)&&q++,q<3?{strength:"Weak",color:"text-red-600"}:q<4?{strength:"Fair",color:"text-yellow-600"}:q<5?{strength:"Good",color:"text-blue-600"}:{strength:"Strong",color:"text-green-600"}})(_.password);return W?o?r.jsxs("div",{className:"flex items-center justify-center p-8",children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),r.jsx("span",{className:"ml-2",children:"Loading users..."})]}):r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(Ns,{className:"h-6 w-6 text-blue-600"}),r.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"User Management"})]}),V("add_user")&&r.jsxs("button",{onClick:()=>j(!0),className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[r.jsx(cr,{className:"h-4 w-4"}),r.jsx("span",{children:"Create User"})]})]}),f&&r.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(vt,{className:"h-5 w-5 text-green-600 mr-2"}),r.jsx("span",{className:"text-green-800",children:f})]})}),d&&r.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(pt,{className:"h-5 w-5 text-red-600 mr-2"}),r.jsx("span",{className:"text-red-800",children:d})]})}),r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:[r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"User"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Role"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:s.map(X=>r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"px-6 py-4",children:r.jsx("div",{className:"text-sm font-medium text-gray-900",children:X.username})}),r.jsx("td",{className:"px-6 py-4",children:r.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-medium rounded-full ${te(X.role)}`,children:Ee(X.role)})}),r.jsx("td",{className:"px-6 py-4",children:X.id!==W.id&&V("delete_user")&&r.jsx("button",{onClick:()=>ee(X),className:"text-red-600 hover:text-red-800 p-1 rounded hover:bg-red-50",title:"Delete user",children:r.jsx(Ss,{className:"h-4 w-4"})})})]},X.id))})]}),s.length===0&&!o&&r.jsxs("div",{className:"px-6 py-12 text-center",children:[r.jsx(Ns,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No users found"}),r.jsx("p",{className:"text-gray-500 mb-4",children:"Get started by creating your first user."}),V("add_user")&&r.jsxs("button",{onClick:()=>v(!0),className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors mx-auto",children:[r.jsx(cr,{className:"h-4 w-4"}),r.jsx("span",{children:"Create First User"})]})]})]}),y&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md mx-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Create New User"}),r.jsx("button",{onClick:()=>{v(!1),m(null),H({username:"",email:"",password:"",role:"viewer",first_name:"",last_name:""})},className:"text-gray-400 hover:text-gray-600",children:""})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Username *"}),r.jsx("input",{type:"text",value:_.username,onChange:X=>H({..._,username:X.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter username",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address *"}),r.jsx("input",{type:"email",value:_.email,onChange:X=>H({..._,email:X.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter email address",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Password *"}),r.jsx("input",{type:"password",value:_.password,onChange:X=>H({..._,password:X.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter password",minLength:12,required:!0}),_.password&&r.jsxs("div",{className:"mt-1 flex items-center space-x-2",children:[r.jsx("span",{className:"text-xs text-gray-500",children:"Strength:"}),r.jsx("span",{className:`text-xs font-medium ${we.color}`,children:we.strength})]}),r.jsx("div",{className:"mt-1 text-xs text-gray-500",children:"Must be 12+ characters with uppercase, lowercase, numbers, and symbols"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Role *"}),r.jsxs("select",{value:_.role,onChange:X=>H({..._,role:X.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[r.jsx("option",{value:"viewer",children:"Viewer"}),r.jsx("option",{value:"contributor",children:"Contributor"}),r.jsx("option",{value:"admin",children:"Administrator"})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"First Name"}),r.jsx("input",{type:"text",value:_.first_name,onChange:X=>H({..._,first_name:X.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"First name"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Last Name"}),r.jsx("input",{type:"text",value:_.last_name,onChange:X=>H({..._,last_name:X.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Last name"})]})]})]}),r.jsxs("div",{className:"flex space-x-3 mt-6",children:[r.jsx("button",{onClick:()=>{v(!1),m(null),H({username:"",email:"",password:"",role:"viewer",first_name:"",last_name:""})},className:"flex-1 px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50",disabled:b,children:"Cancel"}),r.jsx("button",{onClick:re,disabled:b||we.strength==="Weak"||!_.username||!_.email||!_.password,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-md text-sm font-medium hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:b?r.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),r.jsx("span",{children:"Creating..."})]}):"Create User"})]})]})}),k.isOpen&&k.user&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md mx-4",children:[r.jsxs("div",{className:"flex items-center space-x-4 mb-4",children:[r.jsx("div",{className:"p-3 bg-red-100 rounded-full",children:r.jsx(pt,{className:"h-6 w-6 text-red-600"})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Delete User"}),r.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:['Are you sure you want to delete "',k.user.username,'"? This action cannot be undone.']})]})]}),r.jsxs("div",{className:"flex justify-end space-x-3",children:[r.jsx("button",{onClick:je,className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50 transition-colors",children:"Cancel"}),r.jsx("button",{onClick:()=>B(k.user.id),className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 transition-colors",children:"Delete User"})]})]})}),g&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4 animate-fadeIn",onClick:()=>j(!1),children:r.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-5xl max-h-[90vh] overflow-y-auto animate-scaleIn",onClick:X=>X.stopPropagation(),children:[r.jsxs("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-6 py-4 flex items-center justify-between rounded-t-xl z-10",children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Create New User"}),r.jsx("button",{onClick:()=>j(!1),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:r.jsx(He,{className:"h-6 w-6 text-gray-500"})})]}),r.jsx("div",{className:"p-6",children:r.jsx(Bg,{locations:T,onSubmit:ce,onClose:()=>j(!1)})})]})})]}):r.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6 text-center",children:[r.jsx(Ns,{className:"h-12 w-12 text-red-400 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-red-900 mb-2",children:"Authentication Required"}),r.jsx("p",{className:"text-red-700",children:"Please log in to view users."})]})}function Vg(){const[s,l]=x.useState({}),[o,c]=x.useState(!0),[d,m]=x.useState(!1),[f,h]=x.useState(null),[y,v]=x.useState(null),[g,j]=x.useState(!1),[T,D]=x.useState({}),{user:k}=wt();x.useEffect(()=>{L()},[]);const L=async()=>{try{c(!0),h(null);const V=await fe.getPermissionsMatrix();l(V),D(JSON.parse(JSON.stringify(V))),j(!1)}catch{h("Failed to load permissions matrix")}finally{c(!1)}},b=(V,W,F,J)=>{F!=="admin"&&(l(re=>{const B={...re},ee=B[V];if(ee){const ce=ee.permissions.find(je=>je.id===W);ce&&(ce.roles={...ce.roles,[F]:J})}return B}),j(!0),v(null),h(null))},P=async()=>{try{m(!0),h(null);const V=[];for(const[W,F]of Object.entries(s)){const J=T[W];if(J)for(const re of F.permissions){const B=J.permissions.find(ee=>ee.id===re.id);if(B)for(const[ee,ce]of Object.entries(re.roles)){if(ee==="admin")continue;const je=B.roles[ee];ce!==je&&V.push({permissionId:re.id,role:ee,granted:ce,permissionName:re.name})}}}console.log(" RolePermissions: Saving changes:",V);for(const W of V)await fe.updateRolePermission(W.role,W.permissionId,W.granted);D(JSON.parse(JSON.stringify(s))),j(!1),v(`Successfully updated ${V.length} permission(s)`),setTimeout(()=>v(null),3e3)}catch(V){console.error(" RolePermissions: Save error:",V),h("Failed to save permission changes")}finally{m(!1)}},_=()=>{l(JSON.parse(JSON.stringify(T))),j(!1),h(null),v(null)},H=V=>{switch(V){case"page":return"bg-purple-100 text-purple-800";case"action":return"bg-blue-100 text-blue-800";case"view":return"bg-green-100 text-green-800";case"edit":return"bg-yellow-100 text-yellow-800";case"delete":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};return o?r.jsxs("div",{className:"flex items-center justify-center p-8",children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),r.jsx("span",{className:"ml-2",children:"Loading permissions..."})]}):r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(or,{className:"h-6 w-6 text-blue-600"}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Role Permissions"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Configure what each user role can access and modify"})]})]}),g&&r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsxs("button",{onClick:_,className:"flex items-center space-x-2 px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:[r.jsx(Eg,{className:"h-4 w-4"}),r.jsx("span",{children:"Reset"})]}),r.jsxs("button",{onClick:P,disabled:d,className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50",children:[r.jsx(at,{className:"h-4 w-4"}),r.jsx("span",{children:d?"Saving...":"Save Changes"})]})]})]}),y&&r.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(vt,{className:"h-5 w-5 text-green-600 mr-2"}),r.jsx("span",{className:"text-green-800",children:y})]})}),f&&r.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(pt,{className:"h-5 w-5 text-red-600 mr-2"}),r.jsx("span",{className:"text-red-800",children:f})]})}),r.jsx("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-4",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(kn,{className:"h-4 w-4 text-purple-600"}),r.jsx("span",{className:"text-sm font-medium text-purple-800",children:"Administrator permissions are locked and cannot be modified for security reasons."})]})}),r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:[r.jsxs("div",{className:"p-6 border-b border-gray-200",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Permissions Matrix"}),r.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Check the boxes to grant permissions to each role. Administrator permissions are locked for security."})]}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Permission"}),r.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-purple-600 uppercase tracking-wider",children:r.jsxs("div",{className:"flex items-center justify-center space-x-1",children:[r.jsx(kn,{className:"h-3 w-3"}),r.jsx("span",{children:"Administrator"})]})}),r.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-blue-600 uppercase tracking-wider",children:"Contributor"}),r.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-green-600 uppercase tracking-wider",children:"Viewer"})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:Object.entries(s).map(([V,W])=>r.jsxs(lm.Fragment,{children:[r.jsx("tr",{className:"bg-gray-50",children:r.jsx("td",{colSpan:4,className:"px-6 py-3",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(or,{className:"h-4 w-4 text-gray-600"}),r.jsx("span",{className:"font-medium text-gray-900",children:V}),W.description&&r.jsxs("span",{className:"text-sm text-gray-500",children:["- ",W.description]})]})})}),W.permissions.map(F=>r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"px-6 py-4",children:r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("span",{className:"text-sm font-medium text-gray-900",children:F.name}),r.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-medium rounded-full ${H(F.type)}`,children:F.type})]}),F.description&&r.jsx("div",{className:"text-sm text-gray-500 mt-1",children:F.description}),r.jsxs("div",{className:"text-xs text-gray-400 mt-1",children:["Code: ",F.code]})]})}),r.jsx("td",{className:"px-4 py-4 text-center",children:r.jsx("div",{className:"flex items-center justify-center",children:r.jsx("input",{type:"checkbox",checked:F.roles.admin,disabled:!0,className:"rounded border-gray-300 text-purple-600 opacity-50 cursor-not-allowed"})})}),r.jsx("td",{className:"px-4 py-4 text-center",children:r.jsx("label",{className:"inline-flex items-center",children:r.jsx("input",{type:"checkbox",checked:F.roles.contributor,onChange:J=>b(V,F.id,"contributor",J.target.checked),className:"rounded border-gray-300 text-blue-600 focus:ring-2 focus:ring-blue-500"})})}),r.jsx("td",{className:"px-4 py-4 text-center",children:r.jsx("label",{className:"inline-flex items-center",children:r.jsx("input",{type:"checkbox",checked:F.roles.viewer,onChange:J=>b(V,F.id,"viewer",J.target.checked),className:"rounded border-gray-300 text-green-600 focus:ring-2 focus:ring-green-500"})})})]},F.id))]},V))})]})}),Object.keys(s).length===0&&r.jsxs("div",{className:"p-8 text-center",children:[r.jsx(or,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Permissions Found"}),r.jsx("p",{className:"text-gray-600",children:"No permissions have been configured yet. Run the setup command to create default permissions."})]})]}),r.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[r.jsx("h4",{className:"text-sm font-medium text-blue-900 mb-3",children:"Permission Types:"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-medium rounded-full bg-purple-100 text-purple-800",children:"page"}),r.jsx("span",{className:"text-blue-800",children:"Controls access to entire pages/tabs"})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-medium rounded-full bg-blue-100 text-blue-800",children:"action"}),r.jsx("span",{className:"text-blue-800",children:"Controls specific buttons and actions"})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-medium rounded-full bg-green-100 text-green-800",children:"view"}),r.jsx("span",{className:"text-blue-800",children:"Controls data visibility"})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-medium rounded-full bg-yellow-100 text-yellow-800",children:"edit"}),r.jsx("span",{className:"text-blue-800",children:"Controls editing capabilities"})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-medium rounded-full bg-red-100 text-red-800",children:"delete"}),r.jsx("span",{className:"text-blue-800",children:"Controls deletion capabilities"})]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-4",children:[r.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[r.jsx(kn,{className:"h-4 w-4 text-purple-600"}),r.jsx("h4",{className:"font-medium text-purple-900",children:"Administrator"})]}),r.jsx("p",{className:"text-sm text-purple-800",children:"Full system access. All permissions are granted and cannot be modified for security reasons."})]}),r.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[r.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:"Contributor"}),r.jsx("p",{className:"text-sm text-blue-800",children:"Can create and edit facilities, tanks, and permits. Cannot delete or manage users."})]}),r.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[r.jsx("h4",{className:"font-medium text-green-900 mb-2",children:"Viewer"}),r.jsx("p",{className:"text-sm text-green-800",children:"Read-only access to view facilities, tanks, and permits. Cannot make any changes."})]})]})]})}function Wg(){const[s,l]=x.useState("users"),{user:o}=wt(),c=[{id:"users",label:"User Management"},{id:"permissions",label:"Role Permissions"}];if(!o||!o.is_superuser&&o.role!=="admin")return r.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6 text-center",children:[r.jsx(or,{className:"h-12 w-12 text-red-400 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-red-900 mb-2",children:"Access Denied"}),r.jsx("p",{className:"text-red-700",children:"You don't have permission to access the admin dashboard."})]});const d=()=>{switch(s){case"users":return r.jsx(Hg,{});case"permissions":return r.jsx(Vg,{});default:return null}};return r.jsxs("div",{className:"space-y-6",children:[r.jsx("div",{className:"flex items-center justify-between",children:r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Admin "}),r.jsx("p",{className:"text-gray-600 mt-1",children:"Manage users, roles, and system settings"})]})}),r.jsx(Ai,{tabs:c,activeTab:s,onTabChange:l}),r.jsx("div",{className:"min-h-[600px]",children:d()})]})}function qg(){const s=Qt(),[l,o]=Sx(),[c,d]=x.useState(!1),m=s.state?.defaultView||"locations",[f,h]=x.useState(m),[y,v]=x.useState(null),[g,j]=x.useState(0),{hasPermission:T,user:D}=wt();x.useEffect(()=>{const P=l.get("locationId"),_=l.get("tab");P?k(P):v(null),_?h(_):P&&h("dashboard")},[l]),x.useEffect(()=>{const P=()=>{j(_=>_+1)};return window.addEventListener("location:created",P),()=>{window.removeEventListener("location:created",P)}},[]);const k=async P=>{try{const V=(await fe.getLocations()).results.find(W=>W.id.toString()===P);V&&v(V)}catch(_){console.error("Failed to load location:",_)}},L=P=>{o(P?{locationId:P.id.toString()}:{})},b=P=>{h(P);const _=l.get("locationId");o(_&&P!=="dashboard"&&P!=="admin"&&P!=="locations"?{locationId:_,tab:P}:_&&P==="dashboard"?{locationId:_}:{})};return r.jsxs("div",{className:"flex h-screen bg-gray-50",children:[r.jsx(_g,{collapsed:c,activeView:f,onViewChange:b,onToggleSidebar:()=>d(!c)}),r.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[r.jsx(Pg,{selectedFacility:y,onFacilitySelect:L,onViewChange:b,refreshKey:g}),r.jsx("main",{className:"flex-1 overflow-auto",children:f==="admin"&&(D?.is_superuser||T("manage_users"))?r.jsx(Wg,{}):r.jsx($g,{activeView:f,selectedFacility:y,refreshKey:g,onViewChange:b})})]})]})}function Kg(){const s=Rr(),[l,o]=x.useState("login"),[c,d]=x.useState(""),[m,f]=x.useState(""),[h,y]=x.useState(""),[v,g]=x.useState(!1),[j,T]=x.useState(""),[D,k]=x.useState(""),[L,b]=x.useState(!1),{login:P,requestPasswordReset:_,isLoading:H,error:V,clearError:W}=wt(),F=async ee=>{ee.preventDefault(),T(""),k(""),W();try{if(l==="login")if(await P({email:c,password:m,totp_token:h}))s("/locations",{replace:!0});else{const je=V||"Login failed. Please check your credentials.";T(je),je.includes("Two-factor authentication token required")&&g(!0)}else l==="forgot"&&(await _({email:c})?k("Password reset instructions have been sent to your email"):T(V||"Password reset request failed"))}catch{T("Operation failed. Please try again.")}},J=()=>{d(""),f(""),y(""),g(!1),T(""),k(""),W()},re=ee=>{J(),o(ee)},B=()=>r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"text-center mb-8",children:[r.jsx("div",{className:"flex items-center justify-center mb-4",children:r.jsx(Yt,{className:"h-12 w-12 text-blue-600"})}),r.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-blue-600 to-orange-500 bg-clip-text text-transparent font-sans",children:" Ramoco Fuels"}),r.jsx("p",{className:"text-gray-600 mt-2",children:"Log in"})]}),r.jsxs("form",{onSubmit:F,className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),r.jsx("input",{id:"email",type:"email",value:c,onChange:ee=>d(ee.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter your email",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),r.jsxs("div",{className:"relative group",children:[r.jsx("input",{id:"password",type:L?"text":"password",value:m,onChange:ee=>f(ee.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent pr-10",placeholder:"Enter your password",required:!0}),r.jsx("button",{type:"button",onClick:()=>b(!L),className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-500 hover:text-gray-700 opacity-0 group-hover:opacity-100 transition-opacity duration-200","aria-label":"Toggle password visibility",children:L?r.jsx(Kt,{className:"h-5 w-5"}):r.jsx(Ot,{className:"h-5 w-5"})})]}),r.jsx("div",{className:"text-right mt-2",children:r.jsx("button",{type:"button",onClick:()=>re("forgot"),className:"text-sm text-blue-600 hover:text-blue-700 hover:underline",children:"Forgot Password?"})})]}),v&&r.jsxs("div",{children:[r.jsx("label",{htmlFor:"totpToken",className:"block text-sm font-medium text-gray-700 mb-2",children:"Two-Factor Authentication Code"}),r.jsx("input",{id:"totpToken",type:"text",value:h,onChange:ee=>y(ee.target.value.replace(/\D/g,"").slice(0,6)),className:"w-full px-3 py-2 text-center text-lg font-mono border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"000000",maxLength:6}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Enter the 6-digit code from your authenticator app or use a backup code"})]}),(j||V)&&r.jsx("div",{className:"text-red-600 text-sm text-center bg-red-50 py-2 px-3 rounded-md",children:j||V}),r.jsxs("button",{type:"submit",disabled:H,className:"w-full flex items-center justify-center px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[r.jsx(kg,{className:"h-4 w-4 mr-2"}),H?"Signing in...":"Sign In"]})]})]});return l==="forgot"?r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100 px-4",children:r.jsxs("div",{className:"max-w-md w-full bg-white rounded-lg shadow-lg p-8",children:[r.jsxs("div",{className:"text-center mb-8",children:[r.jsx("div",{className:"flex items-center justify-center mb-4",children:r.jsx(Yt,{className:"h-12 w-12 text-blue-600"})}),r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Reset Password"}),r.jsx("p",{className:"text-gray-600 mt-2",children:"Enter your email to receive reset instructions"})]}),r.jsxs("form",{onSubmit:F,className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),r.jsx("input",{id:"email",type:"email",value:c,onChange:ee=>d(ee.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter your email",required:!0})]}),(j||V)&&r.jsx("div",{className:"text-red-600 text-sm text-center bg-red-50 py-2 px-3 rounded-md",children:j||V}),r.jsxs("button",{type:"submit",disabled:H,className:"w-full flex items-center justify-center px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[r.jsx(Ti,{className:"h-4 w-4 mr-2"}),H?"Sending...":"Send Reset Instructions"]})]}),r.jsxs("div",{className:"space-y-4",children:[D&&r.jsx("div",{className:"text-green-600 text-sm text-center bg-green-50 py-2 px-3 rounded-md",children:D}),r.jsx("div",{className:"text-center",children:r.jsxs("button",{type:"button",onClick:()=>re("login"),className:"flex items-center justify-center mx-auto text-sm text-gray-600 hover:text-gray-700 hover:underline",children:[r.jsx(mg,{className:"h-4 w-4 mr-1"}),"Back to Sign In"]})})]})]})}):r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100 px-4",children:r.jsx("div",{className:"max-w-md w-full bg-white rounded-lg shadow-lg p-8",children:B()})})}function qa({children:s,requiredPermission:l,fallback:o}){const{isAuthenticated:c,isLoading:d,hasPermission:m}=wt();return d?r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600",children:"Loading..."})]})}):c?l&&!m(l)?r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:r.jsxs("div",{className:"text-center",children:[r.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",children:[r.jsx("strong",{className:"font-bold",children:"Access Denied!"}),r.jsx("span",{className:"block sm:inline",children:" You don't have permission to access this page."})]}),r.jsx(js,{to:"/locations",replace:!0})]})}):r.jsx(r.Fragment,{children:s}):o||r.jsx(js,{to:"/login",replace:!0})}class Yg extends x.Component{constructor(l){super(l),this.state={hasError:!1}}static getDerivedStateFromError(l){return{hasError:!0,error:l}}componentDidCatch(l,o){console.error("ErrorBoundary caught an error:",l,o),this.setState({error:l,errorInfo:o})}handleReload=()=>{window.location.reload()};handleReset=()=>{this.setState({hasError:!1,error:void 0,errorInfo:void 0})};render(){return this.state.hasError?r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 px-4",children:r.jsxs("div",{className:"max-w-md w-full bg-white rounded-lg shadow-lg p-8 text-center",children:[r.jsx("div",{className:"flex items-center justify-center mb-6",children:r.jsx("div",{className:"p-3 bg-red-100 rounded-full",children:r.jsx(pt,{className:"h-8 w-8 text-red-600"})})}),r.jsx("h1",{className:"text-xl font-bold text-gray-900 mb-4",children:"Something went wrong"}),r.jsx("p",{className:"text-gray-600 mb-6",children:"An unexpected error occurred. Please try refreshing the page or contact support if the problem persists."}),!1,r.jsxs("div",{className:"flex space-x-3",children:[r.jsx("button",{onClick:this.handleReset,className:"flex-1 px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50 transition-colors",children:"Try Again"}),r.jsxs("button",{onClick:this.handleReload,className:"flex-1 flex items-center justify-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:[r.jsx(Jm,{className:"h-4 w-4"}),r.jsx("span",{children:"Reload Page"})]})]})]})}):this.props.children}}function Qg(){const{uid:s,token:l}=Dh(),o=Rr(),[c,d]=x.useState(""),[m,f]=x.useState(""),[h,y]=x.useState(!1),[v,g]=x.useState(!1),[j,T]=x.useState(!1),[D,k]=x.useState(""),[L,b]=x.useState(!1),P=async V=>{if(V.preventDefault(),k(""),c!==m){k("Passwords do not match");return}if(c.length<12){k("Password must be at least 12 characters long");return}try{T(!0),await fe.confirmPasswordReset({uidb64:s,token:l,password:c,password_confirm:m}),b(!0),setTimeout(()=>{o("/login?reset=success")},3e3)}catch(W){k(W instanceof Error?W.message:"Password reset failed")}finally{T(!1)}},H=(V=>{let W=0;return V.length>=12&&W++,/[A-Z]/.test(V)&&W++,/[a-z]/.test(V)&&W++,/\d/.test(V)&&W++,/[!@#$%^&*(),.?":{}|<>]/.test(V)&&W++,W<3?{strength:"Weak",color:"text-red-600",bg:"bg-red-100"}:W<4?{strength:"Fair",color:"text-yellow-600",bg:"bg-yellow-100"}:W<5?{strength:"Good",color:"text-blue-600",bg:"bg-blue-100"}:{strength:"Strong",color:"text-green-600",bg:"bg-green-100"}})(c);return L?r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-green-50 to-emerald-100 px-4",children:r.jsxs("div",{className:"max-w-md w-full bg-white rounded-lg shadow-lg p-8 text-center",children:[r.jsx("div",{className:"flex items-center justify-center mb-6",children:r.jsx("div",{className:"p-3 bg-green-100 rounded-full",children:r.jsx(vt,{className:"h-8 w-8 text-green-600"})})}),r.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Password Reset Successful"}),r.jsx("p",{className:"text-gray-600 mb-6",children:"Your password has been reset successfully. You can now log in with your new password."}),r.jsx("p",{className:"text-sm text-gray-500",children:"Redirecting to login page in 3 seconds..."})]})}):r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100 px-4",children:r.jsxs("div",{className:"max-w-md w-full bg-white rounded-lg shadow-lg p-8",children:[r.jsxs("div",{className:"text-center mb-8",children:[r.jsx("div",{className:"flex items-center justify-center mb-4",children:r.jsx(Yt,{className:"h-12 w-12 text-blue-600"})}),r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Reset Your Password"}),r.jsx("p",{className:"text-gray-600 mt-2",children:"Enter your new password below"})]}),r.jsxs("form",{onSubmit:P,className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"New Password"}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{id:"password",type:h?"text":"password",value:c,onChange:V=>d(V.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent pr-10",placeholder:"Enter your new password",required:!0,minLength:12}),r.jsx("button",{type:"button",onClick:()=>y(!h),className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:h?r.jsx(Kt,{className:"h-4 w-4 text-gray-400"}):r.jsx(Ot,{className:"h-4 w-4 text-gray-400"})})]}),c&&r.jsxs("div",{className:"mt-2",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("span",{className:"text-xs text-gray-500",children:"Strength:"}),r.jsx("span",{className:`text-xs font-medium px-2 py-1 rounded ${H.bg} ${H.color}`,children:H.strength})]}),r.jsxs("div",{className:"mt-1 text-xs text-gray-500",children:[r.jsx("p",{children:"Password must contain:"}),r.jsxs("ul",{className:"list-disc list-inside mt-1 space-y-1",children:[r.jsx("li",{className:c.length>=12?"text-green-600":"text-red-600",children:"At least 12 characters"}),r.jsx("li",{className:/[A-Z]/.test(c)?"text-green-600":"text-red-600",children:"Uppercase letter"}),r.jsx("li",{className:/[a-z]/.test(c)?"text-green-600":"text-red-600",children:"Lowercase letter"}),r.jsx("li",{className:/\d/.test(c)?"text-green-600":"text-red-600",children:"Number"}),r.jsx("li",{className:/[!@#$%^&*(),.?":{}|<>]/.test(c)?"text-green-600":"text-red-600",children:"Special character"})]})]})]})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirm New Password"}),r.jsxs("div",{className:"relative",children:[r.jsx("input",{id:"confirmPassword",type:v?"text":"password",value:m,onChange:V=>f(V.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent pr-10",placeholder:"Confirm your new password",required:!0}),r.jsx("button",{type:"button",onClick:()=>g(!v),className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:v?r.jsx(Kt,{className:"h-4 w-4 text-gray-400"}):r.jsx(Ot,{className:"h-4 w-4 text-gray-400"})})]}),m&&c!==m&&r.jsx("p",{className:"text-xs text-red-600 mt-1",children:"Passwords do not match"})]}),D&&r.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(pt,{className:"h-5 w-5 text-red-600 mr-2"}),r.jsx("span",{className:"text-red-800",children:D})]})}),r.jsxs("button",{type:"submit",disabled:j||c!==m||H.strength==="Weak",className:"w-full flex items-center justify-center px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[r.jsx(kn,{className:"h-4 w-4 mr-2"}),j?"Resetting Password...":"Reset Password"]})]}),r.jsx("div",{className:"text-center mt-6",children:r.jsx("button",{onClick:()=>o("/login"),className:"text-sm text-blue-600 hover:text-blue-700 hover:underline",children:"Back to Login"})})]})})}function Gg(){return r.jsx(Yg,{children:r.jsx(ig,{children:r.jsx("div",{className:"min-h-screen bg-gray-50",children:r.jsxs(Gh,{children:[r.jsx(Vr,{path:"/login",element:r.jsx(Kg,{})}),r.jsx(Vr,{path:"/reset-password/:uid/:token",element:r.jsx(Qg,{})}),r.jsx(Vr,{path:"/dashboard/*",element:r.jsx(qa,{children:r.jsx(qg,{})})}),r.jsx(Vr,{path:"/locations",element:r.jsx(qa,{children:r.jsx(js,{to:"/dashboard",state:{defaultView:"locations"},replace:!0})})}),r.jsx(Vr,{path:"/admin",element:r.jsx(qa,{children:r.jsx(js,{to:"/dashboard",state:{defaultView:"admin"},replace:!0})})}),r.jsx(Vr,{path:"/",element:r.jsx(qa,{children:r.jsx(js,{to:"/locations",replace:!0})})})]})})})})}ah.createRoot(document.getElementById("root")).render(r.jsx(x.StrictMode,{children:r.jsx(wx,{children:r.jsx(Gg,{})})}));
